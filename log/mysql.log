  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (26.3ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (13.5ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (15.8ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (22.8ms)[0m  DELETE FROM `iresources`
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (6.2ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (11.8ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (22.7ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `iresources`
  [1m[36mLti2Tp::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (5.9ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (12.4ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (11.7ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `iresources`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.5ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (12.5ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (10.0ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (11.1ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `iresources`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-05-06 10:37:23 -0400
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451", "reg_key"=>"521843b0-d62b-0132-88f3-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"cfcb5a0e0ee127453b269b5f50fcdab84beb6190556f61bed5114f282a7ef2995e1ba13aa15492d81547bfdba0528881658519337dd2b53eba74eba74b6ee902c308e43c997319159a8d68aa11866b9b9c1ac4df8083a51db3014e143fa9ef53be67c17708740b8f1b4830841f3e69a11d01cf80820a1c2df6caa1e12904c008", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (0.8ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-05-06 14:37:23', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '521843b0-d62b-0132-88f3-20c9d07c6451', '6bba0ba13f2b52280d1a9fe2514a3f54', 'received', 'cfcb5a0e0ee127453b269b5f50fcdab84beb6190556f61bed5114f282a7ef2995e1ba13aa15492d81547bfdba0528881658519337dd2b53eba74eba74b6ee902c308e43c997319159a8d68aa11866b9b9c1ac4df8083a51db3014e143fa9ef53be67c17708740b8f1b4830841f3e69a11d01cf80820a1c2df6caa1e12904c008', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"52184910-d62b-0132-88f3-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]}', '2015-05-06 14:37:23', '2')
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=11&return_url=/lti2_tp/registrations
Completed 302 Found in 121ms (ActiveRecord: 32.5ms)
Started GET "/lti_registration_wips?registration_id=11&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-05-06 10:37:23 -0400
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"11", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-05-06 14:37:23', 'Elan/LuMoS', 11, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-05-06 14:37:23')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (173.2ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (183.5ms)
Completed 200 OK in 2706ms (Views: 2665.3ms | ActiveRecord: 21.6ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-05-06 10:37:26 -0400
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-05-06 10:37:26 -0400
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-05-06 10:37:26 -0400
Started PATCH "/lti_registration_wips/10" for 127.0.0.1 at 2015-05-06 10:37:32 -0400
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1037"}, "commit"=>"Update Lti registration wip", "id"=>"10"}
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 10 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1037', `updated_at` = '2015-05-06 14:37:32' WHERE `lti_registration_wips`.`id` = 10
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1037', `updated_at` = '2015-05-06 14:37:32' WHERE `lti2_tp_registrations`.`id` = 11
  [1m[36m (12.3ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 10 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1037' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-05-06 14:37:32', 'Elan University1037', '2015-05-06 14:37:32')
  [1m[36m (11.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '5ac23540-d62b-0132-88f4-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-06T14:37:33Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"521843b0-d62b-0132-88f3-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/52184910-d62b-0132-88f3-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"e663e79541855be557e2953a85c37d44\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-06 14:37:33' WHERE `lti2_tp_registrations`.`id` = 11[0m
  [1m[35m (11.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-05-06 14:37:33' WHERE `lti2_tp_registrations`.`id` = 11
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University1037' AND `tenants`.`id` != 5) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `tenants` SET `secret` = 'e663e79541855be557e2953a85c37d44', `tenant_key` = '521843b0-d62b-0132-88f3-20c9d07c6451', `updated_at` = '2015-05-06 14:37:33' WHERE `tenants`.`id` = 5
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.6ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_id` = 5, `updated_at` = '2015-05-06 14:37:33' WHERE `lti2_tp_registrations`.`id` = 11[0m
  [1m[35m (0.7ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=521843b0-d62b-0132-88f3-20c9d07c6451&&id=11
Completed 302 Found in 233ms (ActiveRecord: 85.8ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=521843b0-d62b-0132-88f3-20c9d07c6451&&id=11" for 127.0.0.1 at 2015-05-06 10:37:33 -0400
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"521843b0-d62b-0132-88f3-20c9d07c6451", "id"=>"11"}
  [1m[36mLti2Tp::Registration Load (0.8ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=521843b0-d62b-0132-88f3-20c9d07c6451
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (12.7ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (8.7ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (12.6ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `iresources`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `iresources`
  [1m[36mLti2Tp::Registry Load (10.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.8ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (29.4ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (27.1ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (19.8ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (25.8ms)[0m  DELETE FROM `iresources`
  [1m[36mLti2Tp::Registry Load (21.5ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (13.0ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (12.8ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (6.5ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `iresources`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `iresources`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mLti2Tp::Registry Load (3.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `iresources`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mLti2Tp::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-05-11 07:36:21 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451", "reg_key"=>"0115cb70-da19-0132-bae2-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"199c40780106bea87eb00f88f9d4d3dd8e6d4046eec7730e13595da81d42441f967922f2785bea6413b39b07ea0b3fee7dd9461df8521096fe25039bde6e2ba5977d9b8d1c3df4b626d22bbb6d69295138f0f033a2bc4a7224c10907869ff01cefea7a4226285176f63d057667727b363c96f3f0197f5fb57834eda6509b7c8d", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (0.7ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-05-11 14:36:21', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '0115cb70-da19-0132-bae2-20c9d07c6451', 'ebacf8ae7b0996ac7baa15a58180290f', 'received', '199c40780106bea87eb00f88f9d4d3dd8e6d4046eec7730e13595da81d42441f967922f2785bea6413b39b07ea0b3fee7dd9461df8521096fe25039bde6e2ba5977d9b8d1c3df4b626d22bbb6d69295138f0f033a2bc4a7224c10907869ff01cefea7a4226285176f63d057667727b363c96f3f0197f5fb57834eda6509b7c8d', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"0116a450-da19-0132-bae2-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]}', '2015-05-11 14:36:21', '2')
  [1m[36m (11.3ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=1&return_url=/lti2_tp/registrations
Completed 302 Found in 174ms (ActiveRecord: 30.8ms)
Started GET "/lti_registration_wips?registration_id=1&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-05-11 07:36:21 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"1", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.7ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-05-11 14:36:21', 'Elan/LuMoS', 1, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-05-11 14:36:21')
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (144.4ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (151.5ms)
Completed 200 OK in 265ms (Views: 223.5ms | ActiveRecord: 26.3ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-05-11 07:36:21 -0700
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-05-11 07:36:21 -0700
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-05-11 07:36:21 -0700
Started GET "/assets/fabericious.png" for 127.0.0.1 at 2015-05-11 07:36:21 -0700
Started PATCH "/lti_registration_wips/1" for 127.0.0.1 at 2015-05-11 07:36:27 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University736"}, "commit"=>"Update Lti registration wip", "id"=>"1"}
  [1m[35mLtiRegistrationWip Load (0.4ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University736', `updated_at` = '2015-05-11 14:36:27' WHERE `lti_registration_wips`.`id` = 1
  [1m[36m (11.6ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University736', `updated_at` = '2015-05-11 14:36:27' WHERE `lti2_tp_registrations`.`id` = 1
  [1m[36m (11.0ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.4ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 1 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.6ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (23.6ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University736' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-05-11 14:36:27', 'Elan University736', '2015-05-11 14:36:27')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '080b8580-da19-0132-bae3-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-11T14:36:27Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"0115cb70-da19-0132-bae2-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0116a450-da19-0132-bae2-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"ea29dd5ea952c974f2040767b4685edb\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-11 14:36:27' WHERE `lti2_tp_registrations`.`id` = 1[0m
  [1m[35m (12.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-05-11 14:36:28' WHERE `lti2_tp_registrations`.`id` = 1
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mTenant Exists (12.8ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University736' AND `tenants`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `tenants` SET `secret` = 'ea29dd5ea952c974f2040767b4685edb', `tenant_key` = '0115cb70-da19-0132-bae2-20c9d07c6451', `updated_at` = '2015-05-11 14:36:28' WHERE `tenants`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_id` = 1, `updated_at` = '2015-05-11 14:36:28' WHERE `lti2_tp_registrations`.`id` = 1[0m
  [1m[35m (0.5ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=0115cb70-da19-0132-bae2-20c9d07c6451&&id=1
Completed 302 Found in 356ms (ActiveRecord: 96.0ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=0115cb70-da19-0132-bae2-20c9d07c6451&&id=1" for 127.0.0.1 at 2015-05-11 07:36:28 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"0115cb70-da19-0132-bae2-20c9d07c6451", "id"=>"1"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 1 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=0115cb70-da19-0132-bae2-20c9d07c6451
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
Started POST "/echoes" for 127.0.0.1 at 2015-05-11 07:36:54 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"4", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "oauth_consumer_key"=>"0115cb70-da19-0132-bae2-20c9d07c6451", "oauth_nonce"=>"3566058202931", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1431355014", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"GElEfrsujHf2p7NfaCPihsMjd40="}
AuthHdr_Parms: {}
  [1m[35mTenant Load (0.4ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '0115cb70-da19-0132-bae2-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 1  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.4ms)
Completed 200 OK in 23ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[36mLti2Tp::Registry Load (24.7ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-05-11 16:38:25 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451", "reg_key"=>"ac89de40-da64-0132-d246-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"2ad6054aeea72826aebbb49e69fcf0044ad63941600cbadc4107721c06087dc89a6b71b42ef1da80363b06f4e3b8670730338d6528f0683a7b040394d50dc2aa9f97a9248c866285b3b0c89601051c050da68f31c4dd78a3c92503088f8cf3d3f0a063c53832a3e2cbb3859838bebb834c1a30ac06073c32f8f45f6ae4aeecfe", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (0.3ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-05-11 23:38:26', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'ac89de40-da64-0132-d246-20c9d07c6451', 'beb5231039bf71dc5053932b3f4fcd08', 'received', '2ad6054aeea72826aebbb49e69fcf0044ad63941600cbadc4107721c06087dc89a6b71b42ef1da80363b06f4e3b8670730338d6528f0683a7b040394d50dc2aa9f97a9248c866285b3b0c89601051c050da68f31c4dd78a3c92503088f8cf3d3f0a063c53832a3e2cbb3859838bebb834c1a30ac06073c32f8f45f6ae4aeecfe', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"ac8aa670-da64-0132-d246-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]}', '2015-05-11 23:38:26', '2')
  [1m[36m (10.9ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=2&return_url=/lti2_tp/registrations
Completed 302 Found in 119ms (ActiveRecord: 43.8ms)
Started GET "/lti_registration_wips?registration_id=2&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-05-11 16:38:26 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"2", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-05-11 23:38:26', 'Elan/LuMoS', 2, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-05-11 23:38:26')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (110.7ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (117.1ms)
Completed 200 OK in 218ms (Views: 177.2ms | ActiveRecord: 28.3ms)
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-05-11 16:38:26 -0700
Started PATCH "/lti_registration_wips/2" for 127.0.0.1 at 2015-05-11 16:39:04 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University438"}, "commit"=>"Update Lti registration wip", "id"=>"2"}
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University438', `updated_at` = '2015-05-11 23:39:04' WHERE `lti_registration_wips`.`id` = 2
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (11.9ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University438', `updated_at` = '2015-05-11 23:39:04' WHERE `lti2_tp_registrations`.`id` = 2
  [1m[36m (5.6ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 2 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (24.1ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University438' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-05-11 23:39:04', 'Elan University438', '2015-05-11 23:39:04')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (18.9ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = 'd575cd20-da64-0132-d247-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-11T23:39:04Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"ac89de40-da64-0132-d246-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ac8aa670-da64-0132-d246-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"7337946f6c3c370ad9582750c0cb1214\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-11 23:39:04' WHERE `lti2_tp_registrations`.`id` = 2[0m
  [1m[35m (5.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-05-11 23:39:05' WHERE `lti2_tp_registrations`.`id` = 2
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (5.7ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University438' AND `tenants`.`id` != 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `tenants` SET `secret` = '7337946f6c3c370ad9582750c0cb1214', `tenant_key` = 'ac89de40-da64-0132-d246-20c9d07c6451', `updated_at` = '2015-05-11 23:39:05' WHERE `tenants`.`id` = 2
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_id` = 2, `updated_at` = '2015-05-11 23:39:05' WHERE `lti2_tp_registrations`.`id` = 2[0m
  [1m[35m (0.6ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=ac89de40-da64-0132-d246-20c9d07c6451&&id=2
Completed 302 Found in 369ms (ActiveRecord: 116.8ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=ac89de40-da64-0132-d246-20c9d07c6451&&id=2" for 127.0.0.1 at 2015-05-11 16:39:05 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"ac89de40-da64-0132-d246-20c9d07c6451", "id"=>"2"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 2 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=ac89de40-da64-0132-d246-20c9d07c6451
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (26.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mSQL (15.0ms)[0m  [1mDELETE FROM `lti2_tp_registrations`[0m
  [1m[35mSQL (10.1ms)[0m  DELETE FROM `lti_registration_wips`
  [1m[36mSQL (10.6ms)[0m  [1mDELETE FROM `tenants`[0m
  [1m[35mSQL (24.8ms)[0m  DELETE FROM `iresources`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-05-12 14:08:11 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451", "reg_key"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"cc43928f4a5720a12b1413cac0249779165aa2fe4ed4f0035004d6e5b2620ec948ae0ca0d09b6f13d82a40a7e8064c50533525a9fe7e8b7e986649847ab1ca103de4793975934d4b7f260cd54a43e0bc4087cca89f5529a19f489ea771e0feb04144c46b8b7ec5601ed472ca7eade3d0200446683a0ac288e18e075d32d10092", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (0.2ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-05-12 21:08:11', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'e8dbba20-db18-0132-d251-20c9d07c6451', '8791c6de73b8d68b2ad034707933a5c9', 'received', 'cc43928f4a5720a12b1413cac0249779165aa2fe4ed4f0035004d6e5b2620ec948ae0ca0d09b6f13d82a40a7e8064c50533525a9fe7e8b7e986649847ab1ca103de4793975934d4b7f260cd54a43e0bc4087cca89f5529a19f489ea771e0feb04144c46b8b7ec5601ed472ca7eade3d0200446683a0ac288e18e075d32d10092', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"e8dbc090-db18-0132-d251-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]}', '2015-05-12 21:08:11', '2')
  [1m[36m (10.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=3&return_url=/lti2_tp/registrations
Completed 302 Found in 113ms (ActiveRecord: 32.8ms)
Started GET "/lti_registration_wips?registration_id=3&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-05-12 14:08:11 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"3", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-05-12 21:08:11', 'Elan/LuMoS', 3, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-05-12 21:08:11')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (121.6ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (126.7ms)
Completed 200 OK in 224ms (Views: 191.1ms | ActiveRecord: 20.4ms)
Started PATCH "/lti_registration_wips/3" for 127.0.0.1 at 2015-05-12 14:08:17 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University208"}, "commit"=>"Update Lti registration wip", "id"=>"3"}
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 3 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University208', `updated_at` = '2015-05-12 21:08:17' WHERE `lti_registration_wips`.`id` = 3
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 3 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University208', `updated_at` = '2015-05-12 21:08:17' WHERE `lti2_tp_registrations`.`id` = 3
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 3 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University208' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-05-12 21:08:17', 'Elan University208', '2015-05-12 21:08:17')
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = 'ef3c4510-db18-0132-d252-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-12T21:08:17Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"e8dbba20-db18-0132-d251-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"0d079fe2ce4668bd9dd778fe4fe2fb61\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-12 21:08:17' WHERE `lti2_tp_registrations`.`id` = 3[0m
  [1m[35m (12.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-05-12 21:08:17' WHERE `lti2_tp_registrations`.`id` = 3
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mTenant Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University208' AND `tenants`.`id` != 3) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `tenants` SET `secret` = '0d079fe2ce4668bd9dd778fe4fe2fb61', `tenant_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451', `updated_at` = '2015-05-12 21:08:17' WHERE `tenants`.`id` = 3
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_id` = 3, `updated_at` = '2015-05-12 21:08:17' WHERE `lti2_tp_registrations`.`id` = 3[0m
  [1m[35m (5.0ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=e8dbba20-db18-0132-d251-20c9d07c6451&&id=3
Completed 302 Found in 340ms (ActiveRecord: 71.6ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=e8dbba20-db18-0132-d251-20c9d07c6451&&id=3" for 127.0.0.1 at 2015-05-12 14:08:17 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "id"=>"3"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 3 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=e8dbba20-db18-0132-d251-20c9d07c6451
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
Started POST "/iresources" for 127.0.0.1 at 2015-05-12 14:08:48 -0700
Processing by IresourcesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"25", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_vbid"=>"L-999-74180", "custom_result_uri"=>"http://rails.kinexis.com:4000/results/1", "oauth_consumer_key"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "oauth_nonce"=>"9498666833302", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1431464928", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"w7inxXdUhGmOuT5/OglKCBGpqbA="}
AuthHdr_Parms: {}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 3  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {}
in verify_signature
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `iresources` (`created_at`, `tenant_id`, `updated_at`) VALUES ('2015-05-12 21:08:48', 3, '2015-05-12 21:08:48')[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `iresources` SET `contextid` = '2', `result_uri` = 'http://rails.kinexis.com:4000/results/1', `updated_at` = '2015-05-12 21:08:48', `userid` = '2' WHERE `iresources`.`id` = 1
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  Rendered iresources/_form.html.haml (13.7ms)
  Rendered iresources/create.html.haml within layouts/application (16.4ms)
Completed 200 OK in 91ms (Views: 21.5ms | ActiveRecord: 39.2ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-05-12 14:08:48 -0700
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-05-12 14:08:48 -0700
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-05-12 14:08:48 -0700
Started GET "/assets/fabericious.png" for 127.0.0.1 at 2015-05-12 14:08:48 -0700
Started PATCH "/iresources/1" for 127.0.0.1 at 2015-05-12 14:08:54 -0700
Processing by IresourcesController#update as HTML
  Parameters: {"utf8"=>"✓", "iresource"=>{"score"=>".57"}, "commit"=>"Update Iresource", "id"=>"1"}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`id` = 3 LIMIT 1
  [1m[36mIresource Load (0.2ms)[0m  [1mSELECT  `iresources`.* FROM `iresources`  WHERE `iresources`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `iresources` SET `score` = 0.57, `updated_at` = '2015-05-12 21:08:54' WHERE `iresources`.`id` = 1[0m
  [1m[35m (5.9ms)[0m  COMMIT
Redirected to http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2
Completed 302 Found in 40ms (ActiveRecord: 6.8ms)
Started POST "/settings" for 127.0.0.1 at 2015-05-12 14:09:22 -0700
Processing by SettingsController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"19", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_tool_proxy_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451", "custom_tool_proxy_binding_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451/context/2", "custom_lti_link_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451/ltilink/19", "oauth_consumer_key"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "oauth_nonce"=>"4576225709378", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1431464962", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"yD9hdDdgRgyVLp/gT1MWal9AAX4="}
PrePreProcessTenant
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.4ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 3  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.4ms)
Completed 200 OK in 59ms (Views: 1.1ms | ActiveRecord: 0.9ms)
Started POST "/settings" for 127.0.0.1 at 2015-05-12 14:09:30 -0700
Processing by SettingsController#create as HTML
  Parameters: {"registration_id"=>"3", "custom_tool_proxy_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451", "custom_tool_proxy_binding_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451/context/2", "custom_lti_link_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/e8dbba20-db18-0132-d251-20c9d07c6451/ltilink/19", "toolproxy"=>"client=k12", "toolproxybinding"=>"", "ltilink"=>""}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 3 LIMIT 1[0m
  [1m[35mTenant Load (0.2ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`id` = 3 LIMIT 1
  Rendered text template (0.0ms)
Completed 200 OK in 61ms (Views: 1.6ms | ActiveRecord: 0.6ms)
Started POST "/echoes" for 127.0.0.1 at 2015-05-12 14:09:45 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"22", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "custom_client"=>"k12", "oauth_consumer_key"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "oauth_nonce"=>"7563545787623", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1431464985", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"oz2CNukDr/XK4LFRnm76Ld0aKvs="}
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.4ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 3  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.4ms)
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.9ms)
Started POST "/lti2_tp/reregistrations" for 127.0.0.1 at 2015-05-12 14:10:31 -0700
Processing by Lti2Tp::RegistrationsController#reregister as HTML
  Parameters: {"tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "lti_message_type"=>"ToolProxyReregistrationRequest", "oauth_consumer_key"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "oauth_nonce"=>"3046567632322", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1431465031", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"D9aJuSXnUP7xcloo1ITnIk2USyA="}
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.4ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 3  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_name` = 'Elan University208'  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
  [1m[35mTenant Load (0.6ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`id` = 3 LIMIT 1
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`  WHERE `lti2_tp_tools`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `message_type` = 'reregistration', `reg_password` = '0d079fe2ce4668bd9dd778fe4fe2fb61', `status` = 'received', `updated_at` = '2015-05-12 21:10:31' WHERE `lti2_tp_registrations`.`id` = 3[0m
  [1m[35m (11.5ms)[0m  COMMIT
Redirected to http://rails.kinexis.com:5000/lti_registration_wips?registration_id=3&return_url=/lti2_tp/registrations
Completed 302 Found in 47ms (ActiveRecord: 14.2ms)
Started GET "/lti_registration_wips?registration_id=3&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-05-12 14:10:31 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"3", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-05-12 21:10:31', 'Elan/LuMoS', 3, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University208', '2015-05-12 21:10:31')[0m
  [1m[35m (11.6ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (10.4ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (10.7ms)
Completed 200 OK in 28ms (Views: 12.6ms | ActiveRecord: 12.4ms)
Started PATCH "/lti_registration_wips/4" for 127.0.0.1 at 2015-05-12 14:10:33 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University208"}, "commit"=>"Update Lti registration wip", "id"=>"4"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 3 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 4 LIMIT 1[0m  [["id", "4"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 3 LIMIT 1  [["id", 3]]
  [1m[36mTenant Load (0.2ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_name` = 'Elan University208'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '402a0c10-db19-0132-d252-20c9d07c6451', `proposed_tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-12T21:10:33Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"e8dbba20-db18-0132-d251-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"ceaf4ecd890151e8cebcecda8f16805b\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-12 21:10:33' WHERE `lti2_tp_registrations`.`id` = 3[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'reregistered', `updated_at` = '2015-05-12 21:10:33' WHERE `lti2_tp_registrations`.`id` = 3
  [1m[36m (11.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University208' AND `tenants`.`id` != 3) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  COMMIT
Redirected to http://rails.kinexis.com:5000/lti2_tp/registrations?status=success&&id=3
Completed 302 Found in 72ms (ActiveRecord: 20.4ms)
Started GET "/lti2_tp/registrations?status=success&&id=3" for 127.0.0.1 at 2015-05-12 14:10:33 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "id"=>"3"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 3 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
Started PUT "/lti2_tp/tool_proxies/e8dbba20-db18-0132-d251-20c9d07c6451?correlation=402a0c10-db19-0132-d252-20c9d07c6451" for 127.0.0.1 at 2015-05-12 14:10:34 -0700
Processing by Lti2Tp::RegistrationsController#complete_reregistration as HTML
  Parameters: {"correlation"=>"402a0c10-db19-0132-d252-20c9d07c6451", "id"=>"e8dbba20-db18-0132-d251-20c9d07c6451"}
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"2361775652731", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431465034", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_signature=>"rWRejrGhlxxOkeCPxJdJEW+iXNw="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 3  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"e8dbba20-db18-0132-d251-20c9d07c6451", :oauth_nonce=>"2361775652731", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1431465034", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_signature=>"rWRejrGhlxxOkeCPxJdJEW+iXNw="}
in verify_signature
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_name` = 'Elan University208'  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 3  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
  [1m[35mTenant Load (0.5ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`id` = 3 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.3ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University208' AND `tenants`.`id` != 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `tenants` SET `secret` = 'ceaf4ecd890151e8cebcecda8f16805b', `updated_at` = '2015-05-12 21:10:34' WHERE `tenants`.`id` = 3[0m
  [1m[35m (5.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = NULL, `proposed_tool_proxy_json` = NULL, `reg_password` = 'ceaf4ecd890151e8cebcecda8f16805b', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-12T21:10:33Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"e8dbba20-db18-0132-d251-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e8dbc090-db18-0132-d251-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"ceaf4ecd890151e8cebcecda8f16805b\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-12 21:10:34' WHERE `lti2_tp_registrations`.`id` = 3
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
"reregistration complete for e8dbba20-db18-0132-d251-20c9d07c6451"
  Rendered text template (0.0ms)
Completed 200 OK in 23ms (Views: 0.5ms | ActiveRecord: 13.9ms)
Started POST "/echoes" for 127.0.0.1 at 2015-05-12 14:10:43 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"22", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "custom_client"=>"k12", "oauth_consumer_key"=>"e8dbba20-db18-0132-d251-20c9d07c6451", "oauth_nonce"=>"5785927288510", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1431465043", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"vyJQPWwhcuiBnBzG5SiDyf6Uvgk="}
AuthHdr_Parms: {}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e8dbba20-db18-0132-d251-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 3  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.3ms)
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36mLti2Tp::Registry Load (97.1ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-05-27 15:34:00 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/607a41b0-e6ee-0132-c64d-406c8f40a599", "reg_key"=>"60797170-e6ee-0132-c64d-406c8f40a599", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"f6e51d65af44f28d0579255bceb24c65f87c9a0c9077671b7245eacc4b6af272a76c8ecf5849c6908a5ff6249f7d04fb1e477f74a6282f3c81c3a8e73e24dff97a165be50d65a607ffaf1e7fa1594af2e841b9de0be73c8acd072045e41b2c2f4084f5eff1b5ca6a9433c6d28ec452fffff59a3bfbe02001d24574fe64702517", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (0.6ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-05-27 22:34:01', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '60797170-e6ee-0132-c64d-406c8f40a599', '601483236af1aaf7b3f4bceb21d50798', 'received', 'f6e51d65af44f28d0579255bceb24c65f87c9a0c9077671b7245eacc4b6af272a76c8ecf5849c6908a5ff6249f7d04fb1e477f74a6282f3c81c3a8e73e24dff97a165be50d65a607ffaf1e7fa1594af2e841b9de0be73c8acd072045e41b2c2f4084f5eff1b5ca6a9433c6d28ec452fffff59a3bfbe02001d24574fe64702517', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/607a41b0-e6ee-0132-c64d-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/607a41b0-e6ee-0132-c64d-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/607a41b0-e6ee-0132-c64d-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"607a41b0-e6ee-0132-c64d-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]}', '2015-05-27 22:34:01', '2')
  [1m[36m (20.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=4&return_url=/lti2_tp/registrations
Completed 302 Found in 297ms (ActiveRecord: 73.9ms)
Started GET "/lti_registration_wips?registration_id=4&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-05-27 15:34:01 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"4", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-05-27 22:34:01', 'Elan/LuMoS', 4, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-05-27 22:34:01')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (161.5ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (170.4ms)
Completed 200 OK in 291ms (Views: 247.2ms | ActiveRecord: 26.5ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-05-27 15:34:01 -0700
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-05-27 15:34:01 -0700
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-05-27 15:34:01 -0700
Started GET "/assets/fabericious.png" for 127.0.0.1 at 2015-05-27 15:34:01 -0700
Started PATCH "/lti_registration_wips/5" for 127.0.0.1 at 2015-05-27 15:34:09 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University334"}, "commit"=>"Update Lti registration wip", "id"=>"5"}
  [1m[35mLtiRegistrationWip Load (0.4ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 5 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.7ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University334', `updated_at` = '2015-05-27 22:34:09' WHERE `lti_registration_wips`.`id` = 5
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.6ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 4 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (21.5ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University334', `updated_at` = '2015-05-27 22:34:09' WHERE `lti2_tp_registrations`.`id` = 4
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 5 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (29.1ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University334' LIMIT 1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-05-27 22:34:09', 'Elan University334', '2015-05-27 22:34:09')
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (24.1ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '6a653d70-e6ee-0132-c64e-406c8f40a599', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/607a41b0-e6ee-0132-c64d-406c8f40a599#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-05-27T22:34:09Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"60797170-e6ee-0132-c64d-406c8f40a599\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/607a41b0-e6ee-0132-c64d-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"2ef65bf12c3ca8c0edbec05462292434\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-05-27 22:34:09' WHERE `lti2_tp_registrations`.`id` = 4[0m
  [1m[35m (0.8ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=500-Internal+Server+Error+&lti_errorlog=500-Internal+Server+Error+&&id=4
Completed 302 Found in 513ms (ActiveRecord: 120.8ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=500-Internal+Server+Error+&lti_errorlog=500-Internal+Server+Error+&&id=4" for 127.0.0.1 at 2015-05-27 15:34:10 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"500-Internal Server Error ", "lti_errorlog"=>"500-Internal Server Error ", "id"=>"4"}
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 4 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=500-Internal+Server+Error+&lti_errormsg=500-Internal+Server+Error+&status=failure
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36mLti2Tp::Registry Load (25.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.3ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/echoes" for 127.0.0.1 at 2015-06-09 14:46:49 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"4", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "oauth_consumer_key"=>"c232c6d0-eb7d-0132-41e0-20c9d07c6451", "oauth_nonce"=>"4379353889855", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1433886409", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"RG2+F3vAr42u/QGIldVIe69AhsI="}
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'c232c6d0-eb7d-0132-41e0-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (11.6ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 7  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (1.4ms)
Completed 200 OK in 156ms (Views: 8.2ms | ActiveRecord: 91.4ms)
  [1m[36mLti2Tp::Registry Load (39.8ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 06:55:16 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451", "reg_key"=>"4a748530-f726-0132-8f65-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"93f816b26d644ccc94b9a2c922e87bce9d25df290a35ced33370bd6481b75c58db6604968f580a6dbb70ba6466bd1fb73db25876a14ec6dba1df00b1ea7446b1317ddf92a2f18d5d48c1b5dd9ec4e2a7c4e1723fc372c879d28d19d357e89c6330b51adeb6c70bc073c5b037d4e8f0706d23014a5c6718b59cdc7f80d4ce10ae", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.7ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 13:55:16', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '4a748530-f726-0132-8f65-20c9d07c6451', 'eca2c1a72eae7581ef089c984189831f', 'received', '93f816b26d644ccc94b9a2c922e87bce9d25df290a35ced33370bd6481b75c58db6604968f580a6dbb70ba6466bd1fb73db25876a14ec6dba1df00b1ea7446b1317ddf92a2f18d5d48c1b5dd9ec4e2a7c4e1723fc372c879d28d19d357e89c6330b51adeb6c70bc073c5b037d4e8f0706d23014a5c6718b59cdc7f80d4ce10ae', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"4a756a30-f726-0132-8f65-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]}', '2015-06-17 13:55:16', '2')[0m
  [1m[35m (12.3ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=9&return_url=/lti2_tp/registrations
Completed 302 Found in 131ms (ActiveRecord: 48.3ms)
Started GET "/lti_registration_wips?registration_id=9&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 06:55:16 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"9", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 13:55:16', 'Elan/LuMoS', 9, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 13:55:16')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (160.3ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (166.9ms)
Completed 200 OK in 268ms (Views: 226.9ms | ActiveRecord: 26.6ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-06-17 06:55:17 -0700
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-06-17 06:55:17 -0700
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-06-17 06:55:17 -0700
Started PATCH "/lti_registration_wips/12" for 127.0.0.1 at 2015-06-17 06:55:24 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University123"}, "commit"=>"Update Lti registration wip", "id"=>"12"}
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.4ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University123', `updated_at` = '2015-06-17 13:55:24' WHERE `lti_registration_wips`.`id` = 12[0m
  [1m[35m (12.2ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.9ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University123', `updated_at` = '2015-06-17 13:55:24' WHERE `lti2_tp_registrations`.`id` = 9[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 12 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (12.7ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University123' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 13:55:24', 'Elan University123', '2015-06-17 13:55:24')[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (24.4ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '6d3a9390-f726-0132-8f66-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T13:55:24Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"4a748530-f726-0132-8f65-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"0f6c13ba6cd231e5a9618dc067d2c73f\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 13:55:24' WHERE `lti2_tp_registrations`.`id` = 9
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=500-Internal+Server+Error+&lti_errorlog=500-Internal+Server+Error+&&id=9
Completed 302 Found in 297ms (ActiveRecord: 93.4ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=500-Internal+Server+Error+&lti_errorlog=500-Internal+Server+Error+&&id=9" for 127.0.0.1 at 2015-06-17 06:55:25 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"500-Internal Server Error ", "lti_errorlog"=>"500-Internal Server Error ", "id"=>"9"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 9 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=500-Internal+Server+Error+&lti_errormsg=500-Internal+Server+Error+&status=failure
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 07:02:01 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/5660f710-f727-0132-8f65-20c9d07c6451", "reg_key"=>"5660f490-f727-0132-8f65-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"8cffb131fd5e68bb00da28dcf30ca72ccc2dd240fb46e4b894118f8061949efe35912bed114bef6b5885ce678b279422d1852191e2b4404673acde2384becefdd3ec5d613d2498e9cec15dcb71631d2588915b9d39c7f601cb1884b91c80d30cccc1957102ca0ed794507a6017eb4617fa644ac3dd2613ac4546510913dfdeaa", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 14:02:01', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '5660f490-f727-0132-8f65-20c9d07c6451', '0df18a385dc19f0a944b81f676440f60', 'received', '8cffb131fd5e68bb00da28dcf30ca72ccc2dd240fb46e4b894118f8061949efe35912bed114bef6b5885ce678b279422d1852191e2b4404673acde2384becefdd3ec5d613d2498e9cec15dcb71631d2588915b9d39c7f601cb1884b91c80d30cccc1957102ca0ed794507a6017eb4617fa644ac3dd2613ac4546510913dfdeaa', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/5660f710-f727-0132-8f65-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"5660f710-f727-0132-8f65-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]}', '2015-06-17 14:02:01', '2')[0m
  [1m[35m (11.5ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=10&return_url=/lti2_tp/registrations
Completed 302 Found in 41ms (ActiveRecord: 12.7ms)
Started GET "/lti_registration_wips?registration_id=10&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 07:02:01 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"10", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 14:02:01', 'Elan/LuMoS', 10, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 14:02:01')[0m
  [1m[35m (5.1ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (10.8ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (11.3ms)
Completed 200 OK in 23ms (Views: 12.6ms | ActiveRecord: 6.1ms)
Started PATCH "/lti_registration_wips/13" for 127.0.0.1 at 2015-06-17 07:02:07 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University702"}, "commit"=>"Update Lti registration wip", "id"=>"13"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University702', `updated_at` = '2015-06-17 14:02:07' WHERE `lti_registration_wips`.`id` = 13[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (1.0ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University702', `updated_at` = '2015-06-17 14:02:07' WHERE `lti2_tp_registrations`.`id` = 10[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 13 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 10 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University702' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 14:02:07', 'Elan University702', '2015-06-17 14:02:07')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '5d16d910-f727-0132-8f66-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T14:02:07Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"5660f490-f727-0132-8f65-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/5660f710-f727-0132-8f65-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"410b341b28fa8e00e4b619a73c98c3e5\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 14:02:07' WHERE `lti2_tp_registrations`.`id` = 10
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-06-17 14:02:07' WHERE `lti2_tp_registrations`.`id` = 10[0m
  [1m[35m (6.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.5ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University702' AND `tenants`.`id` != 9) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `tenants` SET `secret` = '410b341b28fa8e00e4b619a73c98c3e5', `tenant_key` = '5660f490-f727-0132-8f65-20c9d07c6451', `updated_at` = '2015-06-17 14:02:07' WHERE `tenants`.`id` = 9[0m
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_id` = 9, `updated_at` = '2015-06-17 14:02:07' WHERE `lti2_tp_registrations`.`id` = 10
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=5660f490-f727-0132-8f65-20c9d07c6451&&id=10
Completed 302 Found in 155ms (ActiveRecord: 23.7ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=5660f490-f727-0132-8f65-20c9d07c6451&&id=10" for 127.0.0.1 at 2015-06-17 07:02:07 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"5660f490-f727-0132-8f65-20c9d07c6451", "id"=>"10"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 10 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=5660f490-f727-0132-8f65-20c9d07c6451
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started POST "/settings" for 127.0.0.1 at 2015-06-17 07:02:20 -0700
Processing by SettingsController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"40", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_tool_proxy_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/5660f490-f727-0132-8f65-20c9d07c6451", "custom_tool_proxy_binding_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/5660f490-f727-0132-8f65-20c9d07c6451/context/2", "custom_lti_link_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/5660f490-f727-0132-8f65-20c9d07c6451/ltilink/40", "oauth_consumer_key"=>"5660f490-f727-0132-8f65-20c9d07c6451", "oauth_nonce"=>"3286587843080", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1434549740", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"vxJlYQw9+poTUEo/Mtz4XDDJvy0="}
PrePreProcessTenant
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '5660f490-f727-0132-8f65-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 9  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.5ms)
Completed 200 OK in 84ms (Views: 1.6ms | ActiveRecord: 0.7ms)
Started POST "/settings" for 127.0.0.1 at 2015-06-17 07:02:33 -0700
Processing by SettingsController#create as HTML
  Parameters: {"registration_id"=>"10", "custom_tool_proxy_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/5660f490-f727-0132-8f65-20c9d07c6451", "custom_tool_proxy_binding_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/5660f490-f727-0132-8f65-20c9d07c6451/context/2", "custom_lti_link_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/5660f490-f727-0132-8f65-20c9d07c6451/ltilink/40", "toolproxy"=>"client=learnobj", "toolproxybinding"=>"", "ltilink"=>""}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 10 LIMIT 1[0m
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`id` = 9 LIMIT 1
  Rendered text template (0.0ms)
Completed 200 OK in 66ms (Views: 1.8ms | ActiveRecord: 0.7ms)
Started POST "/settings" for 127.0.0.1 at 2015-06-17 07:02:43 -0700
Processing by SettingsController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"40", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_tool_proxy_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/5660f490-f727-0132-8f65-20c9d07c6451", "custom_tool_proxy_binding_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/5660f490-f727-0132-8f65-20c9d07c6451/context/2", "custom_lti_link_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/5660f490-f727-0132-8f65-20c9d07c6451/ltilink/40", "custom_client"=>"learnobj", "oauth_consumer_key"=>"5660f490-f727-0132-8f65-20c9d07c6451", "oauth_nonce"=>"9536116780960", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1434549763", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"+8/sx6rdOx58qwT5Xpxt4bFDlLE="}
PrePreProcessTenant
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.4ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '5660f490-f727-0132-8f65-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 9  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.4ms)
Completed 200 OK in 47ms (Views: 0.8ms | ActiveRecord: 0.7ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 08:01:41 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/acb57da0-f72f-0132-8f65-20c9d07c6451", "reg_key"=>"acb57b90-f72f-0132-8f65-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"7b7172b125a7fa75ec6a0ec043d9894c77950f868fcce0cd7e89d3ce2fe1f286422cbee53945641984f6106ef7378923d9670b6a0590de900d855869fc2e991a2bbff27d90e3279d0799a6f04b7cb292dc35029d34f9e82d70065315ee89af73233634b66ee9f61a6019de7bd52fc720a37c19b609b944ea51539d56532ff838", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 15:01:41', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'acb57b90-f72f-0132-8f65-20c9d07c6451', '95c5ee0419d1c6debc5444fb66defc2d', 'received', '7b7172b125a7fa75ec6a0ec043d9894c77950f868fcce0cd7e89d3ce2fe1f286422cbee53945641984f6106ef7378923d9670b6a0590de900d855869fc2e991a2bbff27d90e3279d0799a6f04b7cb292dc35029d34f9e82d70065315ee89af73233634b66ee9f61a6019de7bd52fc720a37c19b609b944ea51539d56532ff838', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/acb57da0-f72f-0132-8f65-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"acb57da0-f72f-0132-8f65-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]}', '2015-06-17 15:01:41', '2')[0m
  [1m[35m (10.5ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=11&return_url=/lti2_tp/registrations
Completed 302 Found in 68ms (ActiveRecord: 11.7ms)
Started GET "/lti_registration_wips?registration_id=11&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 08:01:41 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"11", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 15:01:41', 'Elan/LuMoS', 11, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 15:01:41')[0m
  [1m[35m (11.8ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (11.0ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (11.3ms)
Completed 200 OK in 27ms (Views: 12.5ms | ActiveRecord: 12.4ms)
Started PATCH "/lti_registration_wips/14" for 127.0.0.1 at 2015-06-17 08:01:46 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University801"}, "commit"=>"Update Lti registration wip", "id"=>"14"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University801', `updated_at` = '2015-06-17 15:01:46' WHERE `lti_registration_wips`.`id` = 14[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University801', `updated_at` = '2015-06-17 15:01:46' WHERE `lti2_tp_registrations`.`id` = 11[0m
  [1m[35m (12.1ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.7ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 14 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.2ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University801' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 15:01:46', 'Elan University801', '2015-06-17 15:01:46')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = 'b23c94f0-f72f-0132-8f66-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4a756a30-f726-0132-8f65-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T15:01:46Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"acb57b90-f72f-0132-8f65-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/acb57da0-f72f-0132-8f65-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/tool_proxies\",\"format\":[\"\"]}]},\"security_contract\":{\"shared_secret\":\"44b9955fae0d414e65232821c695bb41\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 15:01:46' WHERE `lti2_tp_registrations`.`id` = 11
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-06-17 15:01:46' WHERE `lti2_tp_registrations`.`id` = 11[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University801' AND `tenants`.`id` != 10) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `tenants` SET `secret` = '44b9955fae0d414e65232821c695bb41', `tenant_key` = 'acb57b90-f72f-0132-8f65-20c9d07c6451', `updated_at` = '2015-06-17 15:01:46' WHERE `tenants`.`id` = 10[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_id` = 10, `updated_at` = '2015-06-17 15:01:46' WHERE `lti2_tp_registrations`.`id` = 11
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=acb57b90-f72f-0132-8f65-20c9d07c6451&&id=11
Completed 302 Found in 147ms (ActiveRecord: 42.6ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=acb57b90-f72f-0132-8f65-20c9d07c6451&&id=11" for 127.0.0.1 at 2015-06-17 08:01:46 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"acb57b90-f72f-0132-8f65-20c9d07c6451", "id"=>"11"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=acb57b90-f72f-0132-8f65-20c9d07c6451
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 08:12:34 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451", "reg_key"=>"30764500-f731-0132-8f67-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"731fa89a3996e16f9ce2f55ca3cbdcbd2a5d0f63f5abf244c7915c3d40d68877d68531c412152d816d46d99466912fc0c412561da8b2370e8e6642122236f246550b0e682b0b8996810dceab4395d5d0e45e291c0e566a52651bb594155c229daed77dd6411cc691f730f39665a8bcde3dd8b9e208f9fa7bb7be3a5e6ceece09", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 15:12:34', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '30764500-f731-0132-8f67-20c9d07c6451', '13b29b95985a3035d02b67df904d1cd7', 'received', '731fa89a3996e16f9ce2f55ca3cbdcbd2a5d0f63f5abf244c7915c3d40d68877d68531c412152d816d46d99466912fc0c412561da8b2370e8e6642122236f246550b0e682b0b8996810dceab4395d5d0e45e291c0e566a52651bb594155c229daed77dd6411cc691f730f39665a8bcde3dd8b9e208f9fa7bb7be3a5e6ceece09', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"30775be0-f731-0132-8f67-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 15:12:34', '2')[0m
  [1m[35m (10.9ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=4&return_url=/lti2_tp/registrations
Completed 302 Found in 97ms (ActiveRecord: 33.5ms)
Started GET "/lti_registration_wips?registration_id=4&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 08:12:34 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"4", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 15:12:34', 'Elan/LuMoS', 4, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 15:12:34')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (133.9ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (140.5ms)
Completed 200 OK in 228ms (Views: 197.2ms | ActiveRecord: 19.4ms)
Started PATCH "/lti_registration_wips/5" for 127.0.0.1 at 2015-06-17 08:12:41 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University812"}, "commit"=>"Update Lti registration wip", "id"=>"5"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University812', `updated_at` = '2015-06-17 15:12:41' WHERE `lti_registration_wips`.`id` = 5[0m
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University812', `updated_at` = '2015-06-17 15:12:41' WHERE `lti2_tp_registrations`.`id` = 4[0m
  [1m[35m (11.9ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 5 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 4 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.3ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University812' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 15:12:41', 'Elan University812', '2015-06-17 15:12:41')[0m
  [1m[35m (11.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '38f98b30-f731-0132-8f68-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T15:12:41Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"30764500-f731-0132-8f67-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"0a9e5eb34e1af4bc19ff18041489e94a\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 15:12:41' WHERE `lti2_tp_registrations`.`id` = 4
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-06-17 15:12:41' WHERE `lti2_tp_registrations`.`id` = 4[0m
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University812' AND `tenants`.`id` != 4) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `tenants` SET `secret` = '0a9e5eb34e1af4bc19ff18041489e94a', `tenant_key` = '30764500-f731-0132-8f67-20c9d07c6451', `updated_at` = '2015-06-17 15:12:41' WHERE `tenants`.`id` = 4[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_id` = 4, `updated_at` = '2015-06-17 15:12:41' WHERE `lti2_tp_registrations`.`id` = 4
  [1m[36m (5.3ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=30764500-f731-0132-8f67-20c9d07c6451&&id=4
Completed 302 Found in 268ms (ActiveRecord: 65.6ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=30764500-f731-0132-8f67-20c9d07c6451&&id=4" for 127.0.0.1 at 2015-06-17 08:12:41 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"30764500-f731-0132-8f67-20c9d07c6451", "id"=>"4"}
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 4 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=30764500-f731-0132-8f67-20c9d07c6451
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started POST "/settings" for 127.0.0.1 at 2015-06-17 08:13:02 -0700
Processing by SettingsController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"58", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_tool_proxy_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/30764500-f731-0132-8f67-20c9d07c6451", "custom_tool_proxy_binding_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/30764500-f731-0132-8f67-20c9d07c6451/context/2", "custom_lti_link_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/30764500-f731-0132-8f67-20c9d07c6451/ltilink/58", "oauth_consumer_key"=>"30764500-f731-0132-8f67-20c9d07c6451", "oauth_nonce"=>"2859035498589", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1434553982", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"uWPEVKhrCl/5fJEgXrPQyvWp+eU="}
PrePreProcessTenant
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.6ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '30764500-f731-0132-8f67-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 4  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (1.4ms)
Completed 200 OK in 64ms (Views: 2.9ms | ActiveRecord: 1.0ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 08:18:11 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f8852c60-f731-0132-8f67-20c9d07c6451", "reg_key"=>"f88528a0-f731-0132-8f67-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"5c58cd78a0be06b0d37dd7f8533040c5966d4688c57c3a2388bf240203e55c5e08af0aa6392374300a549cf560fbcfa29a02ad8c1b4707321bbb3cbc248b541a06565c58acf3d142e7a214f8fccfbf78a2336af719d2ff5a9a62d77e407dc3e79d66d89c2774dc9dc68727541d55e1607b1b9fae2d997deba1e88e01bb591f04", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 15:18:11', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'f88528a0-f731-0132-8f67-20c9d07c6451', '0994a045596383fa5ee3341464266e5e', 'received', '5c58cd78a0be06b0d37dd7f8533040c5966d4688c57c3a2388bf240203e55c5e08af0aa6392374300a549cf560fbcfa29a02ad8c1b4707321bbb3cbc248b541a06565c58acf3d142e7a214f8fccfbf78a2336af719d2ff5a9a62d77e407dc3e79d66d89c2774dc9dc68727541d55e1607b1b9fae2d997deba1e88e01bb591f04', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f8852c60-f731-0132-8f67-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"f8852c60-f731-0132-8f67-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 15:18:11', '2')[0m
  [1m[35m (15.3ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=5&return_url=/lti2_tp/registrations
Completed 302 Found in 46ms (ActiveRecord: 16.2ms)
Started GET "/lti_registration_wips?registration_id=5&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 08:18:11 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"5", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 15:18:11', 'Elan/LuMoS', 5, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 15:18:11')[0m
  [1m[35m (17.9ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (7.9ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (8.2ms)
Completed 200 OK in 31ms (Views: 9.1ms | ActiveRecord: 18.7ms)
Started PATCH "/lti_registration_wips/6" for 127.0.0.1 at 2015-06-17 08:18:16 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University818"}, "commit"=>"Update Lti registration wip", "id"=>"6"}
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University818', `updated_at` = '2015-06-17 15:18:16' WHERE `lti_registration_wips`.`id` = 6[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University818', `updated_at` = '2015-06-17 15:18:16' WHERE `lti2_tp_registrations`.`id` = 5[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 6 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 5 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.2ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University818' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 15:18:16', 'Elan University818', '2015-06-17 15:18:16')[0m
  [1m[35m (4.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '00b97810-f732-0132-8f68-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T15:18:16Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"f88528a0-f731-0132-8f67-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f8852c60-f731-0132-8f67-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"5841cf936c8a22c0ce91744a98f75ff3\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 15:18:16' WHERE `lti2_tp_registrations`.`id` = 5
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-06-17 15:18:16' WHERE `lti2_tp_registrations`.`id` = 5[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University818' AND `tenants`.`id` != 5) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `tenants` SET `secret` = '5841cf936c8a22c0ce91744a98f75ff3', `tenant_key` = 'f88528a0-f731-0132-8f67-20c9d07c6451', `updated_at` = '2015-06-17 15:18:16' WHERE `tenants`.`id` = 5[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_id` = 5, `updated_at` = '2015-06-17 15:18:16' WHERE `lti2_tp_registrations`.`id` = 5
  [1m[36m (6.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=f88528a0-f731-0132-8f67-20c9d07c6451&&id=5
Completed 302 Found in 157ms (ActiveRecord: 41.0ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=f88528a0-f731-0132-8f67-20c9d07c6451&&id=5" for 127.0.0.1 at 2015-06-17 08:18:16 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"f88528a0-f731-0132-8f67-20c9d07c6451", "id"=>"5"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 5 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=f88528a0-f731-0132-8f67-20c9d07c6451
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
Started POST "/echoes" for 127.0.0.1 at 2015-06-17 08:18:51 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"76", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "oauth_consumer_key"=>"f88528a0-f731-0132-8f67-20c9d07c6451", "oauth_nonce"=>"7810743440140", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1434554331", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"puMeIB3hH11A+hnQv/JWKKlby7U="}
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f88528a0-f731-0132-8f67-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 5  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.3ms)
Completed 200 OK in 15ms (Views: 0.8ms | ActiveRecord: 0.6ms)
Started POST "/echoes" for 127.0.0.1 at 2015-06-17 08:19:07 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"73", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "oauth_consumer_key"=>"f88528a0-f731-0132-8f67-20c9d07c6451", "oauth_nonce"=>"5127715783323", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1434554347", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"mBkGlT4AExds//Xq7HQ3T5I2eJM="}
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f88528a0-f731-0132-8f67-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 5  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.3ms)
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.6ms)
Started POST "/iresources" for 127.0.0.1 at 2015-06-17 08:19:14 -0700
Processing by IresourcesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"79", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_vbid"=>"L-999-74180", "custom_result_uri"=>"http://rails.kinexis.com:4000/results/1", "oauth_consumer_key"=>"f88528a0-f731-0132-8f67-20c9d07c6451", "oauth_nonce"=>"9178753502901", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1434554354", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"9dUQJ82I6Rn1DpNeX2hr7k8Wbv8="}
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f88528a0-f731-0132-8f67-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 5  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `iresources` (`created_at`, `tenant_id`, `updated_at`) VALUES ('2015-06-17 15:19:14', 5, '2015-06-17 15:19:14')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `iresources` SET `contextid` = '2', `result_uri` = 'http://rails.kinexis.com:4000/results/1', `updated_at` = '2015-06-17 15:19:14', `userid` = '2' WHERE `iresources`.`id` = 2[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered iresources/_form.html.haml (14.8ms)
  Rendered iresources/create.html.haml within layouts/application (17.3ms)
Completed 200 OK in 58ms (Views: 22.6ms | ActiveRecord: 14.9ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-06-17 08:19:14 -0700
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-06-17 08:19:14 -0700
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-06-17 08:19:14 -0700
Started GET "/assets/fabericious.png" for 127.0.0.1 at 2015-06-17 08:19:14 -0700
Started PATCH "/iresources/2" for 127.0.0.1 at 2015-06-17 08:19:20 -0700
Processing by IresourcesController#update as HTML
  Parameters: {"utf8"=>"✓", "iresource"=>{"score"=>".66"}, "commit"=>"Update Iresource", "id"=>"2"}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`id` = 5 LIMIT 1[0m
  [1m[35mIresource Load (0.2ms)[0m  SELECT  `iresources`.* FROM `iresources`  WHERE `iresources`.`id` = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.0ms)[0m  UPDATE `iresources` SET `score` = 0.66, `updated_at` = '2015-06-17 15:19:20' WHERE `iresources`.`id` = 2
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
Redirected to http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2
Completed 302 Found in 43ms (ActiveRecord: 12.6ms)
Started POST "/settings" for 127.0.0.1 at 2015-06-17 08:19:26 -0700
Processing by SettingsController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"70", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_tool_proxy_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/f88528a0-f731-0132-8f67-20c9d07c6451", "custom_tool_proxy_binding_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/f88528a0-f731-0132-8f67-20c9d07c6451/context/2", "custom_lti_link_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/f88528a0-f731-0132-8f67-20c9d07c6451/ltilink/70", "oauth_consumer_key"=>"f88528a0-f731-0132-8f67-20c9d07c6451", "oauth_nonce"=>"5807090073109", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1434554366", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"nmIeP9NI5nhyMHyW8HTLz5h1+wY="}
PrePreProcessTenant
AuthHdr_Parms: {}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f88528a0-f731-0132-8f67-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 5  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.4ms)
Completed 200 OK in 52ms (Views: 0.7ms | ActiveRecord: 0.6ms)
Started POST "/settings" for 127.0.0.1 at 2015-06-17 08:19:28 -0700
Processing by SettingsController#create as HTML
  Parameters: {"registration_id"=>"5", "custom_tool_proxy_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/f88528a0-f731-0132-8f67-20c9d07c6451", "custom_tool_proxy_binding_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/f88528a0-f731-0132-8f67-20c9d07c6451/context/2", "custom_lti_link_custom_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_settings/f88528a0-f731-0132-8f67-20c9d07c6451/ltilink/70", "toolproxy"=>"", "toolproxybinding"=>"", "ltilink"=>""}
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 5 LIMIT 1
  [1m[36mTenant Load (0.2ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`id` = 5 LIMIT 1[0m
  Rendered text template (0.0ms)
Completed 200 OK in 45ms (Views: 1.3ms | ActiveRecord: 0.5ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 08:35:29 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/6514dd30-f734-0132-8f67-20c9d07c6451", "reg_key"=>"6514d9b0-f734-0132-8f67-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"810a2d67732b68b51cde55efa50de0a0975711860670db014ee44ae31ce1e7f1b655f9112a62273401dc1a025750f18a45cbccc8637a65ef524aa7927b05e7178aef9366db92938e393e32afaa08f27c40915add68aaecb5d79c2c186334747e3bd0887a933fdd877e912433a032f2e5ac50f0b5d5adfc4c441cb49dee291336", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (0.5ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 15:35:29', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '6514d9b0-f734-0132-8f67-20c9d07c6451', '474100aa1c6b74f3017e832188fb80c8', 'received', '810a2d67732b68b51cde55efa50de0a0975711860670db014ee44ae31ce1e7f1b655f9112a62273401dc1a025750f18a45cbccc8637a65ef524aa7927b05e7178aef9366db92938e393e32afaa08f27c40915add68aaecb5d79c2c186334747e3bd0887a933fdd877e912433a032f2e5ac50f0b5d5adfc4c441cb49dee291336', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/6514dd30-f734-0132-8f67-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"6514dd30-f734-0132-8f67-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 15:35:29', '2')
  [1m[36m (16.2ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=6&return_url=/lti2_tp/registrations
Completed 302 Found in 50ms (ActiveRecord: 17.4ms)
Started GET "/lti_registration_wips?registration_id=6&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 08:35:29 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"6", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 15:35:29', 'Elan/LuMoS', 6, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 15:35:29')
  [1m[36m (11.2ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (6.8ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (7.1ms)
Completed 200 OK in 23ms (Views: 8.0ms | ActiveRecord: 12.0ms)
Started PATCH "/lti_registration_wips/7" for 127.0.0.1 at 2015-06-17 08:35:35 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University835"}, "commit"=>"Update Lti registration wip", "id"=>"7"}
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 7 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University835', `updated_at` = '2015-06-17 15:35:35' WHERE `lti_registration_wips`.`id` = 7
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University835', `updated_at` = '2015-06-17 15:35:35' WHERE `lti2_tp_registrations`.`id` = 6
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.5ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 7 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University835' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 15:35:35', 'Elan University835', '2015-06-17 15:35:35')
  [1m[36m (5.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '6c19bb80-f734-0132-8f68-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T15:35:35Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"6514d9b0-f734-0132-8f67-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/6514dd30-f734-0132-8f67-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"c4eeffdc726fe18c918d1264a4e00c22\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 15:35:35' WHERE `lti2_tp_registrations`.`id` = 6[0m
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-06-17 15:35:36' WHERE `lti2_tp_registrations`.`id` = 6
  [1m[36m (5.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University835' AND `tenants`.`id` != 6) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `tenants` SET `secret` = 'c4eeffdc726fe18c918d1264a4e00c22', `tenant_key` = '6514d9b0-f734-0132-8f67-20c9d07c6451', `updated_at` = '2015-06-17 15:35:36' WHERE `tenants`.`id` = 6
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_id` = 6, `updated_at` = '2015-06-17 15:35:36' WHERE `lti2_tp_registrations`.`id` = 6[0m
  [1m[35m (6.2ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=6514d9b0-f734-0132-8f67-20c9d07c6451&&id=6
Completed 302 Found in 150ms (ActiveRecord: 41.4ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=6514d9b0-f734-0132-8f67-20c9d07c6451&&id=6" for 127.0.0.1 at 2015-06-17 08:35:36 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"6514d9b0-f734-0132-8f67-20c9d07c6451", "id"=>"6"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 6 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=6514d9b0-f734-0132-8f67-20c9d07c6451
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
Started POST "/echoes" for 127.0.0.1 at 2015-06-17 08:35:47 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"88", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "oauth_consumer_key"=>"6514d9b0-f734-0132-8f67-20c9d07c6451", "oauth_nonce"=>"1158374679101", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1434555347", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"aSTK98nL7Akh9TlMjwhdA6Q1M4o="}
AuthHdr_Parms: {}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '6514d9b0-f734-0132-8f67-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 6  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.3ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.6ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 09:10:18 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/24d66380-f739-0132-8f67-20c9d07c6451", "reg_key"=>"24d645b0-f739-0132-8f67-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"4180663a24c628718468db1f3d5d5a4387fd75117ff83d08dbeb70c7bc54781089d396ca0cdea1e93b701b5636bd5d57c950414fa3eb16e66f82416933087c6a700032c7193257c57b8ab6fd7ac71653159f1962c72e80b4dc7bc51486a58a8cac03fa2595fe62a9d953f0b087d00233ba703ec109672e7fe03d81df8cd35dc4", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (1.7ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 16:10:18', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '24d645b0-f739-0132-8f67-20c9d07c6451', '0d392e17012b4d3e808b1b3465a2de29', 'received', '4180663a24c628718468db1f3d5d5a4387fd75117ff83d08dbeb70c7bc54781089d396ca0cdea1e93b701b5636bd5d57c950414fa3eb16e66f82416933087c6a700032c7193257c57b8ab6fd7ac71653159f1962c72e80b4dc7bc51486a58a8cac03fa2595fe62a9d953f0b087d00233ba703ec109672e7fe03d81df8cd35dc4', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/24d66380-f739-0132-8f67-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"24d66380-f739-0132-8f67-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 16:10:18', '2')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=7&return_url=/lti2_tp/registrations
Completed 302 Found in 133ms (ActiveRecord: 3.1ms)
Started GET "/lti_registration_wips?registration_id=7&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 09:10:18 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"7", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 7 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 16:10:18', 'Elan/LuMoS', 7, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 16:10:18')
  [1m[36m (10.4ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (31.8ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (34.7ms)
Completed 200 OK in 65ms (Views: 44.3ms | ActiveRecord: 11.6ms)
Started PATCH "/lti_registration_wips/8" for 127.0.0.1 at 2015-06-17 09:11:08 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University302"}, "commit"=>"Update Lti registration wip", "id"=>"8"}
  [1m[35mLtiRegistrationWip Load (0.4ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University302', `updated_at` = '2015-06-17 16:11:08' WHERE `lti_registration_wips`.`id` = 8
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (1.1ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 7 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University302', `updated_at` = '2015-06-17 16:11:08' WHERE `lti2_tp_registrations`.`id` = 7
  [1m[36m (10.5ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.7ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 8 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.7ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University302' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 16:11:08', 'Elan University302', '2015-06-17 16:11:08')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '632f5ea0-f739-0132-8f68-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/30775be0-f731-0132-8f67-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T16:11:08Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"24d645b0-f739-0132-8f67-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/24d66380-f739-0132-8f67-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"f9ecb7efa9e32859f8ad1207c7421bf2\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 16:11:08' WHERE `lti2_tp_registrations`.`id` = 7[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-06-17 16:11:08' WHERE `lti2_tp_registrations`.`id` = 7
  [1m[36m (12.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University302' AND `tenants`.`id` != 7) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `tenants` SET `secret` = 'f9ecb7efa9e32859f8ad1207c7421bf2', `tenant_key` = '24d645b0-f739-0132-8f67-20c9d07c6451', `updated_at` = '2015-06-17 16:11:08' WHERE `tenants`.`id` = 7
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_id` = 7, `updated_at` = '2015-06-17 16:11:08' WHERE `lti2_tp_registrations`.`id` = 7[0m
  [1m[35m (0.5ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=24d645b0-f739-0132-8f67-20c9d07c6451&&id=7
Completed 302 Found in 239ms (ActiveRecord: 42.7ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=24d645b0-f739-0132-8f67-20c9d07c6451&&id=7" for 127.0.0.1 at 2015-06-17 09:11:08 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"24d645b0-f739-0132-8f67-20c9d07c6451", "id"=>"7"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 7 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=24d645b0-f739-0132-8f67-20c9d07c6451
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started POST "/echoes" for 127.0.0.1 at 2015-06-17 09:12:18 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"100", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "oauth_consumer_key"=>"24d645b0-f739-0132-8f67-20c9d07c6451", "oauth_nonce"=>"9618622271476", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1434557538", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"cL5fZmlBrirYVc1qZmuH2QbxwdU="}
AuthHdr_Parms: {}
  [1m[35mTenant Load (0.4ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '24d645b0-f739-0132-8f67-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 7  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (1.3ms)
Completed 200 OK in 11ms (Views: 1.9ms | ActiveRecord: 0.7ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 11:17:35 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0a2f1f00-f74b-0132-8f69-20c9d07c6451", "reg_key"=>"0a2e3f30-f74b-0132-8f69-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"70db6967047bff48424f1b46337b77e02e241c62451265690ae61573f69c6cf4c3ab3323d7f381478f8d65208957b8c7b194840abb563549497a4253eb89023b8f7363588df743e3012c53273405c0fd8cf44c21da95f5ef73786f6af6ad055b03acdcfb9e60c702eeddff369a00dd36e286afa495e654e1d593d513b567dbe1", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (1.1ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 18:17:35', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '0a2e3f30-f74b-0132-8f69-20c9d07c6451', '40c2ebe4562ac1df2eb15db1af57a5bb', 'received', '70db6967047bff48424f1b46337b77e02e241c62451265690ae61573f69c6cf4c3ab3323d7f381478f8d65208957b8c7b194840abb563549497a4253eb89023b8f7363588df743e3012c53273405c0fd8cf44c21da95f5ef73786f6af6ad055b03acdcfb9e60c702eeddff369a00dd36e286afa495e654e1d593d513b567dbe1', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0a2f1f00-f74b-0132-8f69-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0a2f1f00-f74b-0132-8f69-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/0a2f1f00-f74b-0132-8f69-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"0a2f1f00-f74b-0132-8f69-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:RecordOfPerformance\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record-of-performance+json\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 18:17:35', '2')
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=8&return_url=/lti2_tp/registrations
Completed 302 Found in 103ms (ActiveRecord: 14.3ms)
Started GET "/lti_registration_wips?registration_id=8&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 11:17:35 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"8", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 18:17:35', 'Elan/LuMoS', 8, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 18:17:35')
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (107.4ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (108.8ms)
Completed 200 OK in 128ms (Views: 113.2ms | ActiveRecord: 7.5ms)
Started PATCH "/lti_registration_wips/9" for 127.0.0.1 at 2015-06-17 11:17:42 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1117"}, "commit"=>"Update Lti registration wip", "id"=>"9"}
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 9 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1117', `updated_at` = '2015-06-17 18:17:42' WHERE `lti_registration_wips`.`id` = 9
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.5ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1117', `updated_at` = '2015-06-17 18:17:42' WHERE `lti2_tp_registrations`.`id` = 8
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 9 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1117' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 18:17:42', 'Elan University1117', '2015-06-17 18:17:42')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '11622070-f74b-0132-8f68-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0a2f1f00-f74b-0132-8f69-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T18:17:42Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"0a2e3f30-f74b-0132-8f69-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0a2f1f00-f74b-0132-8f69-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"07e6848465b81da302fcf9c3b8dff80d\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:RecordOfPerformance\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 18:17:42' WHERE `lti2_tp_registrations`.`id` = 8[0m
  [1m[35m (0.8ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=8
Completed 302 Found in 85ms (ActiveRecord: 24.8ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=8" for 127.0.0.1 at 2015-06-17 11:17:42 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"400-Bad Request ", "lti_errorlog"=>"400-Bad Request ", "id"=>"8"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 8 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=400-Bad+Request+&lti_errormsg=400-Bad+Request+&status=failure
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 11:45:12 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e69176b0-f74e-0132-8f6b-20c9d07c6451", "reg_key"=>"e6909c70-f74e-0132-8f6b-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"fd550d58d655679edf3c4d757f76f7d50dbe92b4ef3bd8549d0a1d986ecbe98379f8216120a607f07e9822591c306f24a9daaee6723ee2d69c0ff878119c7a114660dbe06600c678340cded7fe20eb97f284b124509f1b56cff41c2081d9362c2878f4dea4e1872c46ac49b6eaa9312b07ab74779d0d5f250d17ad1e84de0981", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (1.1ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 18:45:12', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'e6909c70-f74e-0132-8f6b-20c9d07c6451', '51876cbc4c553c9ad502881438667e33', 'received', 'fd550d58d655679edf3c4d757f76f7d50dbe92b4ef3bd8549d0a1d986ecbe98379f8216120a607f07e9822591c306f24a9daaee6723ee2d69c0ff878119c7a114660dbe06600c678340cded7fe20eb97f284b124509f1b56cff41c2081d9362c2878f4dea4e1872c46ac49b6eaa9312b07ab74779d0d5f250d17ad1e84de0981', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e69176b0-f74e-0132-8f6b-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e69176b0-f74e-0132-8f6b-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/e69176b0-f74e-0132-8f6b-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"e69176b0-f74e-0132-8f6b-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:RecordOfPerformance\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record-of-performance+json\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 18:45:12', '2')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=9&return_url=/lti2_tp/registrations
Completed 302 Found in 94ms (ActiveRecord: 3.3ms)
Started GET "/lti_registration_wips?registration_id=9&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 11:45:13 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"9", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.6ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 18:45:13', 'Elan/LuMoS', 9, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 18:45:13')
  [1m[36m (11.3ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (26.8ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (28.4ms)
Completed 200 OK in 51ms (Views: 32.9ms | ActiveRecord: 12.6ms)
Started PATCH "/lti_registration_wips/10" for 127.0.0.1 at 2015-06-17 11:45:17 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1145"}, "commit"=>"Update Lti registration wip", "id"=>"10"}
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 10 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1145', `updated_at` = '2015-06-17 18:45:17' WHERE `lti_registration_wips`.`id` = 10
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.5ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1145', `updated_at` = '2015-06-17 18:45:17' WHERE `lti2_tp_registrations`.`id` = 9
  [1m[36m (10.7ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 10 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1145' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 18:45:17', 'Elan University1145', '2015-06-17 18:45:17')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = 'ec3be110-f74e-0132-8f68-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e69176b0-f74e-0132-8f6b-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T18:45:17Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"e6909c70-f74e-0132-8f6b-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e69176b0-f74e-0132-8f6b-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"f39496840709ce0e7b454df70cb7cac0\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:RecordOfPerformance\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 18:45:17' WHERE `lti2_tp_registrations`.`id` = 9[0m
  [1m[35m (0.8ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=9
Completed 302 Found in 75ms (ActiveRecord: 28.7ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=9" for 127.0.0.1 at 2015-06-17 11:45:17 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"400-Bad Request ", "lti_errorlog"=>"400-Bad Request ", "id"=>"9"}
  [1m[36mLti2Tp::Registration Load (0.6ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 9 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=400-Bad+Request+&lti_errormsg=400-Bad+Request+&status=failure
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 11:53:27 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0702a8c0-f750-0132-8f6c-20c9d07c6451", "reg_key"=>"06fb9b70-f750-0132-8f6c-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"76798407e4f17d65771f1f1d5e4e7d4a9683f9037172832e798b1b1810492fb62bd389d72461ed339e6122c434fc8187f6e6004b7387927418c7f6db457bb46143c1d89c236e7e3ef6c0de5a409c38d1fcd21f493b1da23cd97c4634b9fb6678fcb1e074c41c9d263a7480076fc37ea1f3241b82501f93bcebba3386bfa3cef0", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (0.3ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (13.6ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 18:53:27', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '06fb9b70-f750-0132-8f6c-20c9d07c6451', 'd267187c38bc61a2a58c36d14a139d12', 'received', '76798407e4f17d65771f1f1d5e4e7d4a9683f9037172832e798b1b1810492fb62bd389d72461ed339e6122c434fc8187f6e6004b7387927418c7f6db457bb46143c1d89c236e7e3ef6c0de5a409c38d1fcd21f493b1da23cd97c4634b9fb6678fcb1e074c41c9d263a7480076fc37ea1f3241b82501f93bcebba3386bfa3cef0', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0702a8c0-f750-0132-8f6c-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0702a8c0-f750-0132-8f6c-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/0702a8c0-f750-0132-8f6c-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"0702a8c0-f750-0132-8f6c-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:RecordOfPerformance\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record-of-performance+json\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 18:53:27', '2')
  [1m[36m (5.9ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=10&return_url=/lti2_tp/registrations
Completed 302 Found in 373ms (ActiveRecord: 20.0ms)
Started GET "/lti_registration_wips?registration_id=10&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 11:53:27 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"10", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 10 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 18:53:27', 'Elan/LuMoS', 10, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 18:53:27')
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (15.6ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (15.9ms)
Completed 200 OK in 27ms (Views: 17.1ms | ActiveRecord: 6.9ms)
Started PATCH "/lti_registration_wips/11" for 127.0.0.1 at 2015-06-17 11:53:32 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1153"}, "commit"=>"Update Lti registration wip", "id"=>"11"}
  [1m[35mLtiRegistrationWip Load (0.4ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 11 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1153', `updated_at` = '2015-06-17 18:53:32' WHERE `lti_registration_wips`.`id` = 11
  [1m[36m (12.0ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 10 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.4ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1153', `updated_at` = '2015-06-17 18:53:32' WHERE `lti2_tp_registrations`.`id` = 10
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.4ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 11 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1153' LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 18:53:32', 'Elan University1153', '2015-06-17 18:53:32')
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '135937f0-f750-0132-8f68-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0702a8c0-f750-0132-8f6c-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T18:53:32Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"06fb9b70-f750-0132-8f6c-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0702a8c0-f750-0132-8f6c-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"74282a360055436bbf9eb36f815c513a\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:RecordOfPerformance\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 18:53:32' WHERE `lti2_tp_registrations`.`id` = 10[0m
  [1m[35m (0.7ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=10
Completed 302 Found in 139ms (ActiveRecord: 29.9ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=10" for 127.0.0.1 at 2015-06-17 11:53:33 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"400-Bad Request ", "lti_errorlog"=>"400-Bad Request ", "id"=>"10"}
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 10 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=400-Bad+Request+&lti_errormsg=400-Bad+Request+&status=failure
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 12:29:18 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0ecf9d90-f755-0132-8f6d-20c9d07c6451", "reg_key"=>"0ecec2a0-f755-0132-8f6d-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"28aecc744e681f5206bad0785b5202461447fa4d9c598ec133937ba54a1d7b747a7ef8eeddccfa47c2ffd1b207eaeb046a519feec2e58e02258f169a06f767a7192aa5f734c4f6eff09bcfbd58b569ee8de7a2e1ec31ecd930a32c87ef44eddea1e73a06e4bb1a342bcfe449af3cd3ae06819e4ee671ed0a1df4a21327d58023", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[35mLti2Tp::Tool Load (0.3ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 19:29:18', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '0ecec2a0-f755-0132-8f6d-20c9d07c6451', '7641f4ebe54c102da7b99cb837c0b461', 'received', '28aecc744e681f5206bad0785b5202461447fa4d9c598ec133937ba54a1d7b747a7ef8eeddccfa47c2ffd1b207eaeb046a519feec2e58e02258f169a06f767a7192aa5f734c4f6eff09bcfbd58b569ee8de7a2e1ec31ecd930a32c87ef44eddea1e73a06e4bb1a342bcfe449af3cd3ae06819e4ee671ed0a1df4a21327d58023', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0ecf9d90-f755-0132-8f6d-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0ecf9d90-f755-0132-8f6d-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/0ecf9d90-f755-0132-8f6d-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"0ecf9d90-f755-0132-8f6d-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:RecordOfPerformance\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record-of-performance+json\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 19:29:18', '2')
  [1m[36m (10.9ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=11&return_url=/lti2_tp/registrations
Completed 302 Found in 64ms (ActiveRecord: 12.1ms)
Started GET "/lti_registration_wips?registration_id=11&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 12:29:18 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"11", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 19:29:18', 'Elan/LuMoS', 11, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 19:29:18')
  [1m[36m (11.9ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (13.0ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (13.4ms)
Completed 200 OK in 30ms (Views: 14.9ms | ActiveRecord: 12.7ms)
Started PATCH "/lti_registration_wips/12" for 127.0.0.1 at 2015-06-17 12:29:25 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1229"}, "commit"=>"Update Lti registration wip", "id"=>"12"}
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 12 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1229', `updated_at` = '2015-06-17 19:29:25' WHERE `lti_registration_wips`.`id` = 12
  [1m[36m (5.6ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.5ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1229', `updated_at` = '2015-06-17 19:29:25' WHERE `lti2_tp_registrations`.`id` = 11
  [1m[36m (11.0ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.4ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 12 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1229' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 19:29:25', 'Elan University1229', '2015-06-17 19:29:25')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '16216f10-f755-0132-8f68-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0ecf9d90-f755-0132-8f6d-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T19:29:25Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"0ecec2a0-f755-0132-8f6d-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0ecf9d90-f755-0132-8f6d-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"87ed4781f2c6b300ff52a2f1b74841de\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:RecordOfPerformance\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 19:29:25' WHERE `lti2_tp_registrations`.`id` = 11[0m
  [1m[35m (0.7ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=11
Completed 302 Found in 91ms (ActiveRecord: 27.4ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=11" for 127.0.0.1 at 2015-06-17 12:29:25 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"400-Bad Request ", "lti_errorlog"=>"400-Bad Request ", "id"=>"11"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 11 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=400-Bad+Request+&lti_errormsg=400-Bad+Request+&status=failure
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 12:44:17 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451", "reg_key"=>"26e22e00-f757-0132-8f6e-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"5200156f70bfec3d50453bdef6cde71fc1f3b4f1358cba5d759608b6fa6e08dc298a41fc81c3bc641a114b0e91335c42fc05c5b6c69804e65a8d92be0bf380f52abbd29ddfce94514d6c2d1d35889c1371ac5923e71f71fdf74a918eccd4d76e29d7bb674c825ab3710139f950548c4dd5c7967d7bf84e069ccd7fd707f4c0a4", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (6.8ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 19:44:17', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '26e22e00-f757-0132-8f6e-20c9d07c6451', '5f0dc39ca4e11aaa7909e4e8262b8b1c', 'received', '5200156f70bfec3d50453bdef6cde71fc1f3b4f1358cba5d759608b6fa6e08dc298a41fc81c3bc641a114b0e91335c42fc05c5b6c69804e65a8d92be0bf380f52abbd29ddfce94514d6c2d1d35889c1371ac5923e71f71fdf74a918eccd4d76e29d7bb674c825ab3710139f950548c4dd5c7967d7bf84e069ccd7fd707f4c0a4', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"26e230a0-f757-0132-8f6e-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:RecordOfPerformance\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record-of-performance+json\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 19:44:17', '2')[0m
  [1m[35m (12.0ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=12&return_url=/lti2_tp/registrations
Completed 302 Found in 131ms (ActiveRecord: 57.2ms)
Started GET "/lti_registration_wips?registration_id=12&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 12:44:17 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"12", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 19:44:17', 'Elan/LuMoS', 12, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 19:44:17')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (164.3ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (171.3ms)
Completed 200 OK in 267ms (Views: 230.9ms | ActiveRecord: 21.4ms)
Started PATCH "/lti_registration_wips/13" for 127.0.0.1 at 2015-06-17 12:44:23 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1244"}, "commit"=>"Update Lti registration wip", "id"=>"13"}
  [1m[36mLtiRegistrationWip Load (0.5ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1244', `updated_at` = '2015-06-17 19:44:23' WHERE `lti_registration_wips`.`id` = 13[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1244', `updated_at` = '2015-06-17 19:44:23' WHERE `lti2_tp_registrations`.`id` = 12[0m
  [1m[35m (5.4ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (1.0ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 13 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 12 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1244' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 19:44:23', 'Elan University1244', '2015-06-17 19:44:23')[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '2d776bd0-f757-0132-8f6f-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T19:44:23Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"26e22e00-f757-0132-8f6e-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"0c5ebbb020784effbc145ca18885340b\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:RecordOfPerformance\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 19:44:23' WHERE `lti2_tp_registrations`.`id` = 12
  [1m[36m (12.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=12
Completed 302 Found in 113ms (ActiveRecord: 60.6ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=12" for 127.0.0.1 at 2015-06-17 12:44:23 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"400-Bad Request ", "lti_errorlog"=>"400-Bad Request ", "id"=>"12"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 12 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=400-Bad+Request+&lti_errormsg=400-Bad+Request+&status=failure
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 12:53:18 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/6914fcd0-f758-0132-8f6e-20c9d07c6451", "reg_key"=>"6914f960-f758-0132-8f6e-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"6b9373fa7365f989670a287c12f319c55314ef60c5e1009816d3ea472e9c07e710bb29b684d81073f20a2b24c2e3f69433fe4c6e9bc8f179ab4eb561b1f97389682ff09926278779fdc5f0b096a781a74e7ae9f513c84b7c10a3d1b8f4834090299d9392a44edd6e3b0612ba17dd771048c1ed72d40ee4288cf0e00819613abf", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 19:53:18', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '6914f960-f758-0132-8f6e-20c9d07c6451', '540237e383e1d37f1e097bb58ca0607e', 'received', '6b9373fa7365f989670a287c12f319c55314ef60c5e1009816d3ea472e9c07e710bb29b684d81073f20a2b24c2e3f69433fe4c6e9bc8f179ab4eb561b1f97389682ff09926278779fdc5f0b096a781a74e7ae9f513c84b7c10a3d1b8f4834090299d9392a44edd6e3b0612ba17dd771048c1ed72d40ee4288cf0e00819613abf', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/6914fcd0-f758-0132-8f6e-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"6914fcd0-f758-0132-8f6e-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:RecordOfPerformance\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record-of-performance+json\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 19:53:18', '2')[0m
  [1m[35m (10.6ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=13&return_url=/lti2_tp/registrations
Completed 302 Found in 57ms (ActiveRecord: 12.1ms)
Started GET "/lti_registration_wips?registration_id=13&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 12:53:18 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"13", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 19:53:18', 'Elan/LuMoS', 13, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 19:53:18')[0m
  [1m[35m (5.6ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (16.9ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (17.7ms)
Completed 200 OK in 31ms (Views: 20.0ms | ActiveRecord: 6.6ms)
Started PATCH "/lti_registration_wips/14" for 127.0.0.1 at 2015-06-17 12:53:23 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1253"}, "commit"=>"Update Lti registration wip", "id"=>"14"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1253', `updated_at` = '2015-06-17 19:53:23' WHERE `lti_registration_wips`.`id` = 14[0m
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1253', `updated_at` = '2015-06-17 19:53:23' WHERE `lti2_tp_registrations`.`id` = 13[0m
  [1m[35m (12.2ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 14 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 13 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.2ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1253' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 19:53:23', 'Elan University1253', '2015-06-17 19:53:23')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '6fa79a80-f758-0132-8f6f-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T19:53:23Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"6914f960-f758-0132-8f6e-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/6914fcd0-f758-0132-8f6e-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"2bde0d1a091b9584a58fe7dfd99a1e37\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:RecordOfPerformance\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 19:53:23' WHERE `lti2_tp_registrations`.`id` = 13
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=13
Completed 302 Found in 47ms (ActiveRecord: 21.5ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=13" for 127.0.0.1 at 2015-06-17 12:53:23 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"400-Bad Request ", "lti_errorlog"=>"400-Bad Request ", "id"=>"13"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 13 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=400-Bad+Request+&lti_errormsg=400-Bad+Request+&status=failure
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 12:55:11 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ad22efa0-f758-0132-8f6e-20c9d07c6451", "reg_key"=>"ad22ed60-f758-0132-8f6e-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"a9b039ec10833dec65d1879b785b6de7837e8ae7ae99fc65dde7d6931d51dc1c7f488a5667bfbd50d687eb505406571eb456a9094780e62cdb61b25865cb7e590462a17675827551deaa38c34a4b608139ce978dd74e11ef529a68d8bc764e3393d31564938e2e06b554f61d2bc71148dac4ae6908124d236e49e6afc6a83ed3", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 19:55:11', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'ad22ed60-f758-0132-8f6e-20c9d07c6451', '0368b82875f860c77a22c82193a74fec', 'received', 'a9b039ec10833dec65d1879b785b6de7837e8ae7ae99fc65dde7d6931d51dc1c7f488a5667bfbd50d687eb505406571eb456a9094780e62cdb61b25865cb7e590462a17675827551deaa38c34a4b608139ce978dd74e11ef529a68d8bc764e3393d31564938e2e06b554f61d2bc71148dac4ae6908124d236e49e6afc6a83ed3', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ad22efa0-f758-0132-8f6e-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"ad22efa0-f758-0132-8f6e-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:RecordOfPerformance\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record-of-performance+json\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 19:55:11', '2')[0m
  [1m[35m (11.9ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=14&return_url=/lti2_tp/registrations
Completed 302 Found in 45ms (ActiveRecord: 13.1ms)
Started GET "/lti_registration_wips?registration_id=14&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 12:55:11 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"14", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 19:55:11', 'Elan/LuMoS', 14, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 19:55:11')[0m
  [1m[35m (6.0ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (12.4ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (12.7ms)
Completed 200 OK in 23ms (Views: 13.9ms | ActiveRecord: 6.6ms)
Started PATCH "/lti_registration_wips/15" for 127.0.0.1 at 2015-06-17 12:55:16 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1255"}, "commit"=>"Update Lti registration wip", "id"=>"15"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1255', `updated_at` = '2015-06-17 19:55:16' WHERE `lti_registration_wips`.`id` = 15[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1255', `updated_at` = '2015-06-17 19:55:16' WHERE `lti2_tp_registrations`.`id` = 14[0m
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 15 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 14 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.2ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1255' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 19:55:16', 'Elan University1255', '2015-06-17 19:55:16')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = 'b2a168c0-f758-0132-8f6f-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/26e230a0-f757-0132-8f6e-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T19:55:16Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"ad22ed60-f758-0132-8f6e-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ad22efa0-f758-0132-8f6e-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"2b6e74883830f98f32a08a1d1f4b649c\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:RecordOfPerformance\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 19:55:16' WHERE `lti2_tp_registrations`.`id` = 14
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=14
Completed 302 Found in 52ms (ActiveRecord: 23.1ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=14" for 127.0.0.1 at 2015-06-17 12:55:16 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"400-Bad Request ", "lti_errorlog"=>"400-Bad Request ", "id"=>"14"}
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 14 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=400-Bad+Request+&lti_errormsg=400-Bad+Request+&status=failure
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.3ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 12:59:10 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/3bf1d6d0-f759-0132-8f70-20c9d07c6451", "reg_key"=>"3bf0fd40-f759-0132-8f70-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"da912f1c349e0b5f4f8e3b29eddf3a76583e86e861cdc0abe1dca4b9a9d1f036db084ab9e1a7215c8f7c651e66a29d4b95479942f083dbe14e03598bec5782adee5dab8f3b4a45ccd07a0eb677e42d0657e8bf24693fd33e3bacae44ac21903bebd6dbde624ed76bcbedb5c76cfd59b488e8fefbd98003ba228cfb04e68f532e", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 19:59:10', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '3bf0fd40-f759-0132-8f70-20c9d07c6451', 'b848a7906127874bfc3900a7676a6528', 'received', 'da912f1c349e0b5f4f8e3b29eddf3a76583e86e861cdc0abe1dca4b9a9d1f036db084ab9e1a7215c8f7c651e66a29d4b95479942f083dbe14e03598bec5782adee5dab8f3b4a45ccd07a0eb677e42d0657e8bf24693fd33e3bacae44ac21903bebd6dbde624ed76bcbedb5c76cfd59b488e8fefbd98003ba228cfb04e68f532e', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/3bf1d6d0-f759-0132-8f70-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/3bf1d6d0-f759-0132-8f70-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/3bf1d6d0-f759-0132-8f70-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"3bf1d6d0-f759-0132-8f70-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 19:59:10', '2')[0m
  [1m[35m (11.2ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=15&return_url=/lti2_tp/registrations
Completed 302 Found in 98ms (ActiveRecord: 33.5ms)
Started GET "/lti_registration_wips?registration_id=15&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 12:59:10 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"15", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 19:59:10', 'Elan/LuMoS', 15, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 19:59:10')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (142.0ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (148.1ms)
Completed 200 OK in 239ms (Views: 208.4ms | ActiveRecord: 19.1ms)
Started PATCH "/lti_registration_wips/16" for 127.0.0.1 at 2015-06-17 12:59:16 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1259"}, "commit"=>"Update Lti registration wip", "id"=>"16"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1259', `updated_at` = '2015-06-17 19:59:16' WHERE `lti_registration_wips`.`id` = 16[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1259', `updated_at` = '2015-06-17 19:59:16' WHERE `lti2_tp_registrations`.`id` = 15[0m
  [1m[35m (11.9ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 16 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.3ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1259' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 19:59:16', 'Elan University1259', '2015-06-17 19:59:16')[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '41d626f0-f759-0132-8f71-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/3bf1d6d0-f759-0132-8f70-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T19:59:16Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"3bf0fd40-f759-0132-8f70-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/3bf1d6d0-f759-0132-8f70-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"6f2484497a7813a8b2d71ae3fc644947\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-06-17 19:59:16' WHERE `lti2_tp_registrations`.`id` = 15
  [1m[36m (16.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-06-17 19:59:16' WHERE `lti2_tp_registrations`.`id` = 15[0m
  [1m[35m (6.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University1259' AND `tenants`.`id` != 15) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `tenants` SET `secret` = '6f2484497a7813a8b2d71ae3fc644947', `tenant_key` = '3bf0fd40-f759-0132-8f70-20c9d07c6451', `updated_at` = '2015-06-17 19:59:16' WHERE `tenants`.`id` = 15[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_id` = 15, `updated_at` = '2015-06-17 19:59:16' WHERE `lti2_tp_registrations`.`id` = 15
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=3bf0fd40-f759-0132-8f70-20c9d07c6451&&id=15
Completed 302 Found in 289ms (ActiveRecord: 68.1ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=3bf0fd40-f759-0132-8f70-20c9d07c6451&&id=15" for 127.0.0.1 at 2015-06-17 12:59:16 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"3bf0fd40-f759-0132-8f70-20c9d07c6451", "id"=>"15"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 15 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=3bf0fd40-f759-0132-8f70-20c9d07c6451
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
  [1m[36mLti2Tp::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 13:18:33 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f0890f60-f75b-0132-8f72-20c9d07c6451", "reg_key"=>"f0890d10-f75b-0132-8f72-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"348a8d5e3e0bbab2920c150686f5d61d166a1022b7b9e7409e06c66ca6d4e8c7836a9ee9dbd3e7a4d32079977231f902eda9006a2fa3cb9ef059b05b56afb27ec5e1b767ff04b44da372602380357211e142964be23baaeec673881f1e949b938ceed78e430bc66d31b78ad952ebaaf66791b909d99f931bf76bca170e0c2bd8", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_oauth_half_secret`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-06-17 20:18:33', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'f0890d10-f75b-0132-8f72-20c9d07c6451', '96d82fb27350c3728674b45188826ae0', 'received', '348a8d5e3e0bbab2920c150686f5d61d166a1022b7b9e7409e06c66ca6d4e8c7836a9ee9dbd3e7a4d32079977231f902eda9006a2fa3cb9ef059b05b56afb27ec5e1b767ff04b44da372602380357211e142964be23baaeec673881f1e949b938ceed78e430bc66d31b78ad952ebaaf66791b909d99f931bf76bca170e0c2bd8', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f0890f60-f75b-0132-8f72-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f0890f60-f75b-0132-8f72-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/f0890f60-f75b-0132-8f72-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"f0890f60-f75b-0132-8f72-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitsecret\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:RecordOfPerformance\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/record_of_performance\",\"format\":[\"application/vnd.ims.cbe.v1.record_of_performance+json\"],\"action\":[\"POST\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-06-17 20:18:33', '2')[0m
  [1m[35m (12.3ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=16&return_url=/lti2_tp/registrations
Completed 302 Found in 139ms (ActiveRecord: 34.9ms)
Started GET "/lti_registration_wips?registration_id=16&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-06-17 13:18:33 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"16", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 20:18:33', 'Elan/LuMoS', 16, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-06-17 20:18:33')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (187.9ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (195.7ms)
Completed 200 OK in 320ms (Views: 280.7ms | ActiveRecord: 20.9ms)
Started PATCH "/lti_registration_wips/17" for 127.0.0.1 at 2015-06-17 13:18:40 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University118"}, "commit"=>"Update Lti registration wip", "id"=>"17"}
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University118', `updated_at` = '2015-06-17 20:18:40' WHERE `lti_registration_wips`.`id` = 17[0m
  [1m[35m (5.7ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University118', `updated_at` = '2015-06-17 20:18:40' WHERE `lti2_tp_registrations`.`id` = 16[0m
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 17 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University118' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-06-17 20:18:40', 'Elan University118', '2015-06-17 20:18:40')[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = 'f77fc3f0-f75b-0132-8f73-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f0890f60-f75b-0132-8f72-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-06-17T20:18:40Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"f0890d10-f75b-0132-8f72-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f0890f60-f75b-0132-8f72-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"0bfdd0c78fa1473692293bed0edc45bf\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:RecordOfPerformance\",\"action\":[\"POST\"]}]}}', `updated_at` = '2015-06-17 20:18:40' WHERE `lti2_tp_registrations`.`id` = 16
  [1m[36m (11.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-06-17 20:18:40' WHERE `lti2_tp_registrations`.`id` = 16[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.5ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University118' AND `tenants`.`id` != 16) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `tenants` SET `secret` = '0bfdd0c78fa1473692293bed0edc45bf', `tenant_key` = 'f0890d10-f75b-0132-8f72-20c9d07c6451', `updated_at` = '2015-06-17 20:18:40' WHERE `tenants`.`id` = 16[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_id` = 16, `updated_at` = '2015-06-17 20:18:40' WHERE `lti2_tp_registrations`.`id` = 16
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=f0890d10-f75b-0132-8f72-20c9d07c6451&&id=16
Completed 302 Found in 291ms (ActiveRecord: 79.2ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=f0890d10-f75b-0132-8f72-20c9d07c6451&&id=16" for 127.0.0.1 at 2015-06-17 13:18:40 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"f0890d10-f75b-0132-8f72-20c9d07c6451", "id"=>"16"}
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 16 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=f0890d10-f75b-0132-8f72-20c9d07c6451
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[36mLti2Tp::Registry Load (62.1ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 15:59:46 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/eb8607f0-07f2-0133-dfcd-20c9d07c6451", "reg_key"=>"eb7dbc60-07f2-0133-dfcd-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"eec57055d905863d74b6bded546704526dcd07f6f4fa0622fbfb51da5e3048dfb5564f23554727a7d107dc85eba5324ca35175865d60e3918c70f2cb235085428f06e22e8e64061315b964a5ae55c683062b562a0639df83d6be4ac159508d09e69537407ebec0f9b4826e6eb0b4523a24338ded586f14b6ca3a86979b6dd23a", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (8.9ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-07-08 22:59:47', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'eb7dbc60-07f2-0133-dfcd-20c9d07c6451', '03fe49c17ee2fc08553acb4b34b3e32f', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/eb8607f0-07f2-0133-dfcd-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/eb8607f0-07f2-0133-dfcd-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/eb8607f0-07f2-0133-dfcd-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"eb8607f0-07f2-0133-dfcd-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitSecret\",\"OAuth.hmac-sha256\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-07-08 22:59:47', '2')[0m
  [1m[35m (11.8ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=17&return_url=/lti2_tp/registrations
Completed 302 Found in 509ms (ActiveRecord: 43.7ms)
Started GET "/lti_registration_wips?registration_id=17&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 15:59:47 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"17", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-08 22:59:47', 'Elan/LuMoS', 17, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-07-08 22:59:47')[0m
  [1m[35m (0.6ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (204.9ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (211.6ms)
Completed 200 OK in 335ms (Views: 296.6ms | ActiveRecord: 25.9ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-07-08 15:59:47 -0700
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-07-08 15:59:47 -0700
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-07-08 15:59:47 -0700
Started PATCH "/lti_registration_wips/18" for 127.0.0.1 at 2015-07-08 15:59:53 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University359"}, "commit"=>"Update Lti registration wip", "id"=>"18"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University359', `updated_at` = '2015-07-08 22:59:53' WHERE `lti_registration_wips`.`id` = 18[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University359', `updated_at` = '2015-07-08 22:59:53' WHERE `lti2_tp_registrations`.`id` = 17[0m
  [1m[35m (11.6ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 18 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 17 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (23.7ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University359' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-08 22:59:53', 'Elan University359', '2015-07-08 22:59:53')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (7.0ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = 'f7f04b60-07f2-0133-dfce-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/eb8607f0-07f2-0133-dfcd-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-07-08T22:59:53Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"eb7dbc60-07f2-0133-dfcd-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/eb8607f0-07f2-0133-dfcd-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"tp_half_shared_secret\":\"22961ad27d7a4cee72ed68f794a1a2ce5d6fc166214b0f344cc2fcc2ad957f7c122ae378b50eb315a094fc78127e7f9507b2beed790ee2641aaa2c2675c3ad9d\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-08 22:59:53' WHERE `lti2_tp_registrations`.`id` = 17
  [1m[36m (12.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=17
Completed 302 Found in 207ms (ActiveRecord: 83.3ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=17" for 127.0.0.1 at 2015-07-08 15:59:53 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"400-Bad Request ", "lti_errorlog"=>"400-Bad Request ", "id"=>"17"}
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 17 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=400-Bad+Request+&lti_errormsg=400-Bad+Request+&status=failure
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 16:01:14 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/23749ed0-07f3-0133-dfcd-20c9d07c6451", "reg_key"=>"237489c0-07f3-0133-dfcd-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"b9591e03b708baafae92520226c99f388e23b32f09f5af75cf7f4459403cb17d8bc8184f8b9adfc5ee9b44c70c035968ead099f8ef0456268e75d83dbf3d5452500ba268f1b396831fa95058e6509ab318ce094047e7019569da36b858a11b29e8ee9bb93b9e4568bae69158b80c1d1d9e1a59f370c8307a37f5ae13b46abd82", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-07-08 23:01:14', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '237489c0-07f3-0133-dfcd-20c9d07c6451', '9cdbce61f59ac9c2ef5f915f9d165b26', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/23749ed0-07f3-0133-dfcd-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/eb8607f0-07f2-0133-dfcd-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/eb8607f0-07f2-0133-dfcd-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"23749ed0-07f3-0133-dfcd-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\",\"OAuth.splitSecret\",\"OAuth.hmac-sha256\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-07-08 23:01:14', '2')[0m
  [1m[35m (10.1ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=18&return_url=/lti2_tp/registrations
Completed 302 Found in 163ms (ActiveRecord: 11.5ms)
Started GET "/lti_registration_wips?registration_id=18&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 16:01:14 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"18", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-08 23:01:14', 'Elan/LuMoS', 18, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-07-08 23:01:14')[0m
  [1m[35m (11.9ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (11.1ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (11.6ms)
Completed 200 OK in 30ms (Views: 13.1ms | ActiveRecord: 12.8ms)
Started PATCH "/lti_registration_wips/19" for 127.0.0.1 at 2015-07-08 16:01:20 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University401"}, "commit"=>"Update Lti registration wip", "id"=>"19"}
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University401', `updated_at` = '2015-07-08 23:01:20' WHERE `lti_registration_wips`.`id` = 19[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University401', `updated_at` = '2015-07-08 23:01:20' WHERE `lti2_tp_registrations`.`id` = 18[0m
  [1m[35m (12.0ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 19 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 18 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.3ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University401' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-08 23:01:20', 'Elan University401', '2015-07-08 23:01:20')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '2bb0a190-07f3-0133-dfce-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/eb8607f0-07f2-0133-dfcd-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-07-08T23:01:20Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"237489c0-07f3-0133-dfcd-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/23749ed0-07f3-0133-dfcd-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"tp_half_shared_secret\":\"ebb3364cef90bc2d488efa80a1478d06683106d6c8c5ea3899fab467d3a208967433db7800d82e13d79b6fdb576f39dbba3e4ab9b15cc02417b4d35277580219\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-08 23:01:20' WHERE `lti2_tp_registrations`.`id` = 18
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=18
Completed 302 Found in 98ms (ActiveRecord: 22.8ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=400-Bad+Request+&lti_errorlog=400-Bad+Request+&&id=18" for 127.0.0.1 at 2015-07-08 16:01:20 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"400-Bad Request ", "lti_errorlog"=>"400-Bad Request ", "id"=>"18"}
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 18 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=400-Bad+Request+&lti_errormsg=400-Bad+Request+&status=failure
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 16:05:36 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451", "reg_key"=>"c0b885e0-07f3-0133-dfcf-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"6d7ea219d52b841071931d81ab2738f3e4332160c37387c99c3d78b0e1dc1ff37a449e5c29837cd3e35f9fd9e985c1d4f92b044338fccad7a4b0b14c4ed324003b9f10af181d78c1deaf0e494449f858d927fda838717dbfe856403b4f4c765dd10d6314830cc8bcaad337773ca7de945b11d5f14239692c41007e9288c1a956", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (6.7ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-07-08 23:05:36', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'c0b885e0-07f3-0133-dfcf-20c9d07c6451', 'd03dbee9b9a9c6d44cdec686cf8f7b26', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"c0b987e0-07f3-0133-dfcf-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-07-08 23:05:36', '2')[0m
  [1m[35m (4.8ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=19&return_url=/lti2_tp/registrations
Completed 302 Found in 125ms (ActiveRecord: 12.0ms)
Started GET "/lti_registration_wips?registration_id=19&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 16:05:36 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"19", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.6ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-08 23:05:37', 'Elan/LuMoS', 19, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-07-08 23:05:37')[0m
  [1m[35m (5.9ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (13.8ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (14.3ms)
Completed 200 OK in 27ms (Views: 15.7ms | ActiveRecord: 7.0ms)
Started PATCH "/lti_registration_wips/20" for 127.0.0.1 at 2015-07-08 16:05:41 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University405"}, "commit"=>"Update Lti registration wip", "id"=>"20"}
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University405', `updated_at` = '2015-07-08 23:05:41' WHERE `lti_registration_wips`.`id` = 20[0m
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.9ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University405', `updated_at` = '2015-07-08 23:05:41' WHERE `lti2_tp_registrations`.`id` = 19[0m
  [1m[35m (11.2ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 20 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 19 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.2ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University405' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-08 23:05:41', 'Elan University405', '2015-07-08 23:05:41')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = 'c779bef0-07f3-0133-dfce-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-07-08T23:05:41Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"c0b885e0-07f3-0133-dfcf-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"b7a8148748879e998c00159db7e977d9\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-08 23:05:41' WHERE `lti2_tp_registrations`.`id` = 19
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 330ms
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.3ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 16:11:10 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/886bdd50-07f4-0133-dfcf-20c9d07c6451", "reg_key"=>"886bd910-07f4-0133-dfcf-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"6c4f126f502305f61bfb958a19c980b4c9ff1177fcc1c67bd1d2304a6c20fcc5d72673c8fb65ce0ff964fadc25ef83317ddb07e749b640cccb2797655f7fbdfcabcd2be563cb7092a3a4ab92bc6b49be5f4d14d0cb9022cd9faac624eadcfc0af250db4cad0316531b74f6c8b3b0a989bee2ba55edebe14113c7eb6e90f69aa6", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-07-08 23:11:11', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '886bd910-07f4-0133-dfcf-20c9d07c6451', 'e20e2ec8f93486a4215ceb329dda51dd', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/886bdd50-07f4-0133-dfcf-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"886bdd50-07f4-0133-dfcf-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-07-08 23:11:11', '2')[0m
  [1m[35m (23.3ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=20&return_url=/lti2_tp/registrations
Completed 302 Found in 199ms (ActiveRecord: 82.7ms)
Started GET "/lti_registration_wips?registration_id=20&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 16:11:11 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"20", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-08 23:11:11', 'Elan/LuMoS', 20, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-07-08 23:11:11')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (129.4ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (136.9ms)
Completed 200 OK in 1755ms (Views: 1716.4ms | ActiveRecord: 23.6ms)
Started PATCH "/lti_registration_wips/21" for 127.0.0.1 at 2015-07-08 16:11:16 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University411"}, "commit"=>"Update Lti registration wip", "id"=>"21"}
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 21 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University411', `updated_at` = '2015-07-08 23:11:16' WHERE `lti_registration_wips`.`id` = 21[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University411', `updated_at` = '2015-07-08 23:11:16' WHERE `lti2_tp_registrations`.`id` = 20[0m
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 21 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 20 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University411' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-08 23:11:17', 'Elan University411', '2015-07-08 23:11:17')[0m
  [1m[35m (11.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '8f57be20-07f4-0133-dfd0-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-07-08T23:11:17Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"886bd910-07f4-0133-dfcf-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/886bdd50-07f4-0133-dfcf-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"db4eedd23999410c235f8d0c79248a75\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-08 23:11:17' WHERE `lti2_tp_registrations`.`id` = 20
  [1m[36m (12.2ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 301ms (ActiveRecord: 67.3ms)
  [1m[36mLti2Tp::Registry Load (0.6ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 16:42:48 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f32c1930-07f8-0133-dfcf-20c9d07c6451", "reg_key"=>"f32c1360-07f8-0133-dfcf-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"28b82ff156284c97974b283e4501f7db67145a923bc8b4ad33779bc8f9105183d2ee52365cb941294bc558e0e025b7fae42d5cc59e573904c1f6c45d132d8b7425bf2713be4c81c2a05daca9380d731247d828b6269104be2291b6c952c7ba1a325762454761fa12cef3d071cc54568f02c5afe14f3c38a59a6d7f42e582e273", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.6ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (7.3ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-07-08 23:42:48', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'f32c1360-07f8-0133-dfcf-20c9d07c6451', '0e8b600c609f2da0452abed11fc175dd', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f32c1930-07f8-0133-dfcf-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"f32c1930-07f8-0133-dfcf-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]}', '2015-07-08 23:42:48', '2')[0m
  [1m[35m (11.3ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=21&return_url=/lti2_tp/registrations
Completed 302 Found in 130ms (ActiveRecord: 40.0ms)
Started GET "/lti_registration_wips?registration_id=21&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 16:42:48 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"21", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 21 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-08 23:42:48', 'Elan/LuMoS', 21, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-07-08 23:42:48')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (161.3ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (176.2ms)
Completed 200 OK in 288ms (Views: 249.8ms | ActiveRecord: 20.3ms)
Started PATCH "/lti_registration_wips/22" for 127.0.0.1 at 2015-07-08 16:42:53 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University442"}, "commit"=>"Update Lti registration wip", "id"=>"22"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University442', `updated_at` = '2015-07-08 23:42:53' WHERE `lti_registration_wips`.`id` = 22[0m
  [1m[35m (5.5ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 21 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.9ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University442', `updated_at` = '2015-07-08 23:42:53' WHERE `lti2_tp_registrations`.`id` = 21[0m
  [1m[35m (11.2ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 22 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 21 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University442' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-08 23:42:53', 'Elan University442', '2015-07-08 23:42:53')[0m
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = 'f9e37360-07f8-0133-dfd1-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-07-08T23:42:53Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"f32c1360-07f8-0133-dfcf-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f32c1930-07f8-0133-dfcf-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/ToolProxy.collection\",\"@type\":\"RestService\",\"action\":[\"PUT\"]}]},\"security_contract\":{\"shared_secret\":\"6f50123307055d38f156028132dd286a\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-08 23:42:53' WHERE `lti2_tp_registrations`.`id` = 21
  [1m[36m (12.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-07-08 23:42:54' WHERE `lti2_tp_registrations`.`id` = 21[0m
  [1m[35m (11.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.6ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University442' AND `tenants`.`id` != 21) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `tenants` SET `secret` = '6f50123307055d38f156028132dd286a', `tenant_key` = 'f32c1360-07f8-0133-dfcf-20c9d07c6451', `updated_at` = '2015-07-08 23:42:54' WHERE `tenants`.`id` = 21[0m
  [1m[35m (5.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_id` = 21, `updated_at` = '2015-07-08 23:42:54' WHERE `lti2_tp_registrations`.`id` = 21
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=f32c1360-07f8-0133-dfcf-20c9d07c6451&&id=21
Completed 302 Found in 334ms (ActiveRecord: 84.1ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=f32c1360-07f8-0133-dfcf-20c9d07c6451&&id=21" for 127.0.0.1 at 2015-07-08 16:42:54 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"f32c1360-07f8-0133-dfcf-20c9d07c6451", "id"=>"21"}
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 21 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=f32c1360-07f8-0133-dfcf-20c9d07c6451
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 18:33:55 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/7981d230-0808-0133-dfcf-20c9d07c6451", "reg_key"=>"7980b260-0808-0133-dfcf-20c9d07c6451", "reg_password"=>"[FILTERED]", "tc_oauth_half_secret"=>"312bd717c255deaa6dab46604bf43f1ff27d02d9f21b2fd90ad4f37dae18f1586fce094dfdf85095563c0928568e95ba6701327c37f763f6fc6fe622669199ecf4e015622ab33b70dd629ba30209ebab07583ad894f041905728a2118236aefc2dfe9234019d6c0cde4e2e482b33eb103980c86cc880fa53a81fcbcfd7996548", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (0.8ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-07-09 01:33:55', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '7980b260-0808-0133-dfcf-20c9d07c6451', '99394458da0b4c5baa60068884577ed1', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/7981d230-0808-0133-dfcf-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"7981d230-0808-0133-dfcf-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/RecordOfPerformance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', '2015-07-09 01:33:55', '2')[0m
  [1m[35m (1.1ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=22&return_url=/lti2_tp/registrations
Completed 302 Found in 135ms (ActiveRecord: 4.3ms)
Started GET "/lti_registration_wips?registration_id=22&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-08 18:33:55 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"22", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-09 01:33:55', 'Elan/LuMoS', 22, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-07-09 01:33:55')[0m
  [1m[35m (11.3ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (20.3ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (21.9ms)
Completed 200 OK in 46ms (Views: 27.8ms | ActiveRecord: 12.4ms)
Started PATCH "/lti_registration_wips/23" for 127.0.0.1 at 2015-07-08 18:34:01 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University633"}, "commit"=>"Update Lti registration wip", "id"=>"23"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 23 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University633', `updated_at` = '2015-07-09 01:34:01' WHERE `lti_registration_wips`.`id` = 23[0m
  [1m[35m (5.8ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.0ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University633', `updated_at` = '2015-07-09 01:34:01' WHERE `lti2_tp_registrations`.`id` = 22[0m
  [1m[35m (10.3ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 23 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 22 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.5ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University633' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-09 01:34:01', 'Elan University633', '2015-07-09 01:34:01')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '7fe6d2b0-0808-0133-dfd1-20c9d07c6451', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/c0b987e0-07f3-0133-dfcf-20c9d07c6451#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-07-09T01:34:01Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"7980b260-0808-0133-dfcf-20c9d07c6451\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/7981d230-0808-0133-dfcf-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/lti2_tp/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/lti2_tp/RecordOfPerformance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"b1269bf253f8ca2afe92e368c16bfa86\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-09 01:34:01' WHERE `lti2_tp_registrations`.`id` = 22
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `status` = 'register', `updated_at` = '2015-07-09 01:34:01' WHERE `lti2_tp_registrations`.`id` = 22[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University633' AND `tenants`.`id` != 22) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `tenants` SET `secret` = 'b1269bf253f8ca2afe92e368c16bfa86', `tenant_key` = '7980b260-0808-0133-dfcf-20c9d07c6451', `updated_at` = '2015-07-09 01:34:01' WHERE `tenants`.`id` = 22[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (5.4ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_id` = 22, `updated_at` = '2015-07-09 01:34:01' WHERE `lti2_tp_registrations`.`id` = 22
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=7980b260-0808-0133-dfcf-20c9d07c6451&&id=22
Completed 302 Found in 265ms (ActiveRecord: 46.9ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=7980b260-0808-0133-dfcf-20c9d07c6451&&id=22" for 127.0.0.1 at 2015-07-08 18:34:01 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"7980b260-0808-0133-dfcf-20c9d07c6451", "id"=>"22"}
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 22 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=7980b260-0808-0133-dfcf-20c9d07c6451
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/RecordOfPerformance" for 127.0.0.1 at 2015-07-09 07:39:54 -0700
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (38.5ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (10.3ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (8.6ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (16.9ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (11.8ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (19.4ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (11.6ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (6.0ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (12.1ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (5.8ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[36mLti2Tp::Registry Load (0.9ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-09 09:20:07 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"47ceed90-0882-0133-dfd7-20c9d07c6451", :oauth_nonce=>"5926966903674", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1436458797", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"wLOxSsxu1Qyle7YEmhVFf9K+rIE=", :oauth_signature=>"6tq9/D3/24lrYJxZ3jPVg9HVbZc="}
  [1m[36mTenant Load (0.6ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '47ceed90-0882-0133-dfd7-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.7ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 27  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"47ceed90-0882-0133-dfd7-20c9d07c6451", :oauth_nonce=>"5926966903674", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1436458797", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"wLOxSsxu1Qyle7YEmhVFf9K+rIE=", :oauth_signature=>"6tq9/D3/24lrYJxZ3jPVg9HVbZc="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance",
  "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-09T09:19:55-07:00",
  "user": {
    "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/user/6",
    "schm:familyName": "Arne",
    "schm:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/organization/3",
    "legal_name": "IMS Learning Institute, LLC",
    "schm:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/program/3",
    "schm:alternateName": "Master of Business Admin FP",
    "schm:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/course_section/21",
        "schm:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/39",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/40",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/41",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/42",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/43",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/course_section/23",
        "schm:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/44",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/45",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/46",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/47",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/course_section/24",
        "schm:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/48",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/49",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/50",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/51",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/52",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/course_section/29",
        "schm:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/48",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/49",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/50",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/51",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/52",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/course_section/30",
        "schm:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/53",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/54",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/55",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/56",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4229acf0-0884-0133-dfd9-20c9d07c6451/competency/57",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 118ms (Views: 12.1ms | ActiveRecord: 49.4ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-09 09:24:24 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"47ceed90-0882-0133-dfd7-20c9d07c6451", :oauth_nonce=>"3415590143230", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1436459064", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"uXcyiSNp6jGCAoBQ2vwrdSJzij4=", :oauth_signature=>"6YSWYiBgRGFHHwkP7GyFSyrg/Sk="}
  [1m[36mTenant Load (0.5ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '47ceed90-0882-0133-dfd7-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 27  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"47ceed90-0882-0133-dfd7-20c9d07c6451", :oauth_nonce=>"3415590143230", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1436459064", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"uXcyiSNp6jGCAoBQ2vwrdSJzij4=", :oauth_signature=>"6YSWYiBgRGFHHwkP7GyFSyrg/Sk="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance",
  "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-09T09:24:23-07:00",
  "user": {
    "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/user/6",
    "schm:familyName": "Arne",
    "schm:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/organization/3",
    "legal_name": "IMS Learning Institute, LLC",
    "schm:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/program/3",
    "schm:alternateName": "Master of Business Admin FP",
    "schm:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/course_section/21",
        "schm:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/39",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/40",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/41",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/42",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/43",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/course_section/23",
        "schm:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/44",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/45",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/46",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/47",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/course_section/24",
        "schm:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/48",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/49",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/50",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/51",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/52",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/course_section/29",
        "schm:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/48",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/49",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/50",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/51",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/52",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/course_section/30",
        "schm:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/53",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/54",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/55",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/56",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/e23e5db0-0884-0133-dfda-20c9d07c6451/competency/57",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 11ms (Views: 1.0ms | ActiveRecord: 0.9ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-09 09:25:30 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"47ceed90-0882-0133-dfd7-20c9d07c6451", :oauth_nonce=>"9177338213255", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1436459130", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"QG3IZF5ZYBst+14pktiLdLn29zs=", :oauth_signature=>"1CP1it3F1bn0no3Mxwscj5Yww/U="}
  [1m[36mTenant Load (0.5ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '47ceed90-0882-0133-dfd7-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 27  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"47ceed90-0882-0133-dfd7-20c9d07c6451", :oauth_nonce=>"9177338213255", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1436459130", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"QG3IZF5ZYBst+14pktiLdLn29zs=", :oauth_signature=>"1CP1it3F1bn0no3Mxwscj5Yww/U="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance",
  "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-09T09:25:29-07:00",
  "user": {
    "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/user/6",
    "schm:familyName": "Arne",
    "schm:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/organization/3",
    "legal_name": "IMS Learning Institute, LLC",
    "schm:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/program/3",
    "schm:alternateName": "Master of Business Admin FP",
    "schm:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/course_section/21",
        "schm:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/39",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/40",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/41",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/42",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/43",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/course_section/23",
        "schm:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/44",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/45",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/46",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/47",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/course_section/24",
        "schm:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/48",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/49",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/50",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/51",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/52",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/course_section/29",
        "schm:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/48",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/49",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/50",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/51",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/52",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/course_section/30",
        "schm:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/53",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/54",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/55",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/56",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/09b65210-0885-0133-dfda-20c9d07c6451/competency/57",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 16ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[36mLti2Tp::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.4ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-09 09:25:45 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"47ceed90-0882-0133-dfd7-20c9d07c6451", :oauth_nonce=>"8566197029991", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1436459145", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"qSO8Zk0aib2lPLnVz8zaEAiEftE=", :oauth_signature=>"9CBaC9n7pN7r3fmogBJKT+2/wNA="}
  [1m[36mTenant Load (0.4ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '47ceed90-0882-0133-dfd7-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 27  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"47ceed90-0882-0133-dfd7-20c9d07c6451", :oauth_nonce=>"8566197029991", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1436459145", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"qSO8Zk0aib2lPLnVz8zaEAiEftE=", :oauth_signature=>"9CBaC9n7pN7r3fmogBJKT+2/wNA="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance",
  "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-09T09:25:45-07:00",
  "user": {
    "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/user/6",
    "schm:familyName": "Arne",
    "schm:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/organization/3",
    "legal_name": "IMS Learning Institute, LLC",
    "schm:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/program/3",
    "schm:alternateName": "Master of Business Admin FP",
    "schm:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/course_section/21",
        "schm:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/39",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/40",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/41",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/42",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/43",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/course_section/23",
        "schm:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/44",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/45",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/46",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/47",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/course_section/24",
        "schm:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/48",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/49",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/50",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/51",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/52",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/course_section/29",
        "schm:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/48",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/49",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/50",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/51",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/52",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/course_section/30",
        "schm:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/53",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/54",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/55",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/56",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/12f1d2d0-0885-0133-dfda-20c9d07c6451/competency/57",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 104ms (Views: 8.6ms | ActiveRecord: 39.5ms)
  [1m[36mLti2Tp::Registry Load (26.5ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mLti2Tp::Registry Load (57.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-28 10:00:19 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/09355870-1778-0133-793c-406c8f40a599", "reg_key"=>"09344ad0-1778-0133-793c-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"98a08d0e6bbd1816da517263ba411ff0"}
  [1m[36mLti2Tp::Tool Load (4.1ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 74ms (ActiveRecord: 42.8ms)
  [1m[36mLti2Tp::Registry Load (1.7ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-28 11:01:11 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/8b08afb0-1780-0133-793d-406c8f40a599", "reg_key"=>"8b07bd40-1780-0133-793d-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"f93a6509c32e25b9f426bb5c4e7ab93a"}
  [1m[36mLti2Tp::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 74ms (ActiveRecord: 38.4ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (18.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (25.7ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (19.7ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (15.8ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-28 11:29:34 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/7f0c2360-1784-0133-793e-406c8f40a599", "reg_key"=>"7f0b3740-1784-0133-793e-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"3ebd55010d007e63456191d649a3dfaf"}
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-28 18:29:34', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '7f0b3740-1784-0133-793e-406c8f40a599', '12d75ef4a7ca588be43aa44a2e7eef76', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/7f0c2360-1784-0133-793e-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/7f0c2360-1784-0133-793e-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/7f0c2360-1784-0133-793e-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"7f0c2360-1784-0133-793e-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', '3ebd55010d007e63456191d649a3dfaf', '2015-07-28 18:29:34', '2')[0m
  [1m[35m (13.6ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=28&return_url=/lti2_tp/registrations
Completed 302 Found in 141ms (ActiveRecord: 36.7ms)
Started GET "/lti_registration_wips?registration_id=28&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-28 11:29:34 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"28", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-28 18:29:34', 'Elan/LuMoS', 28, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-07-28 18:29:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (168.1ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (179.5ms)
Completed 200 OK in 294ms (Views: 256.1ms | ActiveRecord: 21.7ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-07-28 11:29:34 -0700
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-07-28 11:29:34 -0700
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-07-28 11:29:34 -0700
Started PATCH "/lti_registration_wips/29" for 127.0.0.1 at 2015-07-28 11:29:44 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1129"}, "commit"=>"Update Lti registration wip", "id"=>"29"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1129', `updated_at` = '2015-07-28 18:29:44' WHERE `lti_registration_wips`.`id` = 29[0m
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (5.9ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1129', `updated_at` = '2015-07-28 18:29:44' WHERE `lti2_tp_registrations`.`id` = 28[0m
  [1m[35m (10.7ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 29 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 28 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (5.7ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1129' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-28 18:29:45', 'Elan University1129', '2015-07-28 18:29:45')[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '8b30f980-1784-0133-793f-406c8f40a599', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/7f0c2360-1784-0133-793e-406c8f40a599#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-07-28T18:29:45Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"7f0b3740-1784-0133-793e-406c8f40a599\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/7f0c2360-1784-0133-793e-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"aec0d52e2bbb98080b2f3d9071334c40\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-28 18:29:45' WHERE `lti2_tp_registrations`.`id` = 28
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=500-Internal+Server+Error+&lti_errorlog=500-Internal+Server+Error+&&id=28
Completed 302 Found in 369ms (ActiveRecord: 67.3ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=500-Internal+Server+Error+&lti_errorlog=500-Internal+Server+Error+&&id=28" for 127.0.0.1 at 2015-07-28 11:29:45 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"500-Internal Server Error ", "lti_errorlog"=>"500-Internal Server Error ", "id"=>"28"}
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 28 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=500-Internal+Server+Error+&lti_errormsg=500-Internal+Server+Error+&status=failure
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[36mLti2Tp::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-28 14:10:24 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f9fadf30-179a-0133-7940-406c8f40a599", "reg_key"=>"f9fa0650-179a-0133-7940-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"b68abf21863a859cf9a5d5307c3be3f0"}
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-28 21:10:24', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'f9fa0650-179a-0133-7940-406c8f40a599', 'fbe7b17c1a5379e223f7dbef9e3c8d85', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f9fadf30-179a-0133-7940-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f9fadf30-179a-0133-7940-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/f9fadf30-179a-0133-7940-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"f9fadf30-179a-0133-7940-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'b68abf21863a859cf9a5d5307c3be3f0', '2015-07-28 21:10:24', '2')[0m
  [1m[35m (17.6ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=29&return_url=/lti2_tp/registrations
Completed 302 Found in 112ms (ActiveRecord: 40.8ms)
Started GET "/lti_registration_wips?registration_id=29&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-28 14:10:24 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"29", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-28 21:10:24', 'Elan/LuMoS', 29, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-07-28 21:10:24')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (179.1ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (190.6ms)
Completed 200 OK in 324ms (Views: 286.3ms | ActiveRecord: 21.1ms)
Started PATCH "/lti_registration_wips/30" for 127.0.0.1 at 2015-07-28 14:10:32 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University210"}, "commit"=>"Update Lti registration wip", "id"=>"30"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University210', `updated_at` = '2015-07-28 21:10:32' WHERE `lti_registration_wips`.`id` = 30[0m
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (5.8ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University210', `updated_at` = '2015-07-28 21:10:32' WHERE `lti2_tp_registrations`.`id` = 29[0m
  [1m[35m (11.0ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 30 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 29 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (6.7ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University210' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-28 21:10:32', 'Elan University210', '2015-07-28 21:10:32')[0m
  [1m[35m (10.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '018b3010-179b-0133-7941-406c8f40a599', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f9fadf30-179a-0133-7940-406c8f40a599#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-07-28T21:10:32Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"f9fa0650-179a-0133-7940-406c8f40a599\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/f9fadf30-179a-0133-7940-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"e4ccbc8e4a0365c3e75b6567cecde754\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-28 21:10:32' WHERE `lti2_tp_registrations`.`id` = 29
  [1m[36m (11.5ms)[0m  [1mCOMMIT[0m
Completed 500 Internal Server Error in 290ms (ActiveRecord: 73.5ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-28 14:12:24 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/41a610e0-179b-0133-7942-406c8f40a599", "reg_key"=>"41a4f1e0-179b-0133-7942-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"ad4dc27b78d40674116a9c147ecba097"}
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (18.0ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-28 21:12:24', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '41a4f1e0-179b-0133-7942-406c8f40a599', '1eccdc3554f5accfc0312cf45715dbbb', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/41a610e0-179b-0133-7942-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/41a610e0-179b-0133-7942-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/41a610e0-179b-0133-7942-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"41a610e0-179b-0133-7942-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'ad4dc27b78d40674116a9c147ecba097', '2015-07-28 21:12:24', '2')[0m
  [1m[35m (5.7ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=30&return_url=/lti2_tp/registrations
Completed 302 Found in 121ms (ActiveRecord: 46.0ms)
Started GET "/lti_registration_wips?registration_id=30&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-28 14:12:24 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"30", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-28 21:12:25', 'Elan/LuMoS', 30, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-07-28 21:12:25')[0m
  [1m[35m (5.5ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (177.3ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (186.4ms)
Completed 200 OK in 304ms (Views: 264.2ms | ActiveRecord: 25.1ms)
Started PATCH "/lti_registration_wips/31" for 127.0.0.1 at 2015-07-28 14:12:29 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University212"}, "commit"=>"Update Lti registration wip", "id"=>"31"}
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 31 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University212', `updated_at` = '2015-07-28 21:12:29' WHERE `lti_registration_wips`.`id` = 31[0m
  [1m[35m (5.7ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University212', `updated_at` = '2015-07-28 21:12:29' WHERE `lti2_tp_registrations`.`id` = 30[0m
  [1m[35m (11.2ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 31 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 30 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.3ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University212' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-28 21:12:29', 'Elan University212', '2015-07-28 21:12:29')[0m
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = '47674170-179b-0133-7943-406c8f40a599', `tool_proxy_json` = '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/41a610e0-179b-0133-7942-406c8f40a599#\"}],\"@type\":\"ToolProxy\",\"@id\":\"ToolProxyProposal_at_2015-07-28T21:12:29Z\",\"lti_version\":\"LTI-2p0\",\"tool_proxy_guid\":\"41a4f1e0-179b-0133-7942-406c8f40a599\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/41a610e0-179b-0133-7942-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"964a8ce74e98a9a346ce08e19a9d03c2\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-28 21:12:29' WHERE `lti2_tp_registrations`.`id` = 30
  [1m[36m (12.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.1ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `status` = 'register', `tool_proxy_response` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\",\"@type\":\"ToolProxy\",\"@id\":null,\"tool_proxy_guid\":\"41a4f1e0-179b-0133-7942-406c8f40a599\"}', `updated_at` = '2015-07-28 21:12:29' WHERE `lti2_tp_registrations`.`id` = 30[0m
  [1m[35m (11.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (5.7ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University212' AND `tenants`.`id` != 30) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `tenants` SET `secret` = '964a8ce74e98a9a346ce08e19a9d03c2', `tenant_key` = '41a4f1e0-179b-0133-7942-406c8f40a599', `updated_at` = '2015-07-28 21:12:29' WHERE `tenants`.`id` = 30[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_id` = 30, `updated_at` = '2015-07-28 21:12:29' WHERE `lti2_tp_registrations`.`id` = 30
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=41a4f1e0-179b-0133-7942-406c8f40a599&&id=30
Completed 302 Found in 312ms (ActiveRecord: 88.9ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=41a4f1e0-179b-0133-7942-406c8f40a599&&id=30" for 127.0.0.1 at 2015-07-28 14:12:30 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"41a4f1e0-179b-0133-7942-406c8f40a599", "id"=>"30"}
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 30 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=41a4f1e0-179b-0133-7942-406c8f40a599
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started POST "/echoes" for 127.0.0.1 at 2015-07-28 14:12:49 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"136", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "oauth_consumer_key"=>"41a4f1e0-179b-0133-7942-406c8f40a599", "oauth_nonce"=>"8655208248836", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1438117968", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"wYy4/KcdPsshjOaZ4McVSrZtIy4="}
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '41a4f1e0-179b-0133-7942-406c8f40a599'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 30  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.3ms)
Completed 200 OK in 22ms (Views: 1.0ms | ActiveRecord: 0.6ms)
Started POST "/echoes" for 127.0.0.1 at 2015-07-28 14:13:01 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"139", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "oauth_consumer_key"=>"41a4f1e0-179b-0133-7942-406c8f40a599", "oauth_nonce"=>"532388305242", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1438117980", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"df5VO3oZZvLv6soqkomzbsw74YU="}
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '41a4f1e0-179b-0133-7942-406c8f40a599'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 30  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.3ms)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.7ms)
Started POST "/echoes" for 127.0.0.1 at 2015-07-28 14:13:07 -0700
Processing by EchoesController#create as HTML
  Parameters: {"lti_version"=>"LTI-2p0", "lti_message_type"=>"basic-lti-launch-request", "resource_link_id"=>"139", "user_id"=>"2", "roles"=>"Instructor", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2", "launch_presentation_document_target"=>"window", "context_id"=>"2", "launch_presentation_locale"=>"en_US", "context_label"=>"SMPL101A", "context_title"=>"Nursing Compendium", "lis_course_section_sourcedid"=>"2", "tool_consumer_info_product_family_code"=>"LuMoS", "tool_consumer_info_version"=>"3.1", "custom_referrer"=>"Narcissus", "custom_pi"=>"3.14159", "custom_user_primary_email"=>"admin@lumos.org", "custom_discipline"=>"SMPL101A", "oauth_consumer_key"=>"41a4f1e0-179b-0133-7942-406c8f40a599", "oauth_nonce"=>"56786594173", "oauth_signature_method"=>"HMAC-SHA1", "oauth_timestamp"=>"1438117987", "oauth_version"=>"1.0", "oauth_callback"=>"about:blank", "oauth_signature"=>"IsuI3wM71+EkvyZJVr0dHugw0oo="}
AuthHdr_Parms: {}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '41a4f1e0-179b-0133-7942-406c8f40a599'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 30  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {}
in verify_signature
  Rendered inline template (0.3ms)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36mLti2Tp::Registry Load (26.9ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (25.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (32.2ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (27.9ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (23.6ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (25.5ms)[0m  [1mDELETE FROM `iresources`[0m
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:04:32 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4ec03430-1913-0133-b534-406c8f40a599", "reg_key"=>"4ec030a0-1913-0133-b534-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"b9d23864a0d22ce0adcd54fdd2e0540d"}
  [1m[36mLti2Tp::Tool Load (0.9ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-30 18:04:32', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '4ec030a0-1913-0133-b534-406c8f40a599', 'c3cd9abc12b79c906035e89e2552646c', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4ec03430-1913-0133-b534-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/4ec03430-1913-0133-b534-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/4ec03430-1913-0133-b534-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"4ec03430-1913-0133-b534-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'b9d23864a0d22ce0adcd54fdd2e0540d', '2015-07-30 18:04:32', '2')[0m
  [1m[35m (16.9ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=31&return_url=/lti2_tp/registrations
Completed 302 Found in 123ms (ActiveRecord: 48.0ms)
Started GET "/lti_registration_wips?registration_id=31&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:04:32 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"31", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 31 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:04:32', 'Elan/LuMoS', 31, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University', '2015-07-30 18:04:32')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (127.2ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (134.8ms)
Completed 200 OK in 236ms (Views: 201.3ms | ActiveRecord: 20.0ms)
Started PATCH "/lti_registration_wips/32" for 127.0.0.1 at 2015-07-30 11:04:40 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University1234"}, "commit"=>"Update Lti registration wip", "id"=>"32"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 32 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti_registration_wips` SET `tenant_name` = 'Elan University1234', `updated_at` = '2015-07-30 18:04:40' WHERE `lti_registration_wips`.`id` = 32[0m
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 31 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University1234', `updated_at` = '2015-07-30 18:04:40' WHERE `lti2_tp_registrations`.`id` = 31[0m
  [1m[35m (11.9ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 32 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 31 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.4ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University1234' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:04:40', 'Elan University1234', '2015-07-30 18:04:40')[0m
  [1m[35m (6.1ms)[0m  COMMIT
Could not install resource_handler.message due to missing capabilities: ["Context.id", "CourseSection.label", "CourseSection.title"]
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Context.id%22%2C+%22CourseSection.label%22%2C+%22CourseSection.title%22%5D&lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Context.id%22%2C+%22CourseSection.label%22%2C+%22CourseSection.title%22%5D&&id=31
Completed 302 Found in 74ms (ActiveRecord: 46.2ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Context.id%22%2C+%22CourseSection.label%22%2C+%22CourseSection.title%22%5D&lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Context.id%22%2C+%22CourseSection.label%22%2C+%22CourseSection.title%22%5D&&id=31" for 127.0.0.1 at 2015-07-30 11:04:41 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"ToolProxy error: Could not install resource_handler.message due to missing capabilities: [\"Context.id\", \"CourseSection.label\", \"CourseSection.title\"]", "lti_errorlog"=>"ToolProxy error: Could not install resource_handler.message due to missing capabilities: [\"Context.id\", \"CourseSection.label\", \"CourseSection.title\"]", "id"=>"31"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 31 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Context.id%22%2C+%22CourseSection.label%22%2C+%22CourseSection.title%22%5D&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Context.id%22%2C+%22CourseSection.label%22%2C+%22CourseSection.title%22%5D&status=failure
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:10:55 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/3b4d05b0-1914-0133-b535-406c8f40a599", "reg_key"=>"3b4d03d0-1914-0133-b535-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"b052d540c4ec72d05782265fc1a32e48"}
  [1m[36mLti2Tp::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-30 18:10:55', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '3b4d03d0-1914-0133-b535-406c8f40a599', '02b7cfdd83f4037d1c7eaf709ad4e7df', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/3b4d05b0-1914-0133-b535-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/3b4d05b0-1914-0133-b535-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/3b4d05b0-1914-0133-b535-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"3b4d05b0-1914-0133-b535-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'b052d540c4ec72d05782265fc1a32e48', '2015-07-30 18:10:55', '2')[0m
  [1m[35m (11.9ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=32&return_url=/lti2_tp/registrations
Completed 302 Found in 148ms (ActiveRecord: 35.3ms)
Started GET "/lti_registration_wips?registration_id=32&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:10:55 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"32", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 32 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:10:55', 'Elan/LuMoS', 32, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-1110.55', '2015-07-30 18:10:55')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (110.2ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (117.6ms)
Completed 200 OK in 233ms (Views: 199.7ms | ActiveRecord: 20.7ms)
Started PATCH "/lti_registration_wips/33" for 127.0.0.1 at 2015-07-30 11:11:00 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-1110.55"}, "commit"=>"Update Lti registration wip", "id"=>"33"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 33 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 32 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-1110.55', `updated_at` = '2015-07-30 18:11:00' WHERE `lti2_tp_registrations`.`id` = 32
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 33 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 32 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-1110.55' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:11:00', 'Elan University-1110.55', '2015-07-30 18:11:00')
  [1m[36m (11.7ms)[0m  [1mCOMMIT[0m
Could not install resource_handler.message due to missing capabilities: ["CourseOffering.label"]
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&&id=32
Completed 302 Found in 69ms (ActiveRecord: 45.4ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&&id=32" for 127.0.0.1 at 2015-07-30 11:11:00 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"ToolProxy error: Could not install resource_handler.message due to missing capabilities: [\"CourseOffering.label\"]", "lti_errorlog"=>"ToolProxy error: Could not install resource_handler.message due to missing capabilities: [\"CourseOffering.label\"]", "id"=>"32"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 32 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&status=failure
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:11:42 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/57d2bd00-1914-0133-b535-406c8f40a599", "reg_key"=>"57d2ba00-1914-0133-b535-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"c3812c70b6bc3fab0579fc4d83cf3a21"}
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-30 18:11:42', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '57d2ba00-1914-0133-b535-406c8f40a599', 'bcec0851603bd881f78995589c79607a', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/57d2bd00-1914-0133-b535-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/3b4d05b0-1914-0133-b535-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/3b4d05b0-1914-0133-b535-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"57d2bd00-1914-0133-b535-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'c3812c70b6bc3fab0579fc4d83cf3a21', '2015-07-30 18:11:42', '2')[0m
  [1m[35m (0.5ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=33&return_url=/lti2_tp/registrations
Completed 302 Found in 87ms (ActiveRecord: 1.6ms)
Started GET "/lti_registration_wips?registration_id=33&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:11:42 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"33", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 33 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:11:42', 'Elan/LuMoS', 33, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-1111.42', '2015-07-30 18:11:42')[0m
  [1m[35m (5.5ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (11.1ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (11.5ms)
Completed 200 OK in 23ms (Views: 12.8ms | ActiveRecord: 6.3ms)
Started PATCH "/lti_registration_wips/34" for 127.0.0.1 at 2015-07-30 11:11:44 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-1111.42"}, "commit"=>"Update Lti registration wip", "id"=>"34"}
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 34 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (1.0ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 33 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-1111.42', `updated_at` = '2015-07-30 18:11:44' WHERE `lti2_tp_registrations`.`id` = 33
  [1m[36m (5.8ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.5ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 34 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.6ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 33 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mTenant Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-1111.42' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:11:44', 'Elan University-1111.42', '2015-07-30 18:11:44')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Could not install resource_handler.message due to missing capabilities: ["CourseOffering.label"]
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&&id=33
Completed 302 Found in 24ms (ActiveRecord: 10.6ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&&id=33" for 127.0.0.1 at 2015-07-30 11:11:44 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"ToolProxy error: Could not install resource_handler.message due to missing capabilities: [\"CourseOffering.label\"]", "lti_errorlog"=>"ToolProxy error: Could not install resource_handler.message due to missing capabilities: [\"CourseOffering.label\"]", "id"=>"33"}
  [1m[35mLti2Tp::Registration Load (0.6ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 33 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22CourseOffering.label%22%5D&status=failure
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:12:01 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/637c9800-1914-0133-b536-406c8f40a599", "reg_key"=>"637bb890-1914-0133-b536-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"b7dc5e5b8c9765e9045c4d9b0a9c6fa9"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-30 18:12:01', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '637bb890-1914-0133-b536-406c8f40a599', 'a6c9adfaaf93d768993ce8fee7f310d0', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/637c9800-1914-0133-b536-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/637c9800-1914-0133-b536-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/637c9800-1914-0133-b536-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"637c9800-1914-0133-b536-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'b7dc5e5b8c9765e9045c4d9b0a9c6fa9', '2015-07-30 18:12:01', '2')[0m
  [1m[35m (12.2ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=34&return_url=/lti2_tp/registrations
Completed 302 Found in 56ms (ActiveRecord: 13.4ms)
Started GET "/lti_registration_wips?registration_id=34&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:12:01 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"34", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 34 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:12:01', 'Elan/LuMoS', 34, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-1112.01', '2015-07-30 18:12:01')[0m
  [1m[35m (11.9ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (7.7ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (7.9ms)
Completed 200 OK in 24ms (Views: 8.9ms | ActiveRecord: 12.5ms)
Started PATCH "/lti_registration_wips/35" for 127.0.0.1 at 2015-07-30 11:12:02 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-1112.01"}, "commit"=>"Update Lti registration wip", "id"=>"35"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 35 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 34 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-1112.01', `updated_at` = '2015-07-30 18:12:02' WHERE `lti2_tp_registrations`.`id` = 34
  [1m[36m (11.7ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 35 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.7ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 34 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-1112.01' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:12:02', 'Elan University-1112.01', '2015-07-30 18:12:02')
  [1m[36m (5.0ms)[0m  [1mCOMMIT[0m
Could not install resource_handler.message due to missing capabilities: ["Result.uri"]
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&&id=34
Completed 302 Found in 28ms (ActiveRecord: 19.6ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&&id=34" for 127.0.0.1 at 2015-07-30 11:12:02 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"ToolProxy error: Could not install resource_handler.message due to missing capabilities: [\"Result.uri\"]", "lti_errorlog"=>"ToolProxy error: Could not install resource_handler.message due to missing capabilities: [\"Result.uri\"]", "id"=>"34"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 34 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&status=failure
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:12:38 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/79bc2af0-1914-0133-b536-406c8f40a599", "reg_key"=>"79bc2860-1914-0133-b536-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"00608bb275ef31b91355cf061cd79bed"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-30 18:12:38', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '79bc2860-1914-0133-b536-406c8f40a599', '49a3685f719a305a49a918f0b41e6279', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/79bc2af0-1914-0133-b536-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/637c9800-1914-0133-b536-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/637c9800-1914-0133-b536-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"79bc2af0-1914-0133-b536-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', '00608bb275ef31b91355cf061cd79bed', '2015-07-30 18:12:38', '2')[0m
  [1m[35m (17.2ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=35&return_url=/lti2_tp/registrations
Completed 302 Found in 44ms (ActiveRecord: 18.6ms)
Started GET "/lti_registration_wips?registration_id=35&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:12:38 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"35", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 35 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:12:38', 'Elan/LuMoS', 35, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-1112.38', '2015-07-30 18:12:38')[0m
  [1m[35m (6.1ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (7.7ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (7.9ms)
Completed 200 OK in 18ms (Views: 8.8ms | ActiveRecord: 6.8ms)
Started PATCH "/lti_registration_wips/36" for 127.0.0.1 at 2015-07-30 11:12:40 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-1112.38"}, "commit"=>"Update Lti registration wip", "id"=>"36"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 36 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 35 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-1112.38', `updated_at` = '2015-07-30 18:12:40' WHERE `lti2_tp_registrations`.`id` = 35
  [1m[36m (11.9ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 36 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 35 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-1112.38' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:12:40', 'Elan University-1112.38', '2015-07-30 18:12:40')
  [1m[36m (5.2ms)[0m  [1mCOMMIT[0m
Could not install resource_handler.message due to missing capabilities: ["Result.uri"]
Redirected to http://localhost:5000/lti2_tp/registrations?status=failure&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&&id=35
Completed 302 Found in 25ms (ActiveRecord: 19.0ms)
Started GET "/lti2_tp/registrations?status=failure&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&&id=35" for 127.0.0.1 at 2015-07-30 11:12:40 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"failure", "lti_errormsg"=>"ToolProxy error: Could not install resource_handler.message due to missing capabilities: [\"Result.uri\"]", "lti_errorlog"=>"ToolProxy error: Could not install resource_handler.message due to missing capabilities: [\"Result.uri\"]", "id"=>"35"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 35 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?lti_errorlog=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&lti_errormsg=ToolProxy+error%3A+Could+not+install+resource_handler.message+due+to+missing+capabilities%3A+%5B%22Result.uri%22%5D&status=failure
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:12:58 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/85ae6500-1914-0133-b537-406c8f40a599", "reg_key"=>"85ad7e80-1914-0133-b537-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"e5db5d975d3dbf02de9502c1e19225e6"}
  [1m[36mLti2Tp::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-30 18:12:58', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '85ad7e80-1914-0133-b537-406c8f40a599', '60a7b80083b63b70564a5efb2a2fde4b', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/85ae6500-1914-0133-b537-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/85ae6500-1914-0133-b537-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/85ae6500-1914-0133-b537-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"85ae6500-1914-0133-b537-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"Result.uri\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'e5db5d975d3dbf02de9502c1e19225e6', '2015-07-30 18:12:58', '2')[0m
  [1m[35m (12.0ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=36&return_url=/lti2_tp/registrations
Completed 302 Found in 59ms (ActiveRecord: 13.3ms)
Started GET "/lti_registration_wips?registration_id=36&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 11:12:58 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"36", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 36 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:12:58', 'Elan/LuMoS', 36, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-1112.58', '2015-07-30 18:12:58')[0m
  [1m[35m (11.1ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (6.9ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (7.2ms)
Completed 200 OK in 22ms (Views: 8.0ms | ActiveRecord: 11.9ms)
Started PATCH "/lti_registration_wips/37" for 127.0.0.1 at 2015-07-30 11:13:00 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-1112.58"}, "commit"=>"Update Lti registration wip", "id"=>"37"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 37 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 36 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-1112.58', `updated_at` = '2015-07-30 18:13:00' WHERE `lti2_tp_registrations`.`id` = 36
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.4ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 37 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 36 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-1112.58' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 18:13:00', 'Elan University-1112.58', '2015-07-30 18:13:00')
  [1m[36m (4.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '89224220-1914-0133-b538-406c8f40a599', `tool_proxy_json` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxy\",\"@type\":\"ToolProxy\",\"tool_proxy_guid\":\"e5db5d975d3dbf02de9502c1e19225e6\",\"lti_version\":\"LTI-2p0\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/85ae6500-1914-0133-b537-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Person.email.primary\",\"CourseOffering.label\"],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\",\"Result.uri\"],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"4c17b9e76542841ebdbce1ac5bf72b9a\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-30 18:13:00' WHERE `lti2_tp_registrations`.`id` = 36[0m
  [1m[35m (11.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.6ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `tool_proxy_response` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\",\"@type\":\"ToolProxy\",\"@id\":null,\"tool_proxy_guid\":\"e5db5d975d3dbf02de9502c1e19225e6\"}', `updated_at` = '2015-07-30 18:13:00' WHERE `lti2_tp_registrations`.`id` = 36
  [1m[36m (11.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mTenant Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University-1112.58' AND `tenants`.`id` != 36) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `tenants` SET `secret` = '4c17b9e76542841ebdbce1ac5bf72b9a', `tenant_key` = 'e5db5d975d3dbf02de9502c1e19225e6', `updated_at` = '2015-07-30 18:13:00' WHERE `tenants`.`id` = 36
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `final_secret` = '4c17b9e76542841ebdbce1ac5bf72b9a', `tenant_id` = 36, `updated_at` = '2015-07-30 18:13:00' WHERE `lti2_tp_registrations`.`id` = 36[0m
  [1m[35m (0.5ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=e5db5d975d3dbf02de9502c1e19225e6&&id=36
Completed 302 Found in 256ms (ActiveRecord: 53.1ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=e5db5d975d3dbf02de9502c1e19225e6&&id=36" for 127.0.0.1 at 2015-07-30 11:13:00 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"e5db5d975d3dbf02de9502c1e19225e6", "id"=>"36"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 36 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=e5db5d975d3dbf02de9502c1e19225e6
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 11:15:59 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"3279280243099", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280159", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"XQwe+xtGSDMxykiNhZ566ZuHfic=", :oauth_signature=>"ho8Wg05v++Gi1xXuPG5Xq8lkxMI="}
  [1m[35mTenant Load (0.5ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e5db5d975d3dbf02de9502c1e19225e6'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.6ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 36  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"3279280243099", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280159", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"XQwe+xtGSDMxykiNhZ566ZuHfic=", :oauth_signature=>"ho8Wg05v++Gi1xXuPG5Xq8lkxMI="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T11:15:58-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/user/10",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/organization/5",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/program/5",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/course_section/41",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/77",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/78",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/79",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/80",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/81",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/course_section/43",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/82",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/83",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/84",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/85",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/course_section/44",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/course_section/49",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/course_section/50",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/91",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/92",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/93",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/94",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f39a1100-1914-0133-b537-406c8f40a599/competency/95",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Distinguished"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 32ms (Views: 4.4ms | ActiveRecord: 1.1ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 11:16:49 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"7813281713854", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280209", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"8iABwGfkW7IpJJeLbeqHyGiqhz4=", :oauth_signature=>"Z0KiklZKABKr4QyOtKz2TIjthkE="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e5db5d975d3dbf02de9502c1e19225e6'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 36  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"7813281713854", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280209", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"8iABwGfkW7IpJJeLbeqHyGiqhz4=", :oauth_signature=>"Z0KiklZKABKr4QyOtKz2TIjthkE="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T11:16:49-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/user/10",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/organization/5",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/program/5",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/course_section/41",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/77",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/78",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/79",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/80",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/81",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/course_section/43",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/82",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/83",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/84",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/85",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/course_section/44",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/course_section/49",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/course_section/50",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/91",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/92",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/93",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/94",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/1198fdc0-1915-0133-b537-406c8f40a599/competency/95",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Distinguished"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 10ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 11:17:02 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"6669225806562", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280222", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"1WUfzXjuxSFUaKPSTyWLdUpOqWc=", :oauth_signature=>"xIL1sl//jQ/ZjXGvWCwaaw+iADU="}
  [1m[36mTenant Load (0.7ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e5db5d975d3dbf02de9502c1e19225e6'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 36  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"6669225806562", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280222", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"1WUfzXjuxSFUaKPSTyWLdUpOqWc=", :oauth_signature=>"xIL1sl//jQ/ZjXGvWCwaaw+iADU="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T11:17:02-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/user/10",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/organization/5",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/program/5",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/course_section/41",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/77",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/78",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/79",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/80",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/81",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/course_section/43",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/82",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/83",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/84",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/85",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/course_section/44",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/course_section/49",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/course_section/50",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/91",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/92",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/93",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/94",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/19bd27e0-1915-0133-b537-406c8f40a599/competency/95",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Distinguished"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 80ms (Views: 8.1ms | ActiveRecord: 22.4ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 11:18:04 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"7876168936693", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280284", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"n4U5JlG6odbqZu+ZTijtKdygi8U=", :oauth_signature=>"ig3j0QLX+VuREXLthUbI5cHnLSQ="}
  [1m[36mTenant Load (0.2ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e5db5d975d3dbf02de9502c1e19225e6'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 36  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"7876168936693", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280284", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"n4U5JlG6odbqZu+ZTijtKdygi8U=", :oauth_signature=>"ig3j0QLX+VuREXLthUbI5cHnLSQ="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T11:18:04-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/user/10",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/organization/5",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/program/5",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/course_section/41",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/77",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/78",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/79",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/80",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/81",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/course_section/43",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/82",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/83",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/84",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/85",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/course_section/44",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/course_section/49",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/course_section/50",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/91",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/92",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/93",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/94",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3e81de40-1915-0133-b537-406c8f40a599/competency/95",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Distinguished"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 49ms (Views: 5.5ms | ActiveRecord: 4.7ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.3ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 11:19:43 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"6180164382018", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280383", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"YaYdRMKEedqusLEVf8MVhWbi32U=", :oauth_signature=>"g7DtkXImtaxqVTi0r4RJBi0YL64="}
  [1m[36mTenant Load (0.2ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e5db5d975d3dbf02de9502c1e19225e6'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 36  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"6180164382018", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280383", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"YaYdRMKEedqusLEVf8MVhWbi32U=", :oauth_signature=>"g7DtkXImtaxqVTi0r4RJBi0YL64="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T11:19:43-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/user/10",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/organization/5",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/program/5",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/course_section/41",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/77",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/78",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/79",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/80",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/81",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/course_section/43",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/82",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/83",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/84",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/85",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/course_section/44",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/course_section/49",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/course_section/50",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/91",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/92",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/93",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/94",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/79752cb0-1915-0133-b539-406c8f40a599/competency/95",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Distinguished"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 54ms (Views: 6.6ms | ActiveRecord: 4.8ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 11:20:38 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"2099281892765", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280438", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"bF2WgaxOOdx+/gIk2As13wBOa4A=", :oauth_signature=>"nZeCcwc8HQnssVE+pCPvy6NIXi4="}
  [1m[36mTenant Load (0.5ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'e5db5d975d3dbf02de9502c1e19225e6'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 36  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"e5db5d975d3dbf02de9502c1e19225e6", :oauth_nonce=>"2099281892765", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438280438", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"bF2WgaxOOdx+/gIk2As13wBOa4A=", :oauth_signature=>"nZeCcwc8HQnssVE+pCPvy6NIXi4="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T11:20:38-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/user/10",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/organization/5",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/program/5",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/course_section/41",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/77",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/78",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/79",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/80",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/81",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/course_section/43",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/82",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/83",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/84",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/85",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/course_section/44",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/course_section/49",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/86",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/87",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/88",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/89",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/90",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/course_section/50",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/91",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/92",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/93",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/94",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a302ca0-1915-0133-b53a-406c8f40a599/competency/95",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Distinguished"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (6.6ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (9.4ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (10.0ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `iresources`[0m
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 12:01:37 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599", "reg_key"=>"50881250-191b-0133-b53a-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"a71f751f6be8381b1173fd0d71d3decf"}
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-30 19:01:37', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '50881250-191b-0133-b53a-406c8f40a599', '0b41fdeaa3b6c2e5989a71f65ffb7f6e', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"5088c880-191b-0133-b53a-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"Result.uri\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'a71f751f6be8381b1173fd0d71d3decf', '2015-07-30 19:01:37', '2')[0m
  [1m[35m (5.8ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=37&return_url=/lti2_tp/registrations
Completed 302 Found in 81ms (ActiveRecord: 26.2ms)
Started GET "/lti_registration_wips?registration_id=37&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 12:01:37 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"37", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 37 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 19:01:37', 'Elan/LuMoS', 37, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-1201.37', '2015-07-30 19:01:37')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (146.6ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (155.4ms)
Completed 200 OK in 289ms (Views: 245.5ms | ActiveRecord: 19.8ms)
Started PATCH "/lti_registration_wips/38" for 127.0.0.1 at 2015-07-30 12:01:39 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-1201.37"}, "commit"=>"Update Lti registration wip", "id"=>"38"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 38 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 37 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-1201.37', `updated_at` = '2015-07-30 19:01:39' WHERE `lti2_tp_registrations`.`id` = 37
  [1m[36m (11.9ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 38 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 37 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-1201.37' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 19:01:39', 'Elan University-1201.37', '2015-07-30 19:01:39')
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '555c4f60-191b-0133-b53b-406c8f40a599', `tool_proxy_json` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxy\",\"@type\":\"ToolProxy\",\"tool_proxy_guid\":\"a71f751f6be8381b1173fd0d71d3decf\",\"lti_version\":\"LTI-2p0\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Person.email.primary\",\"CourseOffering.label\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\",\"Result.uri\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"00bceac4dabab40b215caff3f1334bfa\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-30 19:01:39' WHERE `lti2_tp_registrations`.`id` = 37[0m
  [1m[35m (11.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `tool_proxy_response` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\",\"@type\":\"ToolProxy\",\"@id\":null,\"tool_proxy_guid\":\"a71f751f6be8381b1173fd0d71d3decf\"}', `updated_at` = '2015-07-30 19:01:40' WHERE `lti2_tp_registrations`.`id` = 37
  [1m[36m (12.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mTenant Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University-1201.37' AND `tenants`.`id` != 37) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `tenants` SET `secret` = '00bceac4dabab40b215caff3f1334bfa', `tenant_key` = 'a71f751f6be8381b1173fd0d71d3decf', `updated_at` = '2015-07-30 19:01:40' WHERE `tenants`.`id` = 37
  [1m[36m (4.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `final_secret` = '00bceac4dabab40b215caff3f1334bfa', `tenant_id` = 37, `updated_at` = '2015-07-30 19:01:40' WHERE `lti2_tp_registrations`.`id` = 37[0m
  [1m[35m (0.5ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=a71f751f6be8381b1173fd0d71d3decf&&id=37
Completed 302 Found in 227ms (ActiveRecord: 52.1ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=a71f751f6be8381b1173fd0d71d3decf&&id=37" for 127.0.0.1 at 2015-07-30 12:01:40 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"a71f751f6be8381b1173fd0d71d3decf", "id"=>"37"}
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 37 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=a71f751f6be8381b1173fd0d71d3decf
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (12.5ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (6.6ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (6.4ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `iresources`[0m
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 12:05:42 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e2cc8dd0-191b-0133-b53a-406c8f40a599", "reg_key"=>"e2cc8b50-191b-0133-b53a-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"c8315813dea78301039c12c3fe61cb0e"}
  [1m[35mLti2Tp::Tool Load (0.4ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-30 19:05:42', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'e2cc8b50-191b-0133-b53a-406c8f40a599', '0ff6124dc1755e303009e68eac1697d5', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e2cc8dd0-191b-0133-b53a-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"e2cc8dd0-191b-0133-b53a-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"Result.uri\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'c8315813dea78301039c12c3fe61cb0e', '2015-07-30 19:05:42', '2')
  [1m[36m (17.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti_registration_wips?registration_id=38&return_url=/lti2_tp/registrations
Completed 302 Found in 48ms (ActiveRecord: 18.1ms)
Started GET "/lti_registration_wips?registration_id=38&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 12:05:42 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"38", "return_url"=>"/lti2_tp/registrations"}
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 38 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 19:05:42', 'Elan/LuMoS', 38, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-1205.42', '2015-07-30 19:05:42')
  [1m[36m (12.0ms)[0m  [1mCOMMIT[0m
  Rendered lti_registration_wips/_form.html.haml (11.5ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (11.9ms)
Completed 200 OK in 28ms (Views: 13.1ms | ActiveRecord: 12.6ms)
Started PATCH "/lti_registration_wips/39" for 127.0.0.1 at 2015-07-30 12:05:44 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-1205.42"}, "commit"=>"Update Lti registration wip", "id"=>"39"}
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 39 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 38 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-1205.42', `updated_at` = '2015-07-30 19:05:44' WHERE `lti2_tp_registrations`.`id` = 38[0m
  [1m[35m (11.3ms)[0m  COMMIT
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 39 LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 38 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.2ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-1205.42' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 19:05:44', 'Elan University-1205.42', '2015-07-30 19:05:44')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `end_registration_id` = 'e70df710-191b-0133-b53b-406c8f40a599', `tool_proxy_json` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxy\",\"@type\":\"ToolProxy\",\"tool_proxy_guid\":\"c8315813dea78301039c12c3fe61cb0e\",\"lti_version\":\"LTI-2p0\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/e2cc8dd0-191b-0133-b53a-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Person.email.primary\",\"CourseOffering.label\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\",\"Result.uri\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performance/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"ec1116871fcc7033b0717721f2e78490\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-30 19:05:44' WHERE `lti2_tp_registrations`.`id` = 38
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `status` = 'register', `tool_proxy_response` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\",\"@type\":\"ToolProxy\",\"@id\":null,\"tool_proxy_guid\":\"c8315813dea78301039c12c3fe61cb0e\"}', `updated_at` = '2015-07-30 19:05:44' WHERE `lti2_tp_registrations`.`id` = 38[0m
  [1m[35m (11.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mTenant Exists (0.5ms)[0m  SELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University-1205.42' AND `tenants`.`id` != 38) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `tenants` SET `secret` = 'ec1116871fcc7033b0717721f2e78490', `tenant_key` = 'c8315813dea78301039c12c3fe61cb0e', `updated_at` = '2015-07-30 19:05:44' WHERE `tenants`.`id` = 38[0m
  [1m[35m (4.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `final_secret` = 'ec1116871fcc7033b0717721f2e78490', `tenant_id` = 38, `updated_at` = '2015-07-30 19:05:44' WHERE `lti2_tp_registrations`.`id` = 38
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=c8315813dea78301039c12c3fe61cb0e&&id=38
Completed 302 Found in 176ms (ActiveRecord: 33.3ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=c8315813dea78301039c12c3fe61cb0e&&id=38" for 127.0.0.1 at 2015-07-30 12:05:44 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"c8315813dea78301039c12c3fe61cb0e", "id"=>"38"}
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 38 LIMIT 1
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=c8315813dea78301039c12c3fe61cb0e
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 12:05:59 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"4827740219322", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438283159", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"icpYOSQbOzDwRIolx3zpO3ug8sU=", :oauth_signature=>"lSJO4oY2Xom0D+6WCq3JkTAi+8o="}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'c8315813dea78301039c12c3fe61cb0e'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 38  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"4827740219322", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438283159", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"icpYOSQbOzDwRIolx3zpO3ug8sU=", :oauth_signature=>"lSJO4oY2Xom0D+6WCq3JkTAi+8o="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T12:05:59-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f01e4440-191b-0133-b53a-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 13:56:03 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"5053609597736", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438289762", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"Kx3TI/CnZeEO/t0bcZ5WKIhDoSo=", :oauth_signature=>"6lvnZO1QRLeYpoDeOmkdI9ObBXg="}
  [1m[36mTenant Load (0.7ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'c8315813dea78301039c12c3fe61cb0e'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 38  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"5053609597736", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438289762", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"Kx3TI/CnZeEO/t0bcZ5WKIhDoSo=", :oauth_signature=>"6lvnZO1QRLeYpoDeOmkdI9ObBXg="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T13:56:02-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/50093c10-192b-0133-b53a-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  Rendered text template (0.0ms)
Completed 200 OK in 41ms (Views: 0.5ms | ActiveRecord: 1.2ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 13:56:54 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"804210689427", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438289814", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"BGcgqb2iU+Zb/a6jDiKU7GIZitc=", :oauth_signature=>"fufhlAXGQAiPhXgNMcyWDJUmGTo="}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'c8315813dea78301039c12c3fe61cb0e'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 38  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"804210689427", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438289814", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"BGcgqb2iU+Zb/a6jDiKU7GIZitc=", :oauth_signature=>"fufhlAXGQAiPhXgNMcyWDJUmGTo="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T13:56:54-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `full_name`, `organization_name`, `product_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 20:56:54', ' ', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599', '{\n  \"@context\": {\n    \"@vocab\": \"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\",\n    \"schema\": \"http://schema.org/\"\n  },\n  \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599\",\n  \"@type\": \"RecordOfPerformance\",\n  \"created_at\": \"2015-07-30T13:56:54-07:00\",\n  \"tool_consumer_profile\": {\n    \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599\",\n    \"lti_version\": \"LTI-2p0\",\n    \"product_name\": \"Elan/LuMoS\",\n    \"service_provider_name\": \"Elan University\"\n  },\n  \"user\": {\n    \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/user/14\",\n    \"schema:familyName\": \"Arne\",\n    \"schema:givenName\": \"Tom\",\n    \"email\": \"tarne@hotmail.com\",\n    \"sourced_id\": 0\n  },\n  \"organization\": {\n    \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/organization/7\",\n    \"legal_name\": \"IMS Learning Institute, LLC\",\n    \"schema:url\": \"ili.imsglobal.org\"\n  },\n  \"program\": {\n    \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/program/7\",\n    \"schema:alternateName\": \"Master of Business Admin FP\",\n    \"schema:name\": \"MBA\",\n    \"courses\": [\n      {\n        \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/course_section/61\",\n        \"schema:alternateName\": \"MBA-FP6004-1\",\n        \"title\": \"MBA-FP 6004 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/115\",\n            \"label\": \"\",\n            \"statement\": \"Examine the use of critical, strategic, and ethical thinking in decision-making\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/116\",\n            \"label\": \"mba6004-1\",\n            \"statement\": \"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/117\",\n            \"label\": \"mba6004-2\",\n            \"statement\": \"Integrate business strategies into general business management planning and decision-making.\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/118\",\n            \"label\": \"mba6004-3\",\n            \"statement\": \"Analyze relevant global business concerns for the future.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/119\",\n            \"label\": \"mba6004-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/course_section/63\",\n        \"schema:alternateName\": \"MBA-FP6006-1\",\n        \"title\": \"MBA-FP 6006 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/120\",\n            \"label\": \"mba6006-1\",\n            \"statement\": \"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/121\",\n            \"label\": \"mba6006-2\",\n            \"statement\": \"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/122\",\n            \"label\": \"mba6006-3\",\n            \"statement\": \"Assess what leaders of innovation do to shape organizational culture and processes.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/123\",\n            \"label\": \"mba6006-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/course_section/64\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/course_section/69\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Proficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/course_section/70\",\n        \"schema:alternateName\": \"MBA-FP6012-1\",\n        \"title\": \"MBA-FP 6012 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/129\",\n            \"label\": \"mba6012-1\",\n            \"statement\": \"Apply theories, models, and practices of marketing\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/130\",\n            \"label\": \"mba6012-2\",\n            \"statement\": \"Integrate fundamental principles and applications of marketing to address business problems.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/131\",\n            \"label\": \"mba6012-3\",\n            \"statement\": \"Develop innovative and sustainable solutions to strategic marketing challenges\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/132\",\n            \"label\": \"mba6012-4\",\n            \"statement\": \"Integrate marketing analyses into general business management planning and decision making\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/6edc9f40-192b-0133-b53a-406c8f40a599/competency/133\",\n            \"label\": \"mba6012-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      }\n    ]\n  }\n}', 'Elan University', '2015-07-30 20:56:54')
  [1m[36m (13.7ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 119ms (Views: 8.3ms | ActiveRecord: 55.4ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:03:09 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"8428694689035", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438290189", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"gY5NJOyi8SQM3ZD1nscS4B0Fg0A=", :oauth_signature=>"YNkf3xNNOQCzCE+LEjiLOZZwcDM="}
  [1m[36mTenant Load (0.5ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'c8315813dea78301039c12c3fe61cb0e'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 38  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"8428694689035", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438290189", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"gY5NJOyi8SQM3ZD1nscS4B0Fg0A=", :oauth_signature=>"YNkf3xNNOQCzCE+LEjiLOZZwcDM="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T14:03:09-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `full_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 21:03:09', 'Tom Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599', '{\n  \"@context\": {\n    \"@vocab\": \"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\",\n    \"schema\": \"http://schema.org/\"\n  },\n  \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599\",\n  \"@type\": \"RecordOfPerformance\",\n  \"created_at\": \"2015-07-30T14:03:09-07:00\",\n  \"tool_consumer_profile\": {\n    \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599\",\n    \"lti_version\": \"LTI-2p0\",\n    \"product_name\": \"Elan/LuMoS\",\n    \"service_provider_name\": \"Elan University\"\n  },\n  \"user\": {\n    \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/user/14\",\n    \"schema:familyName\": \"Arne\",\n    \"schema:givenName\": \"Tom\",\n    \"email\": \"tarne@hotmail.com\",\n    \"sourced_id\": 0\n  },\n  \"organization\": {\n    \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/organization/7\",\n    \"legal_name\": \"IMS Learning Institute, LLC\",\n    \"schema:url\": \"ili.imsglobal.org\"\n  },\n  \"program\": {\n    \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/program/7\",\n    \"schema:alternateName\": \"Master of Business Admin FP\",\n    \"schema:name\": \"MBA\",\n    \"courses\": [\n      {\n        \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/course_section/61\",\n        \"schema:alternateName\": \"MBA-FP6004-1\",\n        \"title\": \"MBA-FP 6004 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/115\",\n            \"label\": \"\",\n            \"statement\": \"Examine the use of critical, strategic, and ethical thinking in decision-making\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/116\",\n            \"label\": \"mba6004-1\",\n            \"statement\": \"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/117\",\n            \"label\": \"mba6004-2\",\n            \"statement\": \"Integrate business strategies into general business management planning and decision-making.\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/118\",\n            \"label\": \"mba6004-3\",\n            \"statement\": \"Analyze relevant global business concerns for the future.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/119\",\n            \"label\": \"mba6004-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/course_section/63\",\n        \"schema:alternateName\": \"MBA-FP6006-1\",\n        \"title\": \"MBA-FP 6006 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/120\",\n            \"label\": \"mba6006-1\",\n            \"statement\": \"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/121\",\n            \"label\": \"mba6006-2\",\n            \"statement\": \"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/122\",\n            \"label\": \"mba6006-3\",\n            \"statement\": \"Assess what leaders of innovation do to shape organizational culture and processes.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/123\",\n            \"label\": \"mba6006-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/course_section/64\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/course_section/69\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Proficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/course_section/70\",\n        \"schema:alternateName\": \"MBA-FP6012-1\",\n        \"title\": \"MBA-FP 6012 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/129\",\n            \"label\": \"mba6012-1\",\n            \"statement\": \"Apply theories, models, and practices of marketing\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/130\",\n            \"label\": \"mba6012-2\",\n            \"statement\": \"Integrate fundamental principles and applications of marketing to address business problems.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/131\",\n            \"label\": \"mba6012-3\",\n            \"statement\": \"Develop innovative and sustainable solutions to strategic marketing challenges\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/132\",\n            \"label\": \"mba6012-4\",\n            \"statement\": \"Integrate marketing analyses into general business management planning and decision making\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/4e5dbfa0-192c-0133-b53a-406c8f40a599/competency/133\",\n            \"label\": \"mba6012-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      }\n    ]\n  }\n}', 'Elan University', '2015-07-30 21:03:09')
  [1m[36m (18.2ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 132ms (Views: 10.4ms | ActiveRecord: 60.4ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:04:31 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"8811999181917", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438290271", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"SR0YBnKX0KTHJr/yDXi0vsglJH0=", :oauth_signature=>"WXbOvxo5Qflr2xS5RFOoEaKmSAw="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'c8315813dea78301039c12c3fe61cb0e'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 38  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"8811999181917", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438290271", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"SR0YBnKX0KTHJr/yDXi0vsglJH0=", :oauth_signature=>"WXbOvxo5Qflr2xS5RFOoEaKmSAw="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T14:04:31-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `full_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 21:04:31', 'Tom Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599', '{\n  \"@context\": {\n    \"@vocab\": \"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\",\n    \"schema\": \"http://schema.org/\"\n  },\n  \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599\",\n  \"@type\": \"RecordOfPerformance\",\n  \"created_at\": \"2015-07-30T14:04:31-07:00\",\n  \"tool_consumer_profile\": {\n    \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599\",\n    \"lti_version\": \"LTI-2p0\",\n    \"product_name\": \"Elan/LuMoS\",\n    \"service_provider_name\": \"Elan University\"\n  },\n  \"user\": {\n    \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/user/14\",\n    \"schema:familyName\": \"Arne\",\n    \"schema:givenName\": \"Tom\",\n    \"email\": \"tarne@hotmail.com\",\n    \"sourced_id\": 0\n  },\n  \"organization\": {\n    \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/organization/7\",\n    \"legal_name\": \"IMS Learning Institute, LLC\",\n    \"schema:url\": \"ili.imsglobal.org\"\n  },\n  \"program\": {\n    \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/program/7\",\n    \"schema:alternateName\": \"Master of Business Admin FP\",\n    \"schema:name\": \"MBA\",\n    \"courses\": [\n      {\n        \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/course_section/61\",\n        \"schema:alternateName\": \"MBA-FP6004-1\",\n        \"title\": \"MBA-FP 6004 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/115\",\n            \"label\": \"\",\n            \"statement\": \"Examine the use of critical, strategic, and ethical thinking in decision-making\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/116\",\n            \"label\": \"mba6004-1\",\n            \"statement\": \"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/117\",\n            \"label\": \"mba6004-2\",\n            \"statement\": \"Integrate business strategies into general business management planning and decision-making.\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/118\",\n            \"label\": \"mba6004-3\",\n            \"statement\": \"Analyze relevant global business concerns for the future.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/119\",\n            \"label\": \"mba6004-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/course_section/63\",\n        \"schema:alternateName\": \"MBA-FP6006-1\",\n        \"title\": \"MBA-FP 6006 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/120\",\n            \"label\": \"mba6006-1\",\n            \"statement\": \"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/121\",\n            \"label\": \"mba6006-2\",\n            \"statement\": \"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/122\",\n            \"label\": \"mba6006-3\",\n            \"statement\": \"Assess what leaders of innovation do to shape organizational culture and processes.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/123\",\n            \"label\": \"mba6006-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/course_section/64\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/course_section/69\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Proficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/course_section/70\",\n        \"schema:alternateName\": \"MBA-FP6012-1\",\n        \"title\": \"MBA-FP 6012 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/129\",\n            \"label\": \"mba6012-1\",\n            \"statement\": \"Apply theories, models, and practices of marketing\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/130\",\n            \"label\": \"mba6012-2\",\n            \"statement\": \"Integrate fundamental principles and applications of marketing to address business problems.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/131\",\n            \"label\": \"mba6012-3\",\n            \"statement\": \"Develop innovative and sustainable solutions to strategic marketing challenges\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/132\",\n            \"label\": \"mba6012-4\",\n            \"statement\": \"Integrate marketing analyses into general business management planning and decision making\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/7f099090-192c-0133-b53a-406c8f40a599/competency/133\",\n            \"label\": \"mba6012-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      }\n    ]\n  }\n}', 'Elan University', '2015-07-30 21:04:31')[0m
  [1m[35m (16.9ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 24ms (Views: 0.5ms | ActiveRecord: 18.1ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:19:36 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"4737834958365", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438291176", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"EF7UB8nNw7KMquopEW0lDKr5KX4=", :oauth_signature=>"H4C+KwBYA8xM6GQU/qevZmv22X0="}
  [1m[36mTenant Load (0.4ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'c8315813dea78301039c12c3fe61cb0e'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 38  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"4737834958365", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438291176", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"EF7UB8nNw7KMquopEW0lDKr5KX4=", :oauth_signature=>"H4C+KwBYA8xM6GQU/qevZmv22X0="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T14:19:36-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.8ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `full_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 21:19:36', 'Tom Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599', '{\n  \"@context\": {\n    \"@vocab\": \"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\",\n    \"schema\": \"http://schema.org/\"\n  },\n  \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599\",\n  \"@type\": \"RecordOfPerformance\",\n  \"created_at\": \"2015-07-30T14:19:36-07:00\",\n  \"tool_consumer_profile\": {\n    \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599\",\n    \"lti_version\": \"LTI-2p0\",\n    \"product_name\": \"Elan/LuMoS\",\n    \"service_provider_name\": \"Elan University\"\n  },\n  \"user\": {\n    \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/user/14\",\n    \"schema:familyName\": \"Arne\",\n    \"schema:givenName\": \"Tom\",\n    \"email\": \"tarne@hotmail.com\",\n    \"sourced_id\": 0\n  },\n  \"organization\": {\n    \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/organization/7\",\n    \"legal_name\": \"IMS Learning Institute, LLC\",\n    \"schema:url\": \"ili.imsglobal.org\"\n  },\n  \"program\": {\n    \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/program/7\",\n    \"schema:alternateName\": \"Master of Business Admin FP\",\n    \"schema:name\": \"MBA\",\n    \"courses\": [\n      {\n        \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/61\",\n        \"schema:alternateName\": \"MBA-FP6004-1\",\n        \"title\": \"MBA-FP 6004 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/115\",\n            \"label\": \"\",\n            \"statement\": \"Examine the use of critical, strategic, and ethical thinking in decision-making\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/116\",\n            \"label\": \"mba6004-1\",\n            \"statement\": \"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/117\",\n            \"label\": \"mba6004-2\",\n            \"statement\": \"Integrate business strategies into general business management planning and decision-making.\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/118\",\n            \"label\": \"mba6004-3\",\n            \"statement\": \"Analyze relevant global business concerns for the future.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/119\",\n            \"label\": \"mba6004-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/63\",\n        \"schema:alternateName\": \"MBA-FP6006-1\",\n        \"title\": \"MBA-FP 6006 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/120\",\n            \"label\": \"mba6006-1\",\n            \"statement\": \"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/121\",\n            \"label\": \"mba6006-2\",\n            \"statement\": \"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/122\",\n            \"label\": \"mba6006-3\",\n            \"statement\": \"Assess what leaders of innovation do to shape organizational culture and processes.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/123\",\n            \"label\": \"mba6006-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/64\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/69\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Proficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/70\",\n        \"schema:alternateName\": \"MBA-FP6012-1\",\n        \"title\": \"MBA-FP 6012 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/129\",\n            \"label\": \"mba6012-1\",\n            \"statement\": \"Apply theories, models, and practices of marketing\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/130\",\n            \"label\": \"mba6012-2\",\n            \"statement\": \"Integrate fundamental principles and applications of marketing to address business problems.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/131\",\n            \"label\": \"mba6012-3\",\n            \"statement\": \"Develop innovative and sustainable solutions to strategic marketing challenges\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/132\",\n            \"label\": \"mba6012-4\",\n            \"statement\": \"Integrate marketing analyses into general business management planning and decision making\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/133\",\n            \"label\": \"mba6012-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      }\n    ]\n  }\n}', 'Elan University', '2015-07-30 21:19:36')
Mysql2::Error: Unknown column 'full_name' in 'field list': INSERT INTO `record_of_performances` (`created_at`, `full_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 21:19:36', 'Tom Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599', '{\n  \"@context\": {\n    \"@vocab\": \"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\",\n    \"schema\": \"http://schema.org/\"\n  },\n  \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599\",\n  \"@type\": \"RecordOfPerformance\",\n  \"created_at\": \"2015-07-30T14:19:36-07:00\",\n  \"tool_consumer_profile\": {\n    \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599\",\n    \"lti_version\": \"LTI-2p0\",\n    \"product_name\": \"Elan/LuMoS\",\n    \"service_provider_name\": \"Elan University\"\n  },\n  \"user\": {\n    \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/user/14\",\n    \"schema:familyName\": \"Arne\",\n    \"schema:givenName\": \"Tom\",\n    \"email\": \"tarne@hotmail.com\",\n    \"sourced_id\": 0\n  },\n  \"organization\": {\n    \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/organization/7\",\n    \"legal_name\": \"IMS Learning Institute, LLC\",\n    \"schema:url\": \"ili.imsglobal.org\"\n  },\n  \"program\": {\n    \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/program/7\",\n    \"schema:alternateName\": \"Master of Business Admin FP\",\n    \"schema:name\": \"MBA\",\n    \"courses\": [\n      {\n        \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/61\",\n        \"schema:alternateName\": \"MBA-FP6004-1\",\n        \"title\": \"MBA-FP 6004 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/115\",\n            \"label\": \"\",\n            \"statement\": \"Examine the use of critical, strategic, and ethical thinking in decision-making\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/116\",\n            \"label\": \"mba6004-1\",\n            \"statement\": \"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/117\",\n            \"label\": \"mba6004-2\",\n            \"statement\": \"Integrate business strategies into general business management planning and decision-making.\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/118\",\n            \"label\": \"mba6004-3\",\n            \"statement\": \"Analyze relevant global business concerns for the future.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/119\",\n            \"label\": \"mba6004-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/63\",\n        \"schema:alternateName\": \"MBA-FP6006-1\",\n        \"title\": \"MBA-FP 6006 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/120\",\n            \"label\": \"mba6006-1\",\n            \"statement\": \"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/121\",\n            \"label\": \"mba6006-2\",\n            \"statement\": \"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/122\",\n            \"label\": \"mba6006-3\",\n            \"statement\": \"Assess what leaders of innovation do to shape organizational culture and processes.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/123\",\n            \"label\": \"mba6006-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/64\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/69\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Proficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/course_section/70\",\n        \"schema:alternateName\": \"MBA-FP6012-1\",\n        \"title\": \"MBA-FP 6012 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/129\",\n            \"label\": \"mba6012-1\",\n            \"statement\": \"Apply theories, models, and practices of marketing\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/130\",\n            \"label\": \"mba6012-2\",\n            \"statement\": \"Integrate fundamental principles and applications of marketing to address business problems.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/131\",\n            \"label\": \"mba6012-3\",\n            \"statement\": \"Develop innovative and sustainable solutions to strategic marketing challenges\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/132\",\n            \"label\": \"mba6012-4\",\n            \"statement\": \"Integrate marketing analyses into general business management planning and decision making\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/9a8e3a80-192e-0133-b53a-406c8f40a599/competency/133\",\n            \"label\": \"mba6012-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      }\n    ]\n  }\n}', 'Elan University', '2015-07-30 21:19:36')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 8.0ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:20:47 -0700
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:20:56 -0700
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:24:01 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"5960925626948", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438291441", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"KPF3D68wa+9bqzVGIly8ZqfAJA8=", :oauth_signature=>"4m/abdPwVgw3373XdnKfw8pyDZ0="}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'c8315813dea78301039c12c3fe61cb0e'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 38  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"5960925626948", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438291441", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"KPF3D68wa+9bqzVGIly8ZqfAJA8=", :oauth_signature=>"4m/abdPwVgw3373XdnKfw8pyDZ0="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T14:24:01-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 21:24:01', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599', '{\n  \"@context\": {\n    \"@vocab\": \"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\",\n    \"schema\": \"http://schema.org/\"\n  },\n  \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599\",\n  \"@type\": \"RecordOfPerformance\",\n  \"created_at\": \"2015-07-30T14:24:01-07:00\",\n  \"tool_consumer_profile\": {\n    \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599\",\n    \"lti_version\": \"LTI-2p0\",\n    \"product_name\": \"Elan/LuMoS\",\n    \"service_provider_name\": \"Elan University\"\n  },\n  \"user\": {\n    \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/user/14\",\n    \"schema:familyName\": \"Arne\",\n    \"schema:givenName\": \"Tom\",\n    \"email\": \"tarne@hotmail.com\",\n    \"sourced_id\": 0\n  },\n  \"organization\": {\n    \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/organization/7\",\n    \"legal_name\": \"IMS Learning Institute, LLC\",\n    \"schema:url\": \"ili.imsglobal.org\"\n  },\n  \"program\": {\n    \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/program/7\",\n    \"schema:alternateName\": \"Master of Business Admin FP\",\n    \"schema:name\": \"MBA\",\n    \"courses\": [\n      {\n        \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/course_section/61\",\n        \"schema:alternateName\": \"MBA-FP6004-1\",\n        \"title\": \"MBA-FP 6004 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/115\",\n            \"label\": \"\",\n            \"statement\": \"Examine the use of critical, strategic, and ethical thinking in decision-making\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/116\",\n            \"label\": \"mba6004-1\",\n            \"statement\": \"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/117\",\n            \"label\": \"mba6004-2\",\n            \"statement\": \"Integrate business strategies into general business management planning and decision-making.\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/118\",\n            \"label\": \"mba6004-3\",\n            \"statement\": \"Analyze relevant global business concerns for the future.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/119\",\n            \"label\": \"mba6004-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/course_section/63\",\n        \"schema:alternateName\": \"MBA-FP6006-1\",\n        \"title\": \"MBA-FP 6006 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/120\",\n            \"label\": \"mba6006-1\",\n            \"statement\": \"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/121\",\n            \"label\": \"mba6006-2\",\n            \"statement\": \"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/122\",\n            \"label\": \"mba6006-3\",\n            \"statement\": \"Assess what leaders of innovation do to shape organizational culture and processes.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/123\",\n            \"label\": \"mba6006-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/course_section/64\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/course_section/69\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Proficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/course_section/70\",\n        \"schema:alternateName\": \"MBA-FP6012-1\",\n        \"title\": \"MBA-FP 6012 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/129\",\n            \"label\": \"mba6012-1\",\n            \"statement\": \"Apply theories, models, and practices of marketing\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/130\",\n            \"label\": \"mba6012-2\",\n            \"statement\": \"Integrate fundamental principles and applications of marketing to address business problems.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/131\",\n            \"label\": \"mba6012-3\",\n            \"statement\": \"Develop innovative and sustainable solutions to strategic marketing challenges\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/132\",\n            \"label\": \"mba6012-4\",\n            \"statement\": \"Integrate marketing analyses into general business management planning and decision making\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3871aca0-192f-0133-b53a-406c8f40a599/competency/133\",\n            \"label\": \"mba6012-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      }\n    ]\n  }\n}', 'Elan University', '2015-07-30 21:24:01')
  [1m[36m (11.6ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 164ms (Views: 10.2ms | ActiveRecord: 69.2ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:24:05 -0700
Processing by RecordOfPerformanceController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"4321465182690", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438291445", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"OzXhiOUbekIGNRmcdJA5CfSQMKU=", :oauth_signature=>"ruZNFgAL9WS2hhOeHlpY2iTRQ5E="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'c8315813dea78301039c12c3fe61cb0e'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 38  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"c8315813dea78301039c12c3fe61cb0e", :oauth_nonce=>"4321465182690", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438291445", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"OzXhiOUbekIGNRmcdJA5CfSQMKU=", :oauth_signature=>"ruZNFgAL9WS2hhOeHlpY2iTRQ5E="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T14:24:05-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 21:24:05', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599', '{\n  \"@context\": {\n    \"@vocab\": \"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\",\n    \"schema\": \"http://schema.org/\"\n  },\n  \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599\",\n  \"@type\": \"RecordOfPerformance\",\n  \"created_at\": \"2015-07-30T14:24:05-07:00\",\n  \"tool_consumer_profile\": {\n    \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/5088c880-191b-0133-b53a-406c8f40a599\",\n    \"lti_version\": \"LTI-2p0\",\n    \"product_name\": \"Elan/LuMoS\",\n    \"service_provider_name\": \"Elan University\"\n  },\n  \"user\": {\n    \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/user/14\",\n    \"schema:familyName\": \"Arne\",\n    \"schema:givenName\": \"Tom\",\n    \"email\": \"tarne@hotmail.com\",\n    \"sourced_id\": 0\n  },\n  \"organization\": {\n    \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/organization/7\",\n    \"legal_name\": \"IMS Learning Institute, LLC\",\n    \"schema:url\": \"ili.imsglobal.org\"\n  },\n  \"program\": {\n    \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/program/7\",\n    \"schema:alternateName\": \"Master of Business Admin FP\",\n    \"schema:name\": \"MBA\",\n    \"courses\": [\n      {\n        \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/course_section/61\",\n        \"schema:alternateName\": \"MBA-FP6004-1\",\n        \"title\": \"MBA-FP 6004 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/115\",\n            \"label\": \"\",\n            \"statement\": \"Examine the use of critical, strategic, and ethical thinking in decision-making\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/116\",\n            \"label\": \"mba6004-1\",\n            \"statement\": \"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/117\",\n            \"label\": \"mba6004-2\",\n            \"statement\": \"Integrate business strategies into general business management planning and decision-making.\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/118\",\n            \"label\": \"mba6004-3\",\n            \"statement\": \"Analyze relevant global business concerns for the future.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/119\",\n            \"label\": \"mba6004-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/course_section/63\",\n        \"schema:alternateName\": \"MBA-FP6006-1\",\n        \"title\": \"MBA-FP 6006 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/120\",\n            \"label\": \"mba6006-1\",\n            \"statement\": \"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/121\",\n            \"label\": \"mba6006-2\",\n            \"statement\": \"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/122\",\n            \"label\": \"mba6006-3\",\n            \"statement\": \"Assess what leaders of innovation do to shape organizational culture and processes.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/123\",\n            \"label\": \"mba6006-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/course_section/64\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/course_section/69\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Proficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/course_section/70\",\n        \"schema:alternateName\": \"MBA-FP6012-1\",\n        \"title\": \"MBA-FP 6012 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/129\",\n            \"label\": \"mba6012-1\",\n            \"statement\": \"Apply theories, models, and practices of marketing\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/130\",\n            \"label\": \"mba6012-2\",\n            \"statement\": \"Integrate fundamental principles and applications of marketing to address business problems.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/131\",\n            \"label\": \"mba6012-3\",\n            \"statement\": \"Develop innovative and sustainable solutions to strategic marketing challenges\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/132\",\n            \"label\": \"mba6012-4\",\n            \"statement\": \"Integrate marketing analyses into general business management planning and decision making\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/3b0f4f90-192f-0133-b53a-406c8f40a599/competency/133\",\n            \"label\": \"mba6012-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      }\n    ]\n  }\n}', 'Elan University', '2015-07-30 21:24:05')[0m
  [1m[35m (16.2ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 25ms (Views: 0.7ms | ActiveRecord: 17.5ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-07-30 14:25:14 -0700
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances" for 127.0.0.1 at 2015-07-30 14:25:42 -0700
Started GET "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:25:50 -0700
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances" for 127.0.0.1 at 2015-07-30 14:26:26 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
Completed 200 OK in 31ms (Views: 1.9ms | ActiveRecord: 19.6ms)
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:30:07 -0700
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.3ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:30:21 -0700
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:31:25 -0700
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performance" for 127.0.0.1 at 2015-07-30 14:34:11 -0700
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (12.5ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (6.6ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (6.0ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 14:37:47 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/2256d6e0-1931-0133-b53d-406c8f40a599", "reg_key"=>"2255f430-1931-0133-b53d-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"f4395bbc08ec66a5900aa1108dcd33fd"}
  [1m[36mLti2Tp::Tool Load (0.3ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-07-30 21:37:47', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '2255f430-1931-0133-b53d-406c8f40a599', '1893b392a2479920b8a0b8dece4a5ae9', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/2256d6e0-1931-0133-b53d-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/2256d6e0-1931-0133-b53d-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/2256d6e0-1931-0133-b53d-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"2256d6e0-1931-0133-b53d-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"Result.uri\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'f4395bbc08ec66a5900aa1108dcd33fd', '2015-07-30 21:37:47', '2')[0m
  [1m[35m (17.3ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=39&return_url=/lti2_tp/registrations
Completed 302 Found in 115ms (ActiveRecord: 40.0ms)
Started GET "/lti_registration_wips?registration_id=39&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-07-30 14:37:47 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"39", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 39 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 21:37:47', 'Elan/LuMoS', 39, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-0237.47', '2015-07-30 21:37:47')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (109.2ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (116.1ms)
Completed 200 OK in 229ms (Views: 194.9ms | ActiveRecord: 20.5ms)
Started PATCH "/lti_registration_wips/40" for 127.0.0.1 at 2015-07-30 14:37:49 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-0237.47"}, "commit"=>"Update Lti registration wip", "id"=>"40"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 40 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 39 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-0237.47', `updated_at` = '2015-07-30 21:37:49' WHERE `lti2_tp_registrations`.`id` = 39
  [1m[36m (11.6ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.5ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 40 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 39 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-0237.47' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-07-30 21:37:49', 'Elan University-0237.47', '2015-07-30 21:37:49')
  [1m[36m (11.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '2641ab60-1931-0133-b53e-406c8f40a599', `tool_proxy_json` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxy\",\"@type\":\"ToolProxy\",\"tool_proxy_guid\":\"f4395bbc08ec66a5900aa1108dcd33fd\",\"lti_version\":\"LTI-2p0\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/2256d6e0-1931-0133-b53d-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Person.email.primary\",\"CourseOffering.label\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\",\"Result.uri\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"64a21e4a46a87238283ba48a533f18a0\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-07-30 21:37:49' WHERE `lti2_tp_registrations`.`id` = 39[0m
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `tool_proxy_response` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\",\"@type\":\"ToolProxy\",\"@id\":null,\"tool_proxy_guid\":\"f4395bbc08ec66a5900aa1108dcd33fd\"}', `updated_at` = '2015-07-30 21:37:50' WHERE `lti2_tp_registrations`.`id` = 39
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University-0237.47' AND `tenants`.`id` != 39) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `tenants` SET `secret` = '64a21e4a46a87238283ba48a533f18a0', `tenant_key` = 'f4395bbc08ec66a5900aa1108dcd33fd', `updated_at` = '2015-07-30 21:37:50' WHERE `tenants`.`id` = 39
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `final_secret` = '64a21e4a46a87238283ba48a533f18a0', `tenant_id` = 39, `updated_at` = '2015-07-30 21:37:50' WHERE `lti2_tp_registrations`.`id` = 39[0m
  [1m[35m (0.4ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=f4395bbc08ec66a5900aa1108dcd33fd&&id=39
Completed 302 Found in 329ms (ActiveRecord: 78.8ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=f4395bbc08ec66a5900aa1108dcd33fd&&id=39" for 127.0.0.1 at 2015-07-30 14:37:50 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"f4395bbc08ec66a5900aa1108dcd33fd", "id"=>"39"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 39 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=f4395bbc08ec66a5900aa1108dcd33fd
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-07-30 14:38:19 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"1678684576909", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438292299", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"JE8QrB7liaaKK4XAk8GIySEdeJQ=", :oauth_signature=>"JVa7a3kaaIRM2sBiuY7DY3RJ/YY="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f4395bbc08ec66a5900aa1108dcd33fd'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 39  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"1678684576909", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438292299", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"JE8QrB7liaaKK4XAk8GIySEdeJQ=", :oauth_signature=>"JVa7a3kaaIRM2sBiuY7DY3RJ/YY="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T14:38:19-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 21:38:19', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/3806ec50-1931-0133-b53d-406c8f40a599', 'Elan University', '2015-07-30 21:38:19')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 47ms (Views: 2.9ms | ActiveRecord: 20.8ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-07-30 14:38:25 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"4259193653354", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438292305", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"PQvYlekbjIPw8J2PFBztwsoZyXk=", :oauth_signature=>"7LeVtIhSyPFIgCdf2LQMf4huulc="}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f4395bbc08ec66a5900aa1108dcd33fd'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 39  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"4259193653354", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438292305", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"PQvYlekbjIPw8J2PFBztwsoZyXk=", :oauth_signature=>"7LeVtIhSyPFIgCdf2LQMf4huulc="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T14:38:25-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 21:38:25', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/3bba7e90-1931-0133-b53d-406c8f40a599', 'Elan University', '2015-07-30 21:38:25')
  [1m[36m (17.5ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 25ms (Views: 0.6ms | ActiveRecord: 18.5ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-07-30 14:38:45 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[35mRecordOfPerformance Load (0.3ms)[0m  SELECT `record_of_performances`.* FROM `record_of_performances`
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-07-30 14:43:33 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"2446530803339", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438292613", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"h+ITdGdVKzACGF1upz7g1BYT1sk=", :oauth_signature=>"UwUUlJKDyVmJQWsq260KnCKxCw8="}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f4395bbc08ec66a5900aa1108dcd33fd'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 39  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"2446530803339", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438292613", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"h+ITdGdVKzACGF1upz7g1BYT1sk=", :oauth_signature=>"UwUUlJKDyVmJQWsq260KnCKxCw8="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T14:43:33-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 21:43:33', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/f2e7d640-1931-0133-b53d-406c8f40a599', 'Elan University', '2015-07-30 21:43:33')
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 7.0ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-07-30 14:43:36 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"260929088485", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438292616", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"96Iise0uQrRQ3Cv/zIOfMpVbgc8=", :oauth_signature=>"aoTns3ddiN5pidP0wLlxfWJjqIU="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f4395bbc08ec66a5900aa1108dcd33fd'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 39  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"260929088485", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438292616", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"96Iise0uQrRQ3Cv/zIOfMpVbgc8=", :oauth_signature=>"aoTns3ddiN5pidP0wLlxfWJjqIU="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T14:43:36-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 21:43:36', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/f4ae8bf0-1931-0133-b53d-406c8f40a599', 'Elan University', '2015-07-30 21:43:36')[0m
  [1m[35m (11.9ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 12.7ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances" for 127.0.0.1 at 2015-07-30 15:04:41 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (0.8ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
Completed 200 OK in 30ms (Views: 0.5ms | ActiveRecord: 20.3ms)
Started GET "/record_of_performances/2" for 127.0.0.1 at 2015-07-30 15:04:48 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mRecordOfPerformance Load (0.3ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 2 LIMIT 1
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started GET "/record_of_performances/2" for 127.0.0.1 at 2015-07-30 15:11:41 -0700
Processing by RecordOfPerformancesController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mRecordOfPerformance Load (0.3ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-07-30 15:11:45 -0700
Processing by RecordOfPerformancesController#index as */*
  [1m[35mRecordOfPerformance Load (0.3ms)[0m  SELECT `record_of_performances`.* FROM `record_of_performances`
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-07-30 15:23:39 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"203049208524", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438295019", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"eCS5ZH7txOCAl7jpnPGYvUEzUaA=", :oauth_signature=>"npB1LzoVmXhZ8ihTwUUWMXShasQ="}
  [1m[36mTenant Load (0.6ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f4395bbc08ec66a5900aa1108dcd33fd'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.6ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 39  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"203049208524", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438295019", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"eCS5ZH7txOCAl7jpnPGYvUEzUaA=", :oauth_signature=>"npB1LzoVmXhZ8ihTwUUWMXShasQ="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T15:23:39-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 22:23:39', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/8d4bed80-1937-0133-b53d-406c8f40a599', 'Elan University', '2015-07-30 22:23:39')
  [1m[36m (5.9ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 123ms (Views: 10.7ms | ActiveRecord: 45.4ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-07-30 15:23:43 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"4468656582829", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438295023", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"Ic9Uq+ePNmAHGBbtnqjDEpypg4E=", :oauth_signature=>"cBQQkaumMA8uJNuSwbe3KeKLEO4="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f4395bbc08ec66a5900aa1108dcd33fd'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 39  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"4468656582829", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438295023", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"Ic9Uq+ePNmAHGBbtnqjDEpypg4E=", :oauth_signature=>"cBQQkaumMA8uJNuSwbe3KeKLEO4="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T15:23:43-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 22:23:43', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/8fb07db0-1937-0133-b53d-406c8f40a599', 'Elan University', '2015-07-30 22:23:43')[0m
  [1m[35m (11.8ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 20ms (Views: 0.6ms | ActiveRecord: 12.8ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performances" for 127.0.0.1 at 2015-07-30 15:25:33 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"5488550675512", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438295133", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"9D7zVfgv4OgoMDxqc+oZWVQWRw8=", :oauth_signature=>"ZLN2dgcbf/oSmAaAcou7gsRKZBs="}
  [1m[36mTenant Load (0.4ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f4395bbc08ec66a5900aa1108dcd33fd'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.5ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 39  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"5488550675512", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438295133", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"9D7zVfgv4OgoMDxqc+oZWVQWRw8=", :oauth_signature=>"ZLN2dgcbf/oSmAaAcou7gsRKZBs="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T15:25:33-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `extracted_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 22:25:33', '2015-07-30 22:25:33', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599', '{\n  \"@context\": {\n    \"@vocab\": \"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\",\n    \"schema\": \"http://schema.org/\"\n  },\n  \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599\",\n  \"@type\": \"RecordOfPerformance\",\n  \"created_at\": \"2015-07-30T15:25:33-07:00\",\n  \"tool_consumer_profile\": {\n    \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n    \"lti_version\": \"LTI-2p0\",\n    \"product_name\": \"Elan/LuMoS\",\n    \"service_provider_name\": \"Elan University\"\n  },\n  \"user\": {\n    \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/user/14\",\n    \"schema:familyName\": \"Arne\",\n    \"schema:givenName\": \"Tom\",\n    \"email\": \"tarne@hotmail.com\",\n    \"sourced_id\": 0\n  },\n  \"organization\": {\n    \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/organization/7\",\n    \"legal_name\": \"IMS Learning Institute, LLC\",\n    \"schema:url\": \"ili.imsglobal.org\"\n  },\n  \"program\": {\n    \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/program/7\",\n    \"schema:alternateName\": \"Master of Business Admin FP\",\n    \"schema:name\": \"MBA\",\n    \"courses\": [\n      {\n        \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/course_section/61\",\n        \"schema:alternateName\": \"MBA-FP6004-1\",\n        \"title\": \"MBA-FP 6004 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/115\",\n            \"label\": \"\",\n            \"statement\": \"Examine the use of critical, strategic, and ethical thinking in decision-making\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/116\",\n            \"label\": \"mba6004-1\",\n            \"statement\": \"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/117\",\n            \"label\": \"mba6004-2\",\n            \"statement\": \"Integrate business strategies into general business management planning and decision-making.\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/118\",\n            \"label\": \"mba6004-3\",\n            \"statement\": \"Analyze relevant global business concerns for the future.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/119\",\n            \"label\": \"mba6004-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/course_section/63\",\n        \"schema:alternateName\": \"MBA-FP6006-1\",\n        \"title\": \"MBA-FP 6006 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/120\",\n            \"label\": \"mba6006-1\",\n            \"statement\": \"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/121\",\n            \"label\": \"mba6006-2\",\n            \"statement\": \"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/122\",\n            \"label\": \"mba6006-3\",\n            \"statement\": \"Assess what leaders of innovation do to shape organizational culture and processes.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/123\",\n            \"label\": \"mba6006-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/course_section/64\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/course_section/69\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Proficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/course_section/70\",\n        \"schema:alternateName\": \"MBA-FP6012-1\",\n        \"title\": \"MBA-FP 6012 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/129\",\n            \"label\": \"mba6012-1\",\n            \"statement\": \"Apply theories, models, and practices of marketing\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/130\",\n            \"label\": \"mba6012-2\",\n            \"statement\": \"Integrate fundamental principles and applications of marketing to address business problems.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/131\",\n            \"label\": \"mba6012-3\",\n            \"statement\": \"Develop innovative and sustainable solutions to strategic marketing challenges\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/132\",\n            \"label\": \"mba6012-4\",\n            \"statement\": \"Integrate marketing analyses into general business management planning and decision making\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/d0f44880-1937-0133-b53d-406c8f40a599/competency/133\",\n            \"label\": \"mba6012-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      }\n    ]\n  }\n}', 'Elan University', '2015-07-30 22:25:33')
  [1m[36m (12.3ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 157ms (Views: 9.0ms | ActiveRecord: 54.5ms)
Started DELETE "/record_of_performances" for 127.0.0.1 at 2015-07-30 15:27:19 -0700
Started DELETE "/record_of_performances/1" for 127.0.0.1 at 2015-07-30 15:27:39 -0700
Processing by RecordOfPerformancesController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[35mRecordOfPerformance Load (0.3ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 1 LIMIT 1
  [1m[36mSQL (2.6ms)[0m  [1mDELETE FROM `record_of_performances` WHERE `record_of_performances`.`id` = 1[0m
  Rendered text template (0.0ms)
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 2.9ms)
Started DELETE "/record_of_performances/delete_all" for 127.0.0.1 at 2015-07-30 15:28:04 -0700
Processing by RecordOfPerformancesController#destroy as */*
  Parameters: {"id"=>"delete_all"}
  [1m[35mRecordOfPerformance Load (0.2ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 0 LIMIT 1
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms)
Started DELETE "/delete_all_record_of_performances" for 127.0.0.1 at 2015-07-30 15:29:20 -0700
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started DELETE "/delete_all_record_of_performances" for 127.0.0.1 at 2015-07-30 15:29:35 -0700
Processing by RecordOfPerformancesController#destroy_all as */*
  [1m[36mSQL (12.6ms)[0m  [1mDELETE FROM `record_of_performances`[0m
Completed 500 Internal Server Error in 61ms (ActiveRecord: 12.6ms)
Started DELETE "/delete_all_record_of_performances" for 127.0.0.1 at 2015-07-30 15:31:03 -0700
Processing by RecordOfPerformancesController#destroy_all as */*
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `record_of_performances`
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started DELETE "/delete_all_record_of_performances" for 127.0.0.1 at 2015-07-30 15:31:14 -0700
Processing by RecordOfPerformancesController#destroy_all as */*
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `record_of_performances`[0m
  Rendered text template (0.0ms)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.2ms)
Started GET "/record_of_performance/2" for 127.0.0.1 at 2015-07-30 15:37:04 -0700
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performance/2" for 127.0.0.1 at 2015-07-30 15:38:26 -0700
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performance/2" for 127.0.0.1 at 2015-07-30 15:39:12 -0700
Processing by RecordOfPerformancesController#show_full_rop as */*
  Parameters: {"id"=>"2"}
  [1m[36mRecordOfPerformance Load (0.3ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 2 LIMIT 1[0m
Completed 404 Not Found in 23ms (ActiveRecord: 18.8ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-07-30 15:39:29 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"6960997405443", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438295969", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"MpombImyqhmIcQgdK6vCxMEdK+M=", :oauth_signature=>"JyvJjsUK1W2Bt2sGc6hLICgTRy8="}
  [1m[35mTenant Load (0.5ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f4395bbc08ec66a5900aa1108dcd33fd'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 39  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"6960997405443", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438295969", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"MpombImyqhmIcQgdK6vCxMEdK+M=", :oauth_signature=>"JyvJjsUK1W2Bt2sGc6hLICgTRy8="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T15:39:28-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `extracted_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 22:39:29', '2015-07-30 22:39:28', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599', '{\n  \"@context\": {\n    \"@vocab\": \"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\",\n    \"schema\": \"http://schema.org/\"\n  },\n  \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599\",\n  \"@type\": \"RecordOfPerformance\",\n  \"created_at\": \"2015-07-30T15:39:28-07:00\",\n  \"tool_consumer_profile\": {\n    \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n    \"lti_version\": \"LTI-2p0\",\n    \"product_name\": \"Elan/LuMoS\",\n    \"service_provider_name\": \"Elan University\"\n  },\n  \"user\": {\n    \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/user/14\",\n    \"schema:familyName\": \"Arne\",\n    \"schema:givenName\": \"Tom\",\n    \"email\": \"tarne@hotmail.com\",\n    \"sourced_id\": 0\n  },\n  \"organization\": {\n    \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/organization/7\",\n    \"legal_name\": \"IMS Learning Institute, LLC\",\n    \"schema:url\": \"ili.imsglobal.org\"\n  },\n  \"program\": {\n    \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/program/7\",\n    \"schema:alternateName\": \"Master of Business Admin FP\",\n    \"schema:name\": \"MBA\",\n    \"courses\": [\n      {\n        \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/course_section/61\",\n        \"schema:alternateName\": \"MBA-FP6004-1\",\n        \"title\": \"MBA-FP 6004 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/115\",\n            \"label\": \"\",\n            \"statement\": \"Examine the use of critical, strategic, and ethical thinking in decision-making\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/116\",\n            \"label\": \"mba6004-1\",\n            \"statement\": \"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/117\",\n            \"label\": \"mba6004-2\",\n            \"statement\": \"Integrate business strategies into general business management planning and decision-making.\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/118\",\n            \"label\": \"mba6004-3\",\n            \"statement\": \"Analyze relevant global business concerns for the future.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/119\",\n            \"label\": \"mba6004-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/course_section/63\",\n        \"schema:alternateName\": \"MBA-FP6006-1\",\n        \"title\": \"MBA-FP 6006 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/120\",\n            \"label\": \"mba6006-1\",\n            \"statement\": \"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/121\",\n            \"label\": \"mba6006-2\",\n            \"statement\": \"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/122\",\n            \"label\": \"mba6006-3\",\n            \"statement\": \"Assess what leaders of innovation do to shape organizational culture and processes.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/123\",\n            \"label\": \"mba6006-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/course_section/64\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/course_section/69\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Proficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/course_section/70\",\n        \"schema:alternateName\": \"MBA-FP6012-1\",\n        \"title\": \"MBA-FP 6012 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/129\",\n            \"label\": \"mba6012-1\",\n            \"statement\": \"Apply theories, models, and practices of marketing\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/130\",\n            \"label\": \"mba6012-2\",\n            \"statement\": \"Integrate fundamental principles and applications of marketing to address business problems.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/131\",\n            \"label\": \"mba6012-3\",\n            \"statement\": \"Develop innovative and sustainable solutions to strategic marketing challenges\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/132\",\n            \"label\": \"mba6012-4\",\n            \"statement\": \"Integrate marketing analyses into general business management planning and decision making\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c321dd30-1939-0133-b53d-406c8f40a599/competency/133\",\n            \"label\": \"mba6012-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      }\n    ]\n  }\n}', 'Elan University', '2015-07-30 22:39:29')[0m
  [1m[35m (12.2ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 130ms (Views: 9.6ms | ActiveRecord: 51.3ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-07-30 15:39:31 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"5282054757803", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438295971", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"Ss0vnCAKzS6TQ9Gu5eKKrNSQHHk=", :oauth_signature=>"6SNYUW9k3hpvnp+I7bWrp8UA+G8="}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'f4395bbc08ec66a5900aa1108dcd33fd'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 39  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"f4395bbc08ec66a5900aa1108dcd33fd", :oauth_nonce=>"5282054757803", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438295971", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"Ss0vnCAKzS6TQ9Gu5eKKrNSQHHk=", :oauth_signature=>"6SNYUW9k3hpvnp+I7bWrp8UA+G8="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/",
    "schema": "http://schema.org/"
  },
  "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-07-30T15:39:31-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/user/14",
    "schema:familyName": "Arne",
    "schema:givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/organization/7",
    "legal_name": "IMS Learning Institute, LLC",
    "schema:url": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/program/7",
    "schema:alternateName": "Master of Business Admin FP",
    "schema:name": "MBA",
    "courses": [
      {
        "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/course_section/61",
        "schema:alternateName": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/115",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/116",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/117",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/118",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/119",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/course_section/63",
        "schema:alternateName": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/120",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/121",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/122",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/123",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/course_section/64",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/course_section/69",
        "schema:alternateName": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/124",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/125",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/126",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/127",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/128",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/course_section/70",
        "schema:alternateName": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/129",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Basic"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/130",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/131",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/132",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/133",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  }
}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `extracted_at`, `first_name`, `last_name`, `organization_name`, `product_name`, `program_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-07-30 22:39:31', '2015-07-30 22:39:31', 'Tom', 'Arne', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'Master of Business Admin FP', 'http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599', '{\n  \"@context\": {\n    \"@vocab\": \"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\",\n    \"schema\": \"http://schema.org/\"\n  },\n  \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599\",\n  \"@type\": \"RecordOfPerformance\",\n  \"created_at\": \"2015-07-30T15:39:31-07:00\",\n  \"tool_consumer_profile\": {\n    \"@id\": \"http://rails.kinexis.com:4000/tool_consumer_profiles/{tc_profile_guid}\",\n    \"lti_version\": \"LTI-2p0\",\n    \"product_name\": \"Elan/LuMoS\",\n    \"service_provider_name\": \"Elan University\"\n  },\n  \"user\": {\n    \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/user/14\",\n    \"schema:familyName\": \"Arne\",\n    \"schema:givenName\": \"Tom\",\n    \"email\": \"tarne@hotmail.com\",\n    \"sourced_id\": 0\n  },\n  \"organization\": {\n    \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/organization/7\",\n    \"legal_name\": \"IMS Learning Institute, LLC\",\n    \"schema:url\": \"ili.imsglobal.org\"\n  },\n  \"program\": {\n    \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/program/7\",\n    \"schema:alternateName\": \"Master of Business Admin FP\",\n    \"schema:name\": \"MBA\",\n    \"courses\": [\n      {\n        \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/course_section/61\",\n        \"schema:alternateName\": \"MBA-FP6004-1\",\n        \"title\": \"MBA-FP 6004 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/115\",\n            \"label\": \"\",\n            \"statement\": \"Examine the use of critical, strategic, and ethical thinking in decision-making\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/116\",\n            \"label\": \"mba6004-1\",\n            \"statement\": \"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/117\",\n            \"label\": \"mba6004-2\",\n            \"statement\": \"Integrate business strategies into general business management planning and decision-making.\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/118\",\n            \"label\": \"mba6004-3\",\n            \"statement\": \"Analyze relevant global business concerns for the future.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/119\",\n            \"label\": \"mba6004-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/course_section/63\",\n        \"schema:alternateName\": \"MBA-FP6006-1\",\n        \"title\": \"MBA-FP 6006 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/120\",\n            \"label\": \"mba6006-1\",\n            \"statement\": \"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/121\",\n            \"label\": \"mba6006-2\",\n            \"statement\": \"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/122\",\n            \"label\": \"mba6006-3\",\n            \"statement\": \"Assess what leaders of innovation do to shape organizational culture and processes.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/123\",\n            \"label\": \"mba6006-4\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/course_section/64\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Basic\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/course_section/69\",\n        \"schema:alternateName\": \"MBA-FP6008-1\",\n        \"title\": \"MBA-FP 6008 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/124\",\n            \"label\": \"mba6008-1\",\n            \"statement\": \"Apply the theories, models, and practices of economic theory to create value for the firm.\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/125\",\n            \"label\": \"mba6008-2\",\n            \"statement\": \"Assess the impact of ethical and regulatory considerations on economic decisions\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/126\",\n            \"label\": \"mba6008-3\",\n            \"statement\": \"Analyze the macroeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/127\",\n            \"label\": \"mba6008-4\",\n            \"statement\": \"Analyze the microeconomic environment of corporate operations\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/128\",\n            \"label\": \"mba6008-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\n            \"achievement\": \"Proficient\"\n          }\n        ]\n      },\n      {\n        \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/course_section/70\",\n        \"schema:alternateName\": \"MBA-FP6012-1\",\n        \"title\": \"MBA-FP 6012 Section 1\",\n        \"competencies\": [\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/129\",\n            \"label\": \"mba6012-1\",\n            \"statement\": \"Apply theories, models, and practices of marketing\",\n            \"achievement\": \"Basic\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/130\",\n            \"label\": \"mba6012-2\",\n            \"statement\": \"Integrate fundamental principles and applications of marketing to address business problems.\",\n            \"achievement\": \"Proficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/131\",\n            \"label\": \"mba6012-3\",\n            \"statement\": \"Develop innovative and sustainable solutions to strategic marketing challenges\",\n            \"achievement\": \"NonProficient\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/132\",\n            \"label\": \"mba6012-4\",\n            \"statement\": \"Integrate marketing analyses into general business management planning and decision making\",\n            \"achievement\": \"Distinguished\"\n          },\n          {\n            \"@id\": \"http://kinexis.com/cbe/c4ca97c0-1939-0133-b53d-406c8f40a599/competency/133\",\n            \"label\": \"mba6012-5\",\n            \"statement\": \"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\n            \"achievement\": \"NonProficient\"\n          }\n        ]\n      }\n    ]\n  }\n}', 'Elan University', '2015-07-30 22:39:31')
  [1m[36m (10.4ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 21ms (Views: 0.5ms | ActiveRecord: 11.8ms)
Started GET "/record_of_performance/4" for 127.0.0.1 at 2015-07-30 15:39:41 -0700
Processing by RecordOfPerformancesController#show_full_rop as */*
  Parameters: {"id"=>"4"}
  [1m[35mRecordOfPerformance Load (0.3ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 4 LIMIT 1
  Rendered text template (0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances/2" for 127.0.0.1 at 2015-07-31 09:17:14 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 2 LIMIT 1[0m
Completed 404 Not Found in 49ms (ActiveRecord: 20.8ms)
Started GET "/record_of_performances/13" for 127.0.0.1 at 2015-07-31 09:17:21 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[35mRecordOfPerformance Load (0.4ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 13 LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-04 14:13:04 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (21.7ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
Completed 200 OK in 91ms (Views: 10.9ms | ActiveRecord: 21.7ms)
Started GET "/record_of_performances/5" for 127.0.0.1 at 2015-08-04 14:13:22 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mRecordOfPerformance Load (6.6ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 5 LIMIT 1
Completed 200 OK in 12ms (Views: 2.7ms | ActiveRecord: 6.6ms)
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances/5" for 127.0.0.1 at 2015-08-04 14:17:27 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mRecordOfPerformance Load (0.3ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 5 LIMIT 1[0m
Completed 200 OK in 32ms (Views: 0.7ms | ActiveRecord: 20.5ms)
  [1m[36mLti2Tp::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances/5" for 127.0.0.1 at 2015-08-04 16:26:11 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mRecordOfPerformance Load (0.5ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 5 LIMIT 1[0m
  Rendered text template (0.0ms)
Completed 200 OK in 39ms (Views: 8.6ms | ActiveRecord: 20.2ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-04 16:26:24 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[35mRecordOfPerformance Load (12.8ms)[0m  SELECT `record_of_performances`.* FROM `record_of_performances`
  Rendered text template (0.0ms)
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 12.8ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-04 16:29:01 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
  Rendered text template (0.0ms)
Completed 200 OK in 39ms (Views: 8.5ms | ActiveRecord: 20.5ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-04 16:29:09 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[35mRecordOfPerformance Load (0.4ms)[0m  SELECT `record_of_performances`.* FROM `record_of_performances`
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started GET "/record_of_performances/4" for 127.0.0.1 at 2015-08-04 16:29:45 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 4 LIMIT 1[0m
  Rendered text template (0.0ms)
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-04 16:30:16 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
  Rendered text template (0.0ms)
Completed 200 OK in 38ms (Views: 8.3ms | ActiveRecord: 20.0ms)
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.3ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-04 16:30:46 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 4.6ms)
Started GET "/record_of_performances/2" for 127.0.0.1 at 2015-08-04 16:30:52 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mRecordOfPerformance Load (0.3ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 2 LIMIT 1
Completed 404 Not Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-04 16:30:58 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (0.5ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms)
Started GET "/record_of_performances/4" for 127.0.0.1 at 2015-08-04 16:31:03 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mRecordOfPerformance Load (0.4ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 4 LIMIT 1
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances/4" for 127.0.0.1 at 2015-08-04 16:33:27 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mRecordOfPerformance Load (0.3ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 4 LIMIT 1[0m
  Rendered text template (0.0ms)
Completed 200 OK in 38ms (Views: 7.9ms | ActiveRecord: 20.2ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-04 16:33:33 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[35mRecordOfPerformance Load (0.6ms)[0m  SELECT `record_of_performances`.* FROM `record_of_performances`
  Rendered text template (0.0ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[36mLti2Tp::Registry Load (1.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (1.0ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (8.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (12.2ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (6.2ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (6.9ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `iresources`[0m
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-08-05 06:23:26 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0febdbe0-1da3-0133-b54e-406c8f40a599", "reg_key"=>"0febd980-1da3-0133-b54e-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"0c5f190e87547b0b3e2e930f423cd431"}
  [1m[36mLti2Tp::Tool Load (7.1ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-08-05 13:23:26', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '0febd980-1da3-0133-b54e-406c8f40a599', '6735f1a74186c39370dc719ae0300e27', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0febdbe0-1da3-0133-b54e-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0febdbe0-1da3-0133-b54e-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/0febdbe0-1da3-0133-b54e-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"0febdbe0-1da3-0133-b54e-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"Result.uri\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', '0c5f190e87547b0b3e2e930f423cd431', '2015-08-05 13:23:26', '2')[0m
  [1m[35m (15.9ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=40&return_url=/lti2_tp/registrations
Completed 302 Found in 171ms (ActiveRecord: 40.7ms)
Started GET "/lti_registration_wips?registration_id=40&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-08-05 06:23:26 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"40", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 40 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-08-05 13:23:26', 'Elan/LuMoS', 40, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-0623.26', '2015-08-05 13:23:26')[0m
  [1m[35m (10.2ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (231.0ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (242.0ms)
Completed 200 OK in 346ms (Views: 299.5ms | ActiveRecord: 29.9ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-08-05 06:23:26 -0700
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-08-05 06:23:26 -0700
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-08-05 06:23:26 -0700
Started PATCH "/lti_registration_wips/41" for 127.0.0.1 at 2015-08-05 06:23:29 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-0623.26"}, "commit"=>"Update Lti registration wip", "id"=>"41"}
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 41 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.6ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 40 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-0623.26', `updated_at` = '2015-08-05 13:23:29' WHERE `lti2_tp_registrations`.`id` = 40
  [1m[36m (12.0ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.5ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 41 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.6ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 40 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (23.4ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-0623.26' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-08-05 13:23:29', 'Elan University-0623.26', '2015-08-05 13:23:29')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '15f55060-1da3-0133-b54f-406c8f40a599', `tool_proxy_json` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxy\",\"@type\":\"ToolProxy\",\"tool_proxy_guid\":\"0c5f190e87547b0b3e2e930f423cd431\",\"lti_version\":\"LTI-2p0\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0febdbe0-1da3-0133-b54e-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Person.email.primary\",\"CourseOffering.label\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\",\"Result.uri\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"03bf1cdfe7dfe22a131b2045e0a85e9a\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-08-05 13:23:29' WHERE `lti2_tp_registrations`.`id` = 40[0m
  [1m[35m (6.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `tool_proxy_response` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\",\"@type\":\"ToolProxy\",\"@id\":null,\"tool_proxy_guid\":\"0c5f190e87547b0b3e2e930f423cd431\"}', `updated_at` = '2015-08-05 13:23:29' WHERE `lti2_tp_registrations`.`id` = 40
  [1m[36m (12.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University-0623.26' AND `tenants`.`id` != 40) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `tenants` SET `secret` = '03bf1cdfe7dfe22a131b2045e0a85e9a', `tenant_key` = '0c5f190e87547b0b3e2e930f423cd431', `updated_at` = '2015-08-05 13:23:29' WHERE `tenants`.`id` = 40
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `final_secret` = '03bf1cdfe7dfe22a131b2045e0a85e9a', `tenant_id` = 40, `updated_at` = '2015-08-05 13:23:29' WHERE `lti2_tp_registrations`.`id` = 40[0m
  [1m[35m (0.6ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=0c5f190e87547b0b3e2e930f423cd431&&id=40
Completed 302 Found in 324ms (ActiveRecord: 86.4ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=0c5f190e87547b0b3e2e930f423cd431&&id=40" for 127.0.0.1 at 2015-08-05 06:23:29 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"0c5f190e87547b0b3e2e930f423cd431", "id"=>"40"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 40 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=0c5f190e87547b0b3e2e930f423cd431
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-05 06:24:12 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"0c5f190e87547b0b3e2e930f423cd431", :oauth_nonce=>"6640393812361", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438781052", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"dwdwkdO4lm7dmGWNK0uYh1bBdso=", :oauth_signature=>"+i+yuR9mpfk9jnboH0CwTSMm2ww="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '0c5f190e87547b0b3e2e930f423cd431'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 40  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"0c5f190e87547b0b3e2e930f423cd431", :oauth_nonce=>"6640393812361", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438781052", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"dwdwkdO4lm7dmGWNK0uYh1bBdso=", :oauth_signature=>"+i+yuR9mpfk9jnboH0CwTSMm2ww="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/"
  },
  "@id": "http://rails.kinexis.com:4000/2f988470-1da3-0133-b54e-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-08-05T06:24:12-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://rails.kinexis.com:4000/users/17",
    "familyName": "Arne",
    "givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://rails.kinexis.com:4000/organizations/8",
    "legal_name": "IMS Learning Institute, LLC",
    "website": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://rails.kinexis.com:4000/programs/8",
    "label": "Master of Business Admin FP",
    "degree_level": "MBA",
    "courses": [
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/71",
        "label": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/134",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/135",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/136",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/137",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/138",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/73",
        "label": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/139",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/140",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/141",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/142",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/74",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/143",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/144",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/145",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/146",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/147",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/79",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/143",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/144",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/145",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/146",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/147",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/80",
        "label": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/148",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/149",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/150",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/151",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/152",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Basic"
          }
        ]
      }
    ]
  }
}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `extracted_at`, `organization_name`, `product_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-08-05 13:24:12', '2015-08-05 13:24:12', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'http://rails.kinexis.com:4000/2f988470-1da3-0133-b54e-406c8f40a599', '{\"@context\":{\"@vocab\":\"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\"},\"@id\":\"http://rails.kinexis.com:4000/2f988470-1da3-0133-b54e-406c8f40a599\",\"@type\":\"RecordOfPerformance\",\"created_at\":\"2015-08-05T06:24:12-07:00\",\"tool_consumer_profile\":{\"@id\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/\",\"lti_version\":\"LTI-2p0\",\"product_name\":\"Elan/LuMoS\",\"service_provider_name\":\"Elan University\"},\"user\":{\"@id\":\"http://rails.kinexis.com:4000/users/17\",\"familyName\":\"Arne\",\"givenName\":\"Tom\",\"email\":\"tarne@hotmail.com\",\"sourced_id\":0},\"organization\":{\"@id\":\"http://rails.kinexis.com:4000/organizations/8\",\"legal_name\":\"IMS Learning Institute, LLC\",\"website\":\"ili.imsglobal.org\"},\"program\":{\"@id\":\"http://rails.kinexis.com:4000/programs/8\",\"label\":\"Master of Business Admin FP\",\"degree_level\":\"MBA\",\"courses\":[{\"@id\":\"http://rails.kinexis.com:4000/course_sections/71\",\"label\":\"MBA-FP6004-1\",\"title\":\"MBA-FP 6004 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/134\",\"label\":\"\",\"statement\":\"Examine the use of critical, strategic, and ethical thinking in decision-making\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/135\",\"label\":\"mba6004-1\",\"statement\":\"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/136\",\"label\":\"mba6004-2\",\"statement\":\"Integrate business strategies into general business management planning and decision-making.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/137\",\"label\":\"mba6004-3\",\"statement\":\"Analyze relevant global business concerns for the future.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/138\",\"label\":\"mba6004-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/73\",\"label\":\"MBA-FP6006-1\",\"title\":\"MBA-FP 6006 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/139\",\"label\":\"mba6006-1\",\"statement\":\"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/140\",\"label\":\"mba6006-2\",\"statement\":\"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/141\",\"label\":\"mba6006-3\",\"statement\":\"Assess what leaders of innovation do to shape organizational culture and processes.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/142\",\"label\":\"mba6006-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/74\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/143\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/144\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/145\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/146\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/147\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Distinguished\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/79\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/143\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/144\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/145\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/146\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/147\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Basic\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/80\",\"label\":\"MBA-FP6012-1\",\"title\":\"MBA-FP 6012 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/148\",\"label\":\"mba6012-1\",\"statement\":\"Apply theories, models, and practices of marketing\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/149\",\"label\":\"mba6012-2\",\"statement\":\"Integrate fundamental principles and applications of marketing to address business problems.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/150\",\"label\":\"mba6012-3\",\"statement\":\"Develop innovative and sustainable solutions to strategic marketing challenges\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/151\",\"label\":\"mba6012-4\",\"statement\":\"Integrate marketing analyses into general business management planning and decision making\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/152\",\"label\":\"mba6012-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\"achievement\":\"Basic\"}]}]}}', 'Elan University', '2015-08-05 13:24:12')[0m
  [1m[35m (18.2ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 30ms (Views: 0.5ms | ActiveRecord: 19.5ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-05 06:26:33 -0700
Processing by RecordOfPerformancesController#index as */*
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-05 06:28:46 -0700
Processing by RecordOfPerformancesController#index as */*
  [1m[36mRecordOfPerformance Load (0.5ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
  Rendered text template (0.0ms)
Completed 200 OK in 45ms (Views: 8.8ms | ActiveRecord: 25.0ms)
Started GET "/record_of_performances/4" for 127.0.0.1 at 2015-08-05 06:29:08 -0700
Processing by RecordOfPerformancesController#show as */*
  Parameters: {"id"=>"4"}
  [1m[35mRecordOfPerformance Load (6.7ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 4 LIMIT 1
  Rendered text template (0.0ms)
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 6.7ms)
Started GET "/record_of_performances/4" for 127.0.0.1 at 2015-08-05 06:29:55 -0700
Processing by RecordOfPerformancesController#show as */*
  Parameters: {"id"=>"4"}
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 4 LIMIT 1[0m
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances/4" for 127.0.0.1 at 2015-08-05 06:30:10 -0700
Processing by RecordOfPerformancesController#show as */*
  Parameters: {"id"=>"4"}
  [1m[36mRecordOfPerformance Load (0.6ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 4 LIMIT 1[0m
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 25.3ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-05 06:30:22 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[35mRecordOfPerformance Load (0.6ms)[0m  SELECT `record_of_performances`.* FROM `record_of_performances`
  Rendered text template (0.0ms)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.6ms)
Started GET "/record_of_performances/4" for 127.0.0.1 at 2015-08-05 06:30:29 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 4 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-05 06:30:37 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[35mRecordOfPerformance Load (0.4ms)[0m  SELECT `record_of_performances`.* FROM `record_of_performances`
  Rendered text template (0.0ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[36mLti2Tp::Registry Load (6.6ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.3ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (22.4ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (6.7ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (6.7ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[36mLti2Tp::Registry Load (0.6ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.3ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `iresources`[0m
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-08-05 07:13:59 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/10c47220-1daa-0133-b54e-406c8f40a599", "reg_key"=>"10c46130-1daa-0133-b54e-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"8319d2a05512f61eff43f135cebb1905"}
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-08-05 14:13:59', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '10c46130-1daa-0133-b54e-406c8f40a599', '94c29fe63ffec3b2d42764265a7e03c7', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/10c47220-1daa-0133-b54e-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/0febdbe0-1da3-0133-b54e-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/0febdbe0-1da3-0133-b54e-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"10c47220-1daa-0133-b54e-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"Result.uri\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', '8319d2a05512f61eff43f135cebb1905', '2015-08-05 14:13:59', '2')[0m
  [1m[35m (11.6ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=41&return_url=/lti2_tp/registrations
Completed 302 Found in 214ms (ActiveRecord: 36.9ms)
Started GET "/lti_registration_wips?registration_id=41&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-08-05 07:13:59 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"41", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 41 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-08-05 14:13:59', 'Elan/LuMoS', 41, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-0713.59', '2015-08-05 14:13:59')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (298.6ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (308.7ms)
Completed 200 OK in 435ms (Views: 382.3ms | ActiveRecord: 27.5ms)
Started PATCH "/lti_registration_wips/42" for 127.0.0.1 at 2015-08-05 07:14:16 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-0713.59"}, "commit"=>"Update Lti registration wip", "id"=>"42"}
  [1m[36mLtiRegistrationWip Load (0.4ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 42 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 41 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-0713.59', `updated_at` = '2015-08-05 14:14:16' WHERE `lti2_tp_registrations`.`id` = 41
  [1m[36m (5.9ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 42 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 41 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mTenant Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-0713.59' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-08-05 14:14:16', 'Elan University-0713.59', '2015-08-05 14:14:16')
  [1m[36m (16.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = '2e052e30-1daa-0133-b550-406c8f40a599', `tool_proxy_json` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxy\",\"@type\":\"ToolProxy\",\"tool_proxy_guid\":\"8319d2a05512f61eff43f135cebb1905\",\"lti_version\":\"LTI-2p0\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/10c47220-1daa-0133-b54e-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Person.email.primary\",\"CourseOffering.label\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseOffering.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\",\"Result.uri\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"5b2f10283dfe53c03f0fd35d9cc28089\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-08-05 14:14:16' WHERE `lti2_tp_registrations`.`id` = 41[0m
  [1m[35m (12.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `tool_proxy_response` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\",\"@type\":\"ToolProxy\",\"@id\":null,\"tool_proxy_guid\":\"8319d2a05512f61eff43f135cebb1905\"}', `updated_at` = '2015-08-05 14:14:16' WHERE `lti2_tp_registrations`.`id` = 41
  [1m[36m (5.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (13.7ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University-0713.59' AND `tenants`.`id` != 41) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `tenants` SET `secret` = '5b2f10283dfe53c03f0fd35d9cc28089', `tenant_key` = '8319d2a05512f61eff43f135cebb1905', `updated_at` = '2015-08-05 14:14:16' WHERE `tenants`.`id` = 41
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `final_secret` = '5b2f10283dfe53c03f0fd35d9cc28089', `tenant_id` = 41, `updated_at` = '2015-08-05 14:14:16' WHERE `lti2_tp_registrations`.`id` = 41[0m
  [1m[35m (0.6ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=8319d2a05512f61eff43f135cebb1905&&id=41
Completed 302 Found in 293ms (ActiveRecord: 79.9ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=8319d2a05512f61eff43f135cebb1905&&id=41" for 127.0.0.1 at 2015-08-05 07:14:16 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"8319d2a05512f61eff43f135cebb1905", "id"=>"41"}
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 41 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=8319d2a05512f61eff43f135cebb1905
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-05 07:17:25 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"8319d2a05512f61eff43f135cebb1905", :oauth_nonce=>"7298080797672", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438784245", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"9CWeSFknuaeqOlHAhA+jrOfWB24=", :oauth_signature=>"8cwPH9VE6jB3xvBty+kdg0X+R7w="}
  [1m[35mTenant Load (0.5ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '8319d2a05512f61eff43f135cebb1905'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 41  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"8319d2a05512f61eff43f135cebb1905", :oauth_nonce=>"7298080797672", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1438784245", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"9CWeSFknuaeqOlHAhA+jrOfWB24=", :oauth_signature=>"8cwPH9VE6jB3xvBty+kdg0X+R7w="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/"
  },
  "@id": "http://rails.kinexis.com:4000/9ebb7670-1daa-0133-b54e-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-08-05T07:17:25-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://rails.kinexis.com:4000/users/21",
    "familyName": "Arne",
    "givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://rails.kinexis.com:4000/organizations/10",
    "legal_name": "IMS Learning Institute, LLC",
    "website": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://rails.kinexis.com:4000/programs/10",
    "label": "Master of Business Admin FP",
    "degree_level": "MBA",
    "courses": [
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/91",
        "label": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/172",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/173",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/174",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/175",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/176",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/93",
        "label": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/177",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/178",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/179",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/180",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/94",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/181",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/182",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/183",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/184",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/185",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/99",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/181",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/182",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/183",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/184",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/185",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/100",
        "label": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/186",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/187",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/188",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/189",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/190",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Proficient"
          }
        ]
      }
    ]
  }
}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (30.4ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `extracted_at`, `organization_name`, `product_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-08-05 14:17:25', '2015-08-05 14:17:25', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'http://rails.kinexis.com:4000/9ebb7670-1daa-0133-b54e-406c8f40a599', '{\"@context\":{\"@vocab\":\"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\"},\"@id\":\"http://rails.kinexis.com:4000/9ebb7670-1daa-0133-b54e-406c8f40a599\",\"@type\":\"RecordOfPerformance\",\"created_at\":\"2015-08-05T07:17:25-07:00\",\"tool_consumer_profile\":{\"@id\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/\",\"lti_version\":\"LTI-2p0\",\"product_name\":\"Elan/LuMoS\",\"service_provider_name\":\"Elan University\"},\"user\":{\"@id\":\"http://rails.kinexis.com:4000/users/21\",\"familyName\":\"Arne\",\"givenName\":\"Tom\",\"email\":\"tarne@hotmail.com\",\"sourced_id\":0},\"organization\":{\"@id\":\"http://rails.kinexis.com:4000/organizations/10\",\"legal_name\":\"IMS Learning Institute, LLC\",\"website\":\"ili.imsglobal.org\"},\"program\":{\"@id\":\"http://rails.kinexis.com:4000/programs/10\",\"label\":\"Master of Business Admin FP\",\"degree_level\":\"MBA\",\"courses\":[{\"@id\":\"http://rails.kinexis.com:4000/course_sections/91\",\"label\":\"MBA-FP6004-1\",\"title\":\"MBA-FP 6004 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/172\",\"label\":\"\",\"statement\":\"Examine the use of critical, strategic, and ethical thinking in decision-making\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/173\",\"label\":\"mba6004-1\",\"statement\":\"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/174\",\"label\":\"mba6004-2\",\"statement\":\"Integrate business strategies into general business management planning and decision-making.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/175\",\"label\":\"mba6004-3\",\"statement\":\"Analyze relevant global business concerns for the future.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/176\",\"label\":\"mba6004-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/93\",\"label\":\"MBA-FP6006-1\",\"title\":\"MBA-FP 6006 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/177\",\"label\":\"mba6006-1\",\"statement\":\"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/178\",\"label\":\"mba6006-2\",\"statement\":\"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/179\",\"label\":\"mba6006-3\",\"statement\":\"Assess what leaders of innovation do to shape organizational culture and processes.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/180\",\"label\":\"mba6006-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Basic\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/94\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/181\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/182\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/183\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/184\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/185\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/99\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/181\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/182\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/183\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/184\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/185\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Basic\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/100\",\"label\":\"MBA-FP6012-1\",\"title\":\"MBA-FP 6012 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/186\",\"label\":\"mba6012-1\",\"statement\":\"Apply theories, models, and practices of marketing\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/187\",\"label\":\"mba6012-2\",\"statement\":\"Integrate fundamental principles and applications of marketing to address business problems.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/188\",\"label\":\"mba6012-3\",\"statement\":\"Develop innovative and sustainable solutions to strategic marketing challenges\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/189\",\"label\":\"mba6012-4\",\"statement\":\"Integrate marketing analyses into general business management planning and decision making\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/190\",\"label\":\"mba6012-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\"achievement\":\"Proficient\"}]}]}}', 'Elan University', '2015-08-05 14:17:25')[0m
  [1m[35m (2.5ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 51ms (Views: 0.7ms | ActiveRecord: 34.1ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-05 07:26:41 -0700
Processing by RecordOfPerformancesController#index as */*
  [1m[36mRecordOfPerformance Load (0.8ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
  Rendered text template (0.1ms)
Completed 200 OK in 20ms (Views: 1.7ms | ActiveRecord: 0.8ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-05 07:27:28 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[35mRecordOfPerformance Load (0.5ms)[0m  SELECT `record_of_performances`.* FROM `record_of_performances`
  Rendered text template (0.0ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.5ms)
Started GET "/record_of_performances/5" for 127.0.0.1 at 2015-08-05 07:29:05 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mRecordOfPerformance Load (0.5ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 5 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-05 08:14:57 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[35mRecordOfPerformance Load (1.3ms)[0m  SELECT `record_of_performances`.* FROM `record_of_performances`
  Rendered text template (0.0ms)
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.3ms)
Started GET "/record_of_performances/7" for 127.0.0.1 at 2015-08-05 08:15:07 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mRecordOfPerformance Load (1.7ms)[0m  [1mSELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms)
Started GET "/record_of_performance/7" for 127.0.0.1 at 2015-08-05 10:35:36 -0700
Processing by RecordOfPerformancesController#show_full_rop as HTML
  Parameters: {"id"=>"7"}
  [1m[35mRecordOfPerformance Load (1.7ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 7 LIMIT 1
Completed 404 Not Found in 14ms (ActiveRecord: 1.7ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-05 10:35:50 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (0.5ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
  Rendered text template (0.1ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.5ms)
  [1m[36mLti2Tp::Registry Load (1.1ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (2.5ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started GET "/record_of_performances" for 127.0.0.1 at 2015-08-05 10:48:53 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
  Rendered text template (0.0ms)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 0.4ms)
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-08-08 07:17:45 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/cbe_tc/lti2_tc/tool_consumer_profiles/26daf360-2006-0133-b55b-406c8f40a599", "reg_key"=>"26da0850-2006-0133-b55b-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/cbe_tc/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"61d244ce2e1d1cd03bd1f88b2aa087ec"}
  [1m[36mLti2Tp::Tool Load (0.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 59ms (ActiveRecord: 26.2ms)
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-08-08 07:17:59 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/cbe_tc/lti2_tc/tool_consumer_profiles/26daf360-2006-0133-b55b-406c8f40a599", "reg_key"=>"26da0850-2006-0133-b55b-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/cbe_tc/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"61d244ce2e1d1cd03bd1f88b2aa087ec"}
  [1m[35mLti2Tp::Tool Load (0.3ms)[0m  SELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)
  [1m[36mLti2Tp::Registry Load (53.2ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (24.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (43.8ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (29.4ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (15.2ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (26.8ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[35mSQL (29.0ms)[0m  DELETE FROM `record_of_performances`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (6.6ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (6.1ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (6.4ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[35mSQL (6.1ms)[0m  DELETE FROM `record_of_performances`
  [1m[36mLti2Tp::Registry Load (0.5ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (14.0ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (6.7ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (6.3ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[35mSQL (6.3ms)[0m  DELETE FROM `record_of_performances`
  [1m[36mLti2Tp::Registry Load (35.8ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (34.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (36.7ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (32.6ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (25.1ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (27.2ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[35mSQL (32.3ms)[0m  DELETE FROM `record_of_performances`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-08-22 07:26:22 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/abe564b0-2b07-0133-a8c5-406c8f40a599", "reg_key"=>"abe48ee0-2b07-0133-a8c5-406c8f40a599", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"263a2a90139abbb6f3a3d507031f5ef6"}
  [1m[36mLti2Tp::Tool Load (1.0ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-08-22 14:26:22', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'abe48ee0-2b07-0133-a8c5-406c8f40a599', '5f3b920ca6ffc66248ac399647c237d7', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/abe564b0-2b07-0133-a8c5-406c8f40a599', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/abe564b0-2b07-0133-a8c5-406c8f40a599#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/abe564b0-2b07-0133-a8c5-406c8f40a599\",\"lti_version\":\"LTI-2p0\",\"guid\":\"abe564b0-2b07-0133-a8c5-406c8f40a599\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"Result.uri\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseSection.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', '263a2a90139abbb6f3a3d507031f5ef6', '2015-08-22 14:26:22', '2')[0m
  [1m[35m (21.8ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=45&return_url=/lti2_tp/registrations
Completed 302 Found in 137ms (ActiveRecord: 61.4ms)
Started GET "/lti_registration_wips?registration_id=45&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-08-22 07:26:22 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"45", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 45 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-08-22 14:26:22', 'Elan/LuMoS', 45, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-0726.22', '2015-08-22 14:26:22')[0m
  [1m[35m (46.0ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (191.8ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (198.7ms)
Completed 200 OK in 350ms (Views: 259.7ms | ActiveRecord: 78.1ms)
Started PATCH "/lti_registration_wips/46" for 127.0.0.1 at 2015-08-22 07:26:23 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-0726.22"}, "commit"=>"Update Lti registration wip", "id"=>"46"}
  [1m[36mLtiRegistrationWip Load (1.1ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 46 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 45 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-0726.22', `updated_at` = '2015-08-22 14:26:23' WHERE `lti2_tp_registrations`.`id` = 45
  [1m[36m (15.0ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.3ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 46 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 45 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (31.0ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-0726.22' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-08-22 14:26:23', 'Elan University-0726.22', '2015-08-22 14:26:23')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = 'b08e1900-2b07-0133-a8c6-406c8f40a599', `tool_proxy_json` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxy\",\"@type\":\"ToolProxy\",\"tool_proxy_guid\":\"263a2a90139abbb6f3a3d507031f5ef6\",\"lti_version\":\"LTI-2p0\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/abe564b0-2b07-0133-a8c5-406c8f40a599\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Person.email.primary\",\"CourseSection.label\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseSection.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\",\"Result.uri\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"851ffca444d72763d2b7c53103141ef9\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-08-22 14:26:23' WHERE `lti2_tp_registrations`.`id` = 45[0m
  [1m[35m (31.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `tool_proxy_response` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\",\"@type\":\"ToolProxy\",\"@id\":null,\"tool_proxy_guid\":\"263a2a90139abbb6f3a3d507031f5ef6\"}', `updated_at` = '2015-08-22 14:26:24' WHERE `lti2_tp_registrations`.`id` = 45
  [1m[36m (16.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (14.4ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University-0726.22' AND `tenants`.`id` != 45) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `tenants` SET `secret` = '851ffca444d72763d2b7c53103141ef9', `tenant_key` = '263a2a90139abbb6f3a3d507031f5ef6', `updated_at` = '2015-08-22 14:26:24' WHERE `tenants`.`id` = 45
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `final_secret` = '851ffca444d72763d2b7c53103141ef9', `tenant_id` = 45, `updated_at` = '2015-08-22 14:26:24' WHERE `lti2_tp_registrations`.`id` = 45[0m
  [1m[35m (2.4ms)[0m  COMMIT
Redirected to http://localhost:5000/lti2_tp/registrations?status=success&tool_guid=263a2a90139abbb6f3a3d507031f5ef6&&id=45
Completed 302 Found in 400ms (ActiveRecord: 149.0ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=263a2a90139abbb6f3a3d507031f5ef6&&id=45" for 127.0.0.1 at 2015-08-22 07:26:24 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"263a2a90139abbb6f3a3d507031f5ef6", "id"=>"45"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 45 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=263a2a90139abbb6f3a3d507031f5ef6
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-22 07:26:35 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"6964845127167", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440253595", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"qB9/+Zsl35DOjNoQMIs9bUTDB1s=", :oauth_signature=>"xs5c88TZo7PPhMcZNA34cgDUiT4="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '263a2a90139abbb6f3a3d507031f5ef6'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 45  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"6964845127167", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440253595", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"qB9/+Zsl35DOjNoQMIs9bUTDB1s=", :oauth_signature=>"xs5c88TZo7PPhMcZNA34cgDUiT4="}
in verify_signature
RecordOfPerformance as received: 
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.6ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-22 07:33:03 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"4186222361218", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440253983", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"zHz3g4Dvz0InYR3v7DnJa1VPuCQ=", :oauth_signature=>"SxN13hnFStssAeXD30Oooh9KqN8="}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '263a2a90139abbb6f3a3d507031f5ef6'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 45  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"4186222361218", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440253983", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"zHz3g4Dvz0InYR3v7DnJa1VPuCQ=", :oauth_signature=>"SxN13hnFStssAeXD30Oooh9KqN8="}
in verify_signature
RecordOfPerformance as received: 
Completed 500 Internal Server Error in 122ms (ActiveRecord: 65.1ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-22 07:36:17 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"7406881771023", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254177", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"a9kqXX2E7GzRxx5Ou7erxx+QsyY=", :oauth_signature=>"mDGLIE8oNUXmpk5EUbllDOJliFw="}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '263a2a90139abbb6f3a3d507031f5ef6'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 45  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"7406881771023", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254177", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"a9kqXX2E7GzRxx5Ou7erxx+QsyY=", :oauth_signature=>"mDGLIE8oNUXmpk5EUbllDOJliFw="}
in verify_signature
RecordOfPerformance as received: 
Completed 500 Internal Server Error in 108ms (ActiveRecord: 66.1ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-22 07:37:17 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"4148438055802", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254237", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"VB1CIfpGXTT0eBKr2UGY5PVIO6Q=", :oauth_signature=>"oh7zAk0zeBGwESpJEL2zlszvzHQ="}
  [1m[36mTenant Load (0.5ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '263a2a90139abbb6f3a3d507031f5ef6'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 45  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"4148438055802", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254237", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"VB1CIfpGXTT0eBKr2UGY5PVIO6Q=", :oauth_signature=>"oh7zAk0zeBGwESpJEL2zlszvzHQ="}
in verify_signature
RecordOfPerformance as received: 
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.9ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-22 07:37:42 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"7914568889448", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254262", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"tqhrxdcSTJQRmDBCerudvEsNUPo=", :oauth_signature=>"ibj1PseGRbb2J4gXoVKpTEHFOTw="}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '263a2a90139abbb6f3a3d507031f5ef6'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 45  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"7914568889448", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254262", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"tqhrxdcSTJQRmDBCerudvEsNUPo=", :oauth_signature=>"ibj1PseGRbb2J4gXoVKpTEHFOTw="}
in verify_signature
RecordOfPerformance as received: 
Completed 500 Internal Server Error in 38ms (ActiveRecord: 4.4ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-22 07:48:11 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"7853892653998", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254891", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"efh5LCbk5tJ0RI2I3zaW7FDeBi8=", :oauth_signature=>"b/TzP8nYWKot4+Sz7rZPsh7blIQ="}
  [1m[36mTenant Load (0.4ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '263a2a90139abbb6f3a3d507031f5ef6'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.4ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 45  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"7853892653998", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254891", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"efh5LCbk5tJ0RI2I3zaW7FDeBi8=", :oauth_signature=>"b/TzP8nYWKot4+Sz7rZPsh7blIQ="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/"
  },
  "@id": "http://rails.kinexis.com:4000/bb937350-2b0a-0133-a8c9-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-08-22T07:48:10-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://rails.kinexis.com:4000/users/4",
    "familyName": "Arne",
    "givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://rails.kinexis.com:4000/organizations/2",
    "legal_name": "IMS Learning Institute, LLC",
    "website": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://rails.kinexis.com:4000/programs/2",
    "label": "Master of Business Admin FP",
    "degree_level": "MBA",
    "courses": [
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/11",
        "label": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/20",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/21",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/22",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/23",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/24",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/13",
        "label": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/25",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/26",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/27",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/28",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/14",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/29",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/30",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/31",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/32",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/33",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/19",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/29",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/30",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/31",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/32",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/33",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/20",
        "label": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/34",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/35",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/36",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/37",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/38",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Proficient"
          }
        ]
      }
    ]
  }
}
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `extracted_at`, `organization_name`, `product_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-08-22 14:48:11', '2015-08-22 14:48:10', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'http://rails.kinexis.com:4000/bb937350-2b0a-0133-a8c9-406c8f40a599', '{\"@context\":{\"@vocab\":\"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\"},\"@id\":\"http://rails.kinexis.com:4000/bb937350-2b0a-0133-a8c9-406c8f40a599\",\"@type\":\"RecordOfPerformance\",\"created_at\":\"2015-08-22T07:48:10-07:00\",\"tool_consumer_profile\":{\"@id\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/\",\"lti_version\":\"LTI-2p0\",\"product_name\":\"Elan/LuMoS\",\"service_provider_name\":\"Elan University\"},\"user\":{\"@id\":\"http://rails.kinexis.com:4000/users/4\",\"familyName\":\"Arne\",\"givenName\":\"Tom\",\"email\":\"tarne@hotmail.com\",\"sourced_id\":0},\"organization\":{\"@id\":\"http://rails.kinexis.com:4000/organizations/2\",\"legal_name\":\"IMS Learning Institute, LLC\",\"website\":\"ili.imsglobal.org\"},\"program\":{\"@id\":\"http://rails.kinexis.com:4000/programs/2\",\"label\":\"Master of Business Admin FP\",\"degree_level\":\"MBA\",\"courses\":[{\"@id\":\"http://rails.kinexis.com:4000/course_sections/11\",\"label\":\"MBA-FP6004-1\",\"title\":\"MBA-FP 6004 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/20\",\"label\":\"\",\"statement\":\"Examine the use of critical, strategic, and ethical thinking in decision-making\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/21\",\"label\":\"mba6004-1\",\"statement\":\"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/22\",\"label\":\"mba6004-2\",\"statement\":\"Integrate business strategies into general business management planning and decision-making.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/23\",\"label\":\"mba6004-3\",\"statement\":\"Analyze relevant global business concerns for the future.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/24\",\"label\":\"mba6004-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Distinguished\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/13\",\"label\":\"MBA-FP6006-1\",\"title\":\"MBA-FP 6006 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/25\",\"label\":\"mba6006-1\",\"statement\":\"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/26\",\"label\":\"mba6006-2\",\"statement\":\"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/27\",\"label\":\"mba6006-3\",\"statement\":\"Assess what leaders of innovation do to shape organizational culture and processes.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/28\",\"label\":\"mba6006-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Basic\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/14\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/29\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/30\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/31\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/32\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/33\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/19\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/29\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/30\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/31\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/32\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/33\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/20\",\"label\":\"MBA-FP6012-1\",\"title\":\"MBA-FP 6012 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/34\",\"label\":\"mba6012-1\",\"statement\":\"Apply theories, models, and practices of marketing\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/35\",\"label\":\"mba6012-2\",\"statement\":\"Integrate fundamental principles and applications of marketing to address business problems.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/36\",\"label\":\"mba6012-3\",\"statement\":\"Develop innovative and sustainable solutions to strategic marketing challenges\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/37\",\"label\":\"mba6012-4\",\"statement\":\"Integrate marketing analyses into general business management planning and decision making\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/38\",\"label\":\"mba6012-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\"achievement\":\"Proficient\"}]}]}}', 'Elan University', '2015-08-22 14:48:11')
  [1m[36m (30.5ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 405ms (Views: 9.8ms | ActiveRecord: 324.3ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-22 07:48:48 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"7400759507179", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254928", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"87o3t4w0JBojIBmoRMAD7QLT9e8=", :oauth_signature=>"IErgQFr9zvsuZe4voTH2PG/sM58="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '263a2a90139abbb6f3a3d507031f5ef6'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 45  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"7400759507179", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254928", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"87o3t4w0JBojIBmoRMAD7QLT9e8=", :oauth_signature=>"IErgQFr9zvsuZe4voTH2PG/sM58="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/"
  },
  "@id": "http://rails.kinexis.com:4000/d1aa9c20-2b0a-0133-a8c9-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-08-22T07:48:47-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://rails.kinexis.com:4000/users/4",
    "familyName": "Arne",
    "givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://rails.kinexis.com:4000/organizations/2",
    "legal_name": "IMS Learning Institute, LLC",
    "website": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://rails.kinexis.com:4000/programs/2",
    "label": "Master of Business Admin FP",
    "degree_level": "MBA",
    "courses": [
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/11",
        "label": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/20",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/21",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/22",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/23",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/24",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/13",
        "label": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/25",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/26",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/27",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/28",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/14",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/29",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/30",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/31",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/32",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/33",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/19",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/29",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/30",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/31",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/32",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/33",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/20",
        "label": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/34",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/35",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/36",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/37",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/38",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Proficient"
          }
        ]
      }
    ]
  }
}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `extracted_at`, `organization_name`, `product_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-08-22 14:48:48', '2015-08-22 14:48:47', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'http://rails.kinexis.com:4000/d1aa9c20-2b0a-0133-a8c9-406c8f40a599', '{\"@context\":{\"@vocab\":\"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\"},\"@id\":\"http://rails.kinexis.com:4000/d1aa9c20-2b0a-0133-a8c9-406c8f40a599\",\"@type\":\"RecordOfPerformance\",\"created_at\":\"2015-08-22T07:48:47-07:00\",\"tool_consumer_profile\":{\"@id\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/\",\"lti_version\":\"LTI-2p0\",\"product_name\":\"Elan/LuMoS\",\"service_provider_name\":\"Elan University\"},\"user\":{\"@id\":\"http://rails.kinexis.com:4000/users/4\",\"familyName\":\"Arne\",\"givenName\":\"Tom\",\"email\":\"tarne@hotmail.com\",\"sourced_id\":0},\"organization\":{\"@id\":\"http://rails.kinexis.com:4000/organizations/2\",\"legal_name\":\"IMS Learning Institute, LLC\",\"website\":\"ili.imsglobal.org\"},\"program\":{\"@id\":\"http://rails.kinexis.com:4000/programs/2\",\"label\":\"Master of Business Admin FP\",\"degree_level\":\"MBA\",\"courses\":[{\"@id\":\"http://rails.kinexis.com:4000/course_sections/11\",\"label\":\"MBA-FP6004-1\",\"title\":\"MBA-FP 6004 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/20\",\"label\":\"\",\"statement\":\"Examine the use of critical, strategic, and ethical thinking in decision-making\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/21\",\"label\":\"mba6004-1\",\"statement\":\"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/22\",\"label\":\"mba6004-2\",\"statement\":\"Integrate business strategies into general business management planning and decision-making.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/23\",\"label\":\"mba6004-3\",\"statement\":\"Analyze relevant global business concerns for the future.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/24\",\"label\":\"mba6004-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Distinguished\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/13\",\"label\":\"MBA-FP6006-1\",\"title\":\"MBA-FP 6006 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/25\",\"label\":\"mba6006-1\",\"statement\":\"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/26\",\"label\":\"mba6006-2\",\"statement\":\"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/27\",\"label\":\"mba6006-3\",\"statement\":\"Assess what leaders of innovation do to shape organizational culture and processes.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/28\",\"label\":\"mba6006-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Basic\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/14\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/29\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/30\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/31\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/32\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/33\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/19\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/29\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/30\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/31\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/32\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/33\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/20\",\"label\":\"MBA-FP6012-1\",\"title\":\"MBA-FP 6012 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/34\",\"label\":\"mba6012-1\",\"statement\":\"Apply theories, models, and practices of marketing\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/35\",\"label\":\"mba6012-2\",\"statement\":\"Integrate fundamental principles and applications of marketing to address business problems.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/36\",\"label\":\"mba6012-3\",\"statement\":\"Develop innovative and sustainable solutions to strategic marketing challenges\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/37\",\"label\":\"mba6012-4\",\"statement\":\"Integrate marketing analyses into general business management planning and decision making\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/38\",\"label\":\"mba6012-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\"achievement\":\"Proficient\"}]}]}}', 'Elan University', '2015-08-22 14:48:48')[0m
  [1m[35m (15.6ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 25ms (Views: 0.5ms | ActiveRecord: 16.8ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-22 07:49:14 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"5667681596162", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254954", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"+2Zgm89Z6q/Ja4Z094YJ8n37VgI=", :oauth_signature=>"vGQ2JuUl8hhlyCfT5pJsrKSfDnc="}
  [1m[36mTenant Load (0.3ms)[0m  [1mSELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '263a2a90139abbb6f3a3d507031f5ef6'  ORDER BY `tenants`.`id` ASC LIMIT 1[0m
  [1m[35mLti2Tp::Registration Load (0.2ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 45  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"5667681596162", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440254954", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"+2Zgm89Z6q/Ja4Z094YJ8n37VgI=", :oauth_signature=>"vGQ2JuUl8hhlyCfT5pJsrKSfDnc="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/"
  },
  "@id": "http://rails.kinexis.com:4000/e1181ee0-2b0a-0133-a8ca-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-08-22T07:49:13-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://rails.kinexis.com:4000/users/4",
    "familyName": "Arne",
    "givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://rails.kinexis.com:4000/organizations/2",
    "legal_name": "IMS Learning Institute, LLC",
    "website": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://rails.kinexis.com:4000/programs/2",
    "label": "Master of Business Admin FP",
    "degree_level": "MBA",
    "courses": [
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/11",
        "label": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/20",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/21",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/22",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/23",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/24",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/13",
        "label": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/25",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/26",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/27",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/28",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/14",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/29",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/30",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/31",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/32",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/33",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/19",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/29",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/30",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/31",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/32",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/33",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/20",
        "label": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/34",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/35",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/36",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/37",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/38",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Proficient"
          }
        ]
      }
    ]
  },
  "signature": {
    "type": "GraphSignature2012",
    "creator": "",
    "created": "2015-08-22T07:49:14-07:00",
    "signatureValue": "XMx+v2EnzHDja/57bLIRAE1KQA5+hqn7SFz9OAEc+8NWW7CeTKGj2B7bpnoUz0lMGcxe4mHPqnyiHuztdmRLtn15CtYf1Ff2dcU2GrIlvWxFBX7dp+uBdt9Fg2S8tHDcSMr43gt64w19T5QehfvRLUkmBnLt3yOgUuD5I7eoTvY="
  }
}
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (17.8ms)[0m  INSERT INTO `record_of_performances` (`created_at`, `extracted_at`, `organization_name`, `product_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-08-22 14:49:14', '2015-08-22 14:49:13', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'http://rails.kinexis.com:4000/e1181ee0-2b0a-0133-a8ca-406c8f40a599', '{\"@context\":{\"@vocab\":\"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\"},\"@id\":\"http://rails.kinexis.com:4000/e1181ee0-2b0a-0133-a8ca-406c8f40a599\",\"@type\":\"RecordOfPerformance\",\"created_at\":\"2015-08-22T07:49:13-07:00\",\"tool_consumer_profile\":{\"@id\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/\",\"lti_version\":\"LTI-2p0\",\"product_name\":\"Elan/LuMoS\",\"service_provider_name\":\"Elan University\"},\"user\":{\"@id\":\"http://rails.kinexis.com:4000/users/4\",\"familyName\":\"Arne\",\"givenName\":\"Tom\",\"email\":\"tarne@hotmail.com\",\"sourced_id\":0},\"organization\":{\"@id\":\"http://rails.kinexis.com:4000/organizations/2\",\"legal_name\":\"IMS Learning Institute, LLC\",\"website\":\"ili.imsglobal.org\"},\"program\":{\"@id\":\"http://rails.kinexis.com:4000/programs/2\",\"label\":\"Master of Business Admin FP\",\"degree_level\":\"MBA\",\"courses\":[{\"@id\":\"http://rails.kinexis.com:4000/course_sections/11\",\"label\":\"MBA-FP6004-1\",\"title\":\"MBA-FP 6004 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/20\",\"label\":\"\",\"statement\":\"Examine the use of critical, strategic, and ethical thinking in decision-making\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/21\",\"label\":\"mba6004-1\",\"statement\":\"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/22\",\"label\":\"mba6004-2\",\"statement\":\"Integrate business strategies into general business management planning and decision-making.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/23\",\"label\":\"mba6004-3\",\"statement\":\"Analyze relevant global business concerns for the future.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/24\",\"label\":\"mba6004-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Distinguished\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/13\",\"label\":\"MBA-FP6006-1\",\"title\":\"MBA-FP 6006 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/25\",\"label\":\"mba6006-1\",\"statement\":\"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/26\",\"label\":\"mba6006-2\",\"statement\":\"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/27\",\"label\":\"mba6006-3\",\"statement\":\"Assess what leaders of innovation do to shape organizational culture and processes.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/28\",\"label\":\"mba6006-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Basic\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/14\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/29\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/30\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/31\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/32\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/33\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/19\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/29\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/30\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/31\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/32\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/33\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/20\",\"label\":\"MBA-FP6012-1\",\"title\":\"MBA-FP 6012 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/34\",\"label\":\"mba6012-1\",\"statement\":\"Apply theories, models, and practices of marketing\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/35\",\"label\":\"mba6012-2\",\"statement\":\"Integrate fundamental principles and applications of marketing to address business problems.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/36\",\"label\":\"mba6012-3\",\"statement\":\"Develop innovative and sustainable solutions to strategic marketing challenges\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/37\",\"label\":\"mba6012-4\",\"statement\":\"Integrate marketing analyses into general business management planning and decision making\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/38\",\"label\":\"mba6012-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\"achievement\":\"Proficient\"}]}]},\"signature\":{\"type\":\"GraphSignature2012\",\"creator\":\"\",\"created\":\"2015-08-22T07:49:14-07:00\",\"signatureValue\":\"XMx+v2EnzHDja/57bLIRAE1KQA5+hqn7SFz9OAEc+8NWW7CeTKGj2B7bpnoUz0lMGcxe4mHPqnyiHuztdmRLtn15CtYf1Ff2dcU2GrIlvWxFBX7dp+uBdt9Fg2S8tHDcSMr43gt64w19T5QehfvRLUkmBnLt3yOgUuD5I7eoTvY=\"}}', 'Elan University', '2015-08-22 14:49:14')
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  Rendered text template (0.0ms)
Completed 200 OK in 25ms (Views: 0.7ms | ActiveRecord: 19.6ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-08-22 07:59:25 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"7630802345022", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440255565", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2c5X1N62LtElcrDxXA7ZBj6NTaA=", :oauth_signature=>"m9dFLxBhlGHdE+jr9HlXmfy00K0="}
  [1m[35mTenant Load (0.3ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = '263a2a90139abbb6f3a3d507031f5ef6'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.2ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 45  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"263a2a90139abbb6f3a3d507031f5ef6", :oauth_nonce=>"7630802345022", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1440255565", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"2c5X1N62LtElcrDxXA7ZBj6NTaA=", :oauth_signature=>"m9dFLxBhlGHdE+jr9HlXmfy00K0="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/"
  },
  "@id": "http://rails.kinexis.com:4000/4d6c67d0-2b0c-0133-a8cb-406c8f40a599",
  "@type": "RecordOfPerformance",
  "created_at": "2015-08-22T07:59:25-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://rails.kinexis.com:4000/users/4",
    "familyName": "Arne",
    "givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://rails.kinexis.com:4000/organizations/2",
    "legal_name": "IMS Learning Institute, LLC",
    "website": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://rails.kinexis.com:4000/programs/2",
    "label": "Master of Business Admin FP",
    "degree_level": "MBA",
    "courses": [
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/11",
        "label": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/20",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/21",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/22",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/23",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/24",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/13",
        "label": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/25",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/26",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/27",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/28",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/14",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/29",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/30",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/31",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/32",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/33",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/19",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/29",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/30",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/31",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/32",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/33",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Proficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/20",
        "label": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/34",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/35",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/36",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/37",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/38",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "Proficient"
          }
        ]
      }
    ]
  },
  "signature": {
    "type": "GraphSignature2012",
    "creator": "http://rails.kinexis.com:4000/users/4",
    "created": "2015-08-22T07:59:25-07:00",
    "signatureValue": "AF5IuPNM3kfz7k4GwUZi5r58m61s+ibKD8yFInbWbqhwfoixE8OEe4PJiVySBrWXxLtkV8eWmPHZik+PH576JUFhOBWvci3cyvDHYfjLW16oGdcxEmo5Cq4mps9yVEAFfnpBfPLQ4mlC6CrOhyLprguHRs4DlxBF8yDHwYzGgYY="
  }
}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `extracted_at`, `organization_name`, `product_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-08-22 14:59:25', '2015-08-22 14:59:25', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'http://rails.kinexis.com:4000/4d6c67d0-2b0c-0133-a8cb-406c8f40a599', '{\"@context\":{\"@vocab\":\"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\"},\"@id\":\"http://rails.kinexis.com:4000/4d6c67d0-2b0c-0133-a8cb-406c8f40a599\",\"@type\":\"RecordOfPerformance\",\"created_at\":\"2015-08-22T07:59:25-07:00\",\"tool_consumer_profile\":{\"@id\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/\",\"lti_version\":\"LTI-2p0\",\"product_name\":\"Elan/LuMoS\",\"service_provider_name\":\"Elan University\"},\"user\":{\"@id\":\"http://rails.kinexis.com:4000/users/4\",\"familyName\":\"Arne\",\"givenName\":\"Tom\",\"email\":\"tarne@hotmail.com\",\"sourced_id\":0},\"organization\":{\"@id\":\"http://rails.kinexis.com:4000/organizations/2\",\"legal_name\":\"IMS Learning Institute, LLC\",\"website\":\"ili.imsglobal.org\"},\"program\":{\"@id\":\"http://rails.kinexis.com:4000/programs/2\",\"label\":\"Master of Business Admin FP\",\"degree_level\":\"MBA\",\"courses\":[{\"@id\":\"http://rails.kinexis.com:4000/course_sections/11\",\"label\":\"MBA-FP6004-1\",\"title\":\"MBA-FP 6004 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/20\",\"label\":\"\",\"statement\":\"Examine the use of critical, strategic, and ethical thinking in decision-making\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/21\",\"label\":\"mba6004-1\",\"statement\":\"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/22\",\"label\":\"mba6004-2\",\"statement\":\"Integrate business strategies into general business management planning and decision-making.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/23\",\"label\":\"mba6004-3\",\"statement\":\"Analyze relevant global business concerns for the future.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/24\",\"label\":\"mba6004-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Distinguished\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/13\",\"label\":\"MBA-FP6006-1\",\"title\":\"MBA-FP 6006 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/25\",\"label\":\"mba6006-1\",\"statement\":\"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/26\",\"label\":\"mba6006-2\",\"statement\":\"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/27\",\"label\":\"mba6006-3\",\"statement\":\"Assess what leaders of innovation do to shape organizational culture and processes.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/28\",\"label\":\"mba6006-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Basic\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/14\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/29\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/30\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/31\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/32\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/33\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/19\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/29\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/30\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/31\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/32\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/33\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Proficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/20\",\"label\":\"MBA-FP6012-1\",\"title\":\"MBA-FP 6012 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/34\",\"label\":\"mba6012-1\",\"statement\":\"Apply theories, models, and practices of marketing\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/35\",\"label\":\"mba6012-2\",\"statement\":\"Integrate fundamental principles and applications of marketing to address business problems.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/36\",\"label\":\"mba6012-3\",\"statement\":\"Develop innovative and sustainable solutions to strategic marketing challenges\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/37\",\"label\":\"mba6012-4\",\"statement\":\"Integrate marketing analyses into general business management planning and decision making\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/38\",\"label\":\"mba6012-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\"achievement\":\"Proficient\"}]}]},\"signature\":{\"type\":\"GraphSignature2012\",\"creator\":\"http://rails.kinexis.com:4000/users/4\",\"created\":\"2015-08-22T07:59:25-07:00\",\"signatureValue\":\"AF5IuPNM3kfz7k4GwUZi5r58m61s+ibKD8yFInbWbqhwfoixE8OEe4PJiVySBrWXxLtkV8eWmPHZik+PH576JUFhOBWvci3cyvDHYfjLW16oGdcxEmo5Cq4mps9yVEAFfnpBfPLQ4mlC6CrOhyLprguHRs4DlxBF8yDHwYzGgYY=\"}}', 'Elan University', '2015-08-22 14:59:25')[0m
  [1m[35m (31.7ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 39ms (Views: 0.5ms | ActiveRecord: 32.8ms)
  [1m[36mLti2Tp::Registry Load (39.8ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-09-14 18:02:50 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/65c69310-3d73-0133-d67f-20c9d07c6451", "reg_key"=>"65c69120-3d73-0133-d67f-20c9d07c6451", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"8bb52e4c24488ddf8e4be50fb76bd8b3"}
  [1m[36mLti2Tp::Tool Load (0.5ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (9.1ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-09-15 01:02:50', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', '65c69120-3d73-0133-d67f-20c9d07c6451', 'fb8e6fcb00810e972b38f37ac92dee43', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/65c69310-3d73-0133-d67f-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/65c69310-3d73-0133-d67f-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/65c69310-3d73-0133-d67f-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"65c69310-3d73-0133-d67f-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"Result.uri\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseSection.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', '8bb52e4c24488ddf8e4be50fb76bd8b3', '2015-09-15 01:02:50', '2')[0m
  [1m[35m (12.4ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=46&return_url=/lti2_tp/registrations
Completed 302 Found in 142ms (ActiveRecord: 48.4ms)
Started GET "/lti_registration_wips?registration_id=46&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-09-14 18:02:50 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"46", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 46 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-09-15 01:02:50', 'Elan/LuMoS', 46, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-0602.50', '2015-09-15 01:02:50')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (127.3ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (139.7ms)
Completed 200 OK in 305ms (Views: 270.1ms | ActiveRecord: 22.3ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-09-14 18:02:51 -0700
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-09-14 18:02:51 -0700
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-09-14 18:02:51 -0700
  [1m[36mLti2Tp::Registry Load (0.4ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-09-14 18:56:42 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ec7c0630-3d7a-0133-d680-20c9d07c6451", "reg_key"=>"ec7c00c0-3d7a-0133-d680-20c9d07c6451", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window", "tool_proxy_guid"=>"c939a4b00992a0fa33d89cee1a28a513"}
  [1m[36mLti2Tp::Tool Load (0.8ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.8ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `tool_proxy_guid`, `updated_at`, `user_id`) VALUES ('2015-09-15 01:56:42', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'ec7c00c0-3d7a-0133-d680-20c9d07c6451', '4fdae49350e6088fa1184ad7261b6ef7', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/ec7c0630-3d7a-0133-d680-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/cdc53830-3d7a-0133-d680-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/cdc53830-3d7a-0133-d680-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"ec7c0630-3d7a-0133-d680-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"Result.uri\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:5000\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:5000/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:5000}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseSection.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:5000/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:5000/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:5000/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', 'c939a4b00992a0fa33d89cee1a28a513', '2015-09-15 01:56:42', '2')[0m
  [1m[35m (16.4ms)[0m  COMMIT
Redirected to http://localhost:5000/lti_registration_wips?registration_id=47&return_url=/lti2_tp/registrations
Completed 302 Found in 112ms (ActiveRecord: 45.5ms)
Started GET "/lti_registration_wips?registration_id=47&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-09-14 18:56:42 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"47", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 47 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-09-15 01:56:42', 'Elan/LuMoS', 47, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-0656.42', '2015-09-15 01:56:42')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (151.0ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (163.0ms)
Completed 200 OK in 322ms (Views: 284.5ms | ActiveRecord: 21.2ms)
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mLti2Tp::Registry Load (0.2ms)[0m  SELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`
  [1m[36mActiveRecord::SchemaMigration Load (17.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mSQL (28.8ms)[0m  DELETE FROM `lti2_tp_registrations`
  [1m[36mSQL (10.0ms)[0m  [1mDELETE FROM `lti_registration_wips`[0m
  [1m[35mSQL (21.0ms)[0m  DELETE FROM `tenants`
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `iresources`[0m
  [1m[35mSQL (27.6ms)[0m  DELETE FROM `record_of_performances`
Started POST "/lti2_tp/registrations" for 127.0.0.1 at 2015-10-07 11:46:59 -0700
Processing by Lti2Tp::RegistrationsController#create as HTML
  Parameters: {"lti_message_type"=>"ToolProxyRegistrationRequest", "lti_version"=>"LTI-2p0", "user_id"=>"2", "roles"=>"urn:lti:sysrole:ims/lis/SysAdmin", "tc_profile_url"=>"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/b37f4bb0-4f51-0133-896d-20c9d07c6451", "reg_key"=>"b37e15b0-4f51-0133-896d-20c9d07c6451", "reg_password"=>"[FILTERED]", "launch_presentation_return_url"=>"http://rails.kinexis.com:4000/admin/tool_actions", "launch_presentation_document_target"=>"window"}
  [1m[36mLti2Tp::Tool Load (6.4ms)[0m  [1mSELECT  `lti2_tp_tools`.* FROM `lti2_tp_tools`   ORDER BY `lti2_tp_tools`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `lti2_tp_registrations` (`created_at`, `launch_presentation_return_url`, `lti_version`, `message_type`, `reg_key`, `reg_password`, `status`, `tc_profile_url`, `tenant_basename`, `tenant_name`, `tool_consumer_profile_json`, `tool_id`, `tool_profile_json`, `updated_at`, `user_id`) VALUES ('2015-10-07 18:46:59', 'http://rails.kinexis.com:4000/admin/tool_actions', 'LTI-2p0', 'registration', 'b37e15b0-4f51-0133-896d-20c9d07c6451', '19eff867b4e3ad499ac77b3af3520d77', 'received', 'http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/b37f4bb0-4f51-0133-896d-20c9d07c6451', 'Elan University', 'Elan University', '{\"@context\":[\"http://purl.imsglobal.org/ctx/lti/v2/ToolConsumerProfile\",{\"ltitcp\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/b37f4bb0-4f51-0133-896d-20c9d07c6451#\"}],\"@type\":\"ToolConsumerProfile\",\"@id\":\"http://rails.kinexis.com:4000/tool_consumer_profiles/b37f4bb0-4f51-0133-896d-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"guid\":\"b37f4bb0-4f51-0133-896d-20c9d07c6451\",\"product_instance\":{\"guid\":\"dcddf9808107-81ea-eaa4-1edf-5d24568c\",\"product_info\":{\"product_name\":{\"default_value\":\"Elan/LuMoS\",\"key\":\"product.name\"},\"product_version\":\"3.1\",\"description\":{\"default_value\":\"Elan University/LuMoS Learning Platform\",\"key\":\"product.version\"},\"technical_description\":{\"default_value\":\"LTI 1, 1.1 and 2.0 compliant\",\"key\":\"product.technicalDescription\"},\"product_family\":{\"code\":\"LuMoS\",\"vendor\":{\"code\":\"lms.LuMoS.org\",\"vendor_name\":{\"default_value\":\"LuMoS Corporation\",\"key\":\"product.vendor.name\"},\"description\":{\"default_value\":\"LuMoS Corporation is a fictitious vendor of a Learning Management System\",\"key\":\"product.vendor.description\"},\"website\":\"http://lms.LuMoS.org/products/omega\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"contact\":{\"email\":\"support@lms.LuMoS.org\"}}}},\"support\":{\"email\":\"john.tibbetts@kinexis.com\"},\"service_owner\":{\"@id\":\"http://ec2.LuMoS.org/ServiceOwner\",\"timestamp\":\"2012-03-28T09:08:16-04:00\",\"service_owner_name\":{\"default_value\":\"Elan University\",\"key\":\"service_owner.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_owner.description\"},\"support\":{\"email\":\"techsupport@elan.edu\"}},\"service_provider\":{\"@id\":\"http://ec2.LuMoS.org/ServiceProvider\",\"guid\":\"ec2.LuMoS.org\",\"timestamp\":\"2012-07-09T012:08:16-04:00\",\"service_provider_name\":{\"default_value\":\"Elan University\",\"key\":\"service_provider.name\"},\"description\":{\"default_value\":\"Elan University EC2 Cloud\",\"key\":\"service_provider.description\"},\"support\":{\"email\":\"support@yasp.LuMoS.org\"}}},\"capability_offered\":[\"basic-lti-launch-request\",\"Result.autocreate\",\"Result.sourcedId\",\"Result.uri\",\"User.id\",\"User.username\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"CourseSection.sourcedId\",\"CourseOffering.label\",\"Person.sourcedId\",\"Person.email.primary\",\"Person.name.given\",\"Person.name.family\",\"Person.name.full\",\"Membership.role\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolConsumerProfile.url\"],\"service_offered\":[{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.collection\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"POST\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxy.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolproxy+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:Result.item\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}\",\"format\":[\"application/vnd.ims.lis.v2.result+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:LtiLinkSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxyBindingSettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestService\",\"@id\":\"ltitcp:ToolProxySettings\",\"endpoint\":\"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}\",\"format\":[\"application/vnd.ims.lti.v2.toolsettings+json\",\"application/vnd.ims.lti.v2.toolsettings.simple+json\"],\"action\":[\"GET\",\"PUT\"]}]}', 2, '{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:4100\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:4100/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:4100}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseSection.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:4100/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:4100/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:4100/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:4100/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:4100/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:4100/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:4100/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]}', '2015-10-07 18:46:59', '2')[0m
  [1m[35m (6.2ms)[0m  COMMIT
Redirected to http://localhost:4100/lti_registration_wips?registration_id=48&return_url=/lti2_tp/registrations
Completed 302 Found in 132ms (ActiveRecord: 33.9ms)
Started GET "/lti_registration_wips?registration_id=48&return_url=/lti2_tp/registrations" for 127.0.0.1 at 2015-10-07 11:46:59 -0700
Processing by LtiRegistrationWipsController#index as HTML
  Parameters: {"registration_id"=>"48", "return_url"=>"/lti2_tp/registrations"}
  [1m[36mLti2Tp::Registration Load (0.4ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 48 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `lti_registration_wips` (`created_at`, `product_name`, `registration_id`, `registration_return_url`, `support_email`, `tenant_name`, `updated_at`) VALUES ('2015-10-07 18:46:59', 'Elan/LuMoS', 48, '/lti2_tp/registrations', 'john.tibbetts@kinexis.com', 'Elan University-1146.59', '2015-10-07 18:46:59')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  Rendered lti_registration_wips/_form.html.haml (123.5ms)
  Rendered lti_registration_wips/index.html.haml within layouts/application (133.0ms)
Completed 200 OK in 329ms (Views: 292.2ms | ActiveRecord: 21.6ms)
Started GET "/assets/application.css" for 127.0.0.1 at 2015-10-07 11:47:00 -0700
Started GET "/assets/formtastic.css" for 127.0.0.1 at 2015-10-07 11:47:00 -0700
Started GET "/assets/my_formtastic_changes.css" for 127.0.0.1 at 2015-10-07 11:47:00 -0700
Started PATCH "/lti_registration_wips/49" for 127.0.0.1 at 2015-10-07 11:47:03 -0700
Processing by LtiRegistrationWipsController#update as HTML
  Parameters: {"utf8"=>"✓", "lti_registration_wip"=>{"support_email"=>"john.tibbetts@kinexis.com", "product_name"=>"Elan/LuMoS", "tenant_name"=>"Elan University-1146.59"}, "commit"=>"Update Lti registration wip", "id"=>"49"}
  [1m[36mLtiRegistrationWip Load (0.3ms)[0m  [1mSELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 49 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mLti2Tp::Registration Load (0.3ms)[0m  SELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 48 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `tenant_name` = 'Elan University-1146.59', `updated_at` = '2015-10-07 18:47:03' WHERE `lti2_tp_registrations`.`id` = 48
  [1m[36m (12.4ms)[0m  [1mCOMMIT[0m
  [1m[35mLtiRegistrationWip Load (0.4ms)[0m  SELECT  `lti_registration_wips`.* FROM `lti_registration_wips`  WHERE `lti_registration_wips`.`id` = 49 LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 48 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (23.8ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE `tenants`.`tenant_name` = BINARY 'Elan University-1146.59' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `tenants` (`created_at`, `tenant_name`, `updated_at`) VALUES ('2015-10-07 18:47:03', 'Elan University-1146.59', '2015-10-07 18:47:03')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `end_registration_id` = 'b9572860-4f51-0133-896e-20c9d07c6451', `tool_proxy_json` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxy\",\"@type\":\"ToolProxy\",\"tool_proxy_guid\":\"b37e15b0-4f51-0133-896d-20c9d07c6451\",\"lti_version\":\"LTI-2p0\",\"tool_consumer_profile\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/b37f4bb0-4f51-0133-896d-20c9d07c6451\",\"tool_profile\":{\"base_url_choice\":[{\"default_base_url\":\"http://rails.kinexis.com:4100\",\"selector\":{\"applies_to\":[\"IconEndpoint\",\"MessageHandler\"]}}],\"lti_version\":\"LTI-2p0\",\"message\":[{\"message_type\":[\"ToolProxyRegistrationRequest\",\"ToolProxyReregistrationRequest\"],\"parameter\":[{\"name\":\"tc_profile_url\",\"variable\":\"ToolConsumerProfile.url\"}],\"path\":\"http://rails.kinexis.com:4100/lti2_tp/reregistrations\"}],\"product_instance\":{\"guid\":\"fd75124a-140e-470f-944c-114d2d92bb40\",\"product_info\":{\"description\":{\"default_value\":\"Fabericious reflowable ePub3 Textbook\",\"key\":\"tool.description\"},\"product_family\":{\"code\":\"assessment-tool\",\"vendor\":{\"code\":\"fabericious.org\",\"contact\":{\"email\":\"info@fabericious.com\"},\"description\":{\"default_value\":\"Fabericious is a leading provider of interactive tools for education\",\"key\":\"tool.vendor.description\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\",\"vendor_name\":{\"default_value\":\"Fab\",\"key\":\"tool.vendor.name\"},\"website\":\"{http://rails.kinexis.com:4100}\"}},\"product_name\":{\"default_value\":\"LTI2 BookTools\",\"key\":\"tool.name\"},\"product_version\":\"10.3\",\"technical_description\":{\"default_value\":\"Support provided for all LTI 1 extensions as well as LTI 2\",\"key\":\"tool.technical\"}},\"service_provider\":{\"description\":{\"default_value\":\"Provider of high performance managed hosting environments\",\"key\":\"service_provider.description\"},\"guid\":\"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c\",\"service_provider_name\":{\"default_value\":\"Amazon Cloud\",\"key\":\"service_provider.name\"},\"support\":{\"email\":\"support@ec2.fabericious.com\"},\"timestamp\":\"2012-04-05T09:08:16-04:00\"},\"support\":{\"email\":\"helpdesk@fabericious.com\"}},\"resource_handler\":[{\"description\":{\"default_value\":\"Settings service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\",\"ToolProxy.custom.url\",\"ToolProxyBinding.custom.url\",\"LtiLink.custom.url\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"tool_proxy_custom_url\",\"variable\":\"ToolProxy.custom.url\"},{\"name\":\"tool_proxy_binding_custom_url\",\"variable\":\"ToolProxyBinding.custom.url\"},{\"name\":\"lti_link_custom_url\",\"variable\":\"LtiLink.custom.url\"}],\"path\":\"/settings\"}],\"resource_name\":{\"default_value\":\"Settings\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"setting\"}},{\"description\":{\"default_value\":\"Echo service\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Person.email.primary\",\"CourseSection.label\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"Narcissus\",\"name\":\"referrer\"},{\"fixed\":\"3.14159\",\"name\":\"pi\"},{\"name\":\"user_primary_email\",\"variable\":\"Person.email.primary\"},{\"name\":\"discipline\",\"variable\":\"CourseSection.label\"}],\"path\":\"/echoes\"}],\"resource_name\":{\"default_value\":\"Echo\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Record of Performance Launch\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"fixed\":\"http://rails.kinexis.com:4100/lti2_tp/users\",\"name\":\"tp_user_service\"}],\"path\":\"/rop_launch\"}],\"resource_name\":{\"default_value\":\"Record of Performance\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"echo\"}},{\"description\":{\"default_value\":\"Interactive resource\",\"key\":\"resource.description\"},\"message\":[{\"enabled_capability\":[\"User.id\",\"Context.id\",\"CourseSection.label\",\"CourseSection.title\",\"Person.name.family\",\"Person.name.given\",\"Person.email.primary\",\"Result.autocreate\",\"Result.uri\"],\"message_type\":\"basic-lti-launch-request\",\"parameter\":[{\"name\":\"vbid\"},{\"name\":\"result_uri\",\"variable\":\"Result.uri\"}],\"path\":\"/iresources\"}],\"resource_name\":{\"default_value\":\"InteractiveResource\",\"key\":\"resource.name\"},\"resource_type\":{\"code\":\"iresource\"}}],\"service_offered\":[{\"@id\":\"http://rails.kinexis.com:4100/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"POST\"],\"endpoint\":\"http://rails.kinexis.com:4100/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"},{\"@id\":\"http://rails.kinexis.com:4100/RecordOfPerformance.collection\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:4100/record_of_performances\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance.id+json\"},{\"@id\":\"http://rails.kinexis.com:4100/RecordOfPerformance.item\",\"@type\":\"RestService\",\"action\":[\"GET\"],\"endpoint\":\"http://rails.kinexis.com:4100/record_of_performances/{rop_id}\",\"format\":\"application/vnd.ims.cbe.v1.record_of_performance+json\"}]},\"security_contract\":{\"shared_secret\":\"f05a1a0913e29d05baefeec2dfab4a9c\",\"tool_service\":[{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.collection\",\"action\":[\"POST\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxy.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:Result.item\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:LtiLinkSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxyBindingSettings\",\"action\":[\"GET\",\"PUT\"]},{\"@type\":\"RestServiceProfile\",\"service\":\"ltitcp:ToolProxySettings\",\"action\":[\"GET\",\"PUT\"]}]}}', `updated_at` = '2015-10-07 18:47:03' WHERE `lti2_tp_registrations`.`id` = 48[0m
  [1m[35m (12.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `lti2_tp_registrations` SET `status` = 'register', `tool_proxy_response` = '{\"@context\":\"http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId\",\"@type\":\"ToolProxy\",\"@id\":null,\"tool_proxy_guid\":\"b37e15b0-4f51-0133-896d-20c9d07c6451\"}', `updated_at` = '2015-10-07 18:47:03' WHERE `lti2_tp_registrations`.`id` = 48
  [1m[36m (11.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mTenant Exists (6.4ms)[0m  [1mSELECT  1 AS one FROM `tenants`  WHERE (`tenants`.`tenant_name` = BINARY 'Elan University-1146.59' AND `tenants`.`id` != 46) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `tenants` SET `secret` = 'f05a1a0913e29d05baefeec2dfab4a9c', `tenant_key` = 'b37e15b0-4f51-0133-896d-20c9d07c6451', `updated_at` = '2015-10-07 18:47:03' WHERE `tenants`.`id` = 46
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `lti2_tp_registrations` SET `final_secret` = 'f05a1a0913e29d05baefeec2dfab4a9c', `tenant_id` = 46, `updated_at` = '2015-10-07 18:47:03' WHERE `lti2_tp_registrations`.`id` = 48[0m
  [1m[35m (0.6ms)[0m  COMMIT
Redirected to http://localhost:4100/lti2_tp/registrations?status=success&tool_guid=b37e15b0-4f51-0133-896d-20c9d07c6451&&id=48
Completed 302 Found in 310ms (ActiveRecord: 91.6ms)
Started GET "/lti2_tp/registrations?status=success&tool_guid=b37e15b0-4f51-0133-896d-20c9d07c6451&&id=48" for 127.0.0.1 at 2015-10-07 11:47:03 -0700
Processing by Lti2Tp::RegistrationsController#index as HTML
  Parameters: {"status"=>"success", "tool_guid"=>"b37e15b0-4f51-0133-896d-20c9d07c6451", "id"=>"48"}
  [1m[36mLti2Tp::Registration Load (0.3ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`id` = 48 LIMIT 1[0m
Redirected to http://rails.kinexis.com:4000/admin/tool_actions?status=success&tool_guid=b37e15b0-4f51-0133-896d-20c9d07c6451
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started POST "/record_of_performances" for 127.0.0.1 at 2015-10-07 11:47:26 -0700
Processing by RecordOfPerformancesController#create as HTML
AuthHdr_Parms: {:oauth_consumer_key=>"b37e15b0-4f51-0133-896d-20c9d07c6451", :oauth_nonce=>"578144272311", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1444243645", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"ZjJDNwX8CaNa3IHl/DLmHnzYp4k=", :oauth_signature=>"sP/8rBuLTPo1wV3P8CoYgEznj5c="}
  [1m[35mTenant Load (0.4ms)[0m  SELECT  `tenants`.* FROM `tenants`  WHERE `tenants`.`tenant_key` = 'b37e15b0-4f51-0133-896d-20c9d07c6451'  ORDER BY `tenants`.`id` ASC LIMIT 1
  [1m[36mLti2Tp::Registration Load (0.5ms)[0m  [1mSELECT  `lti2_tp_registrations`.* FROM `lti2_tp_registrations`  WHERE `lti2_tp_registrations`.`tenant_id` = 46  ORDER BY `lti2_tp_registrations`.`id` ASC LIMIT 1[0m
AuthHdr_Parms: {:oauth_consumer_key=>"b37e15b0-4f51-0133-896d-20c9d07c6451", :oauth_nonce=>"578144272311", :oauth_signature_method=>"HMAC-SHA1", :oauth_timestamp=>"1444243645", :oauth_version=>"1.0", :oauth_callback=>"about:blank", :oauth_body_hash=>"ZjJDNwX8CaNa3IHl/DLmHnzYp4k=", :oauth_signature=>"sP/8rBuLTPo1wV3P8CoYgEznj5c="}
in verify_signature
RecordOfPerformance as received: 
{
  "@context": {
    "@vocab": "http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/"
  },
  "@id": "http://rails.kinexis.com:4000/c6aedd00-4f51-0133-896d-20c9d07c6451",
  "@type": "RecordOfPerformance",
  "created_at": "2015-10-07T11:47:25-07:00",
  "tool_consumer_profile": {
    "@id": "http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/",
    "lti_version": "LTI-2p0",
    "product_name": "Elan/LuMoS",
    "service_provider_name": "Elan University"
  },
  "user": {
    "@id": "http://rails.kinexis.com:4000/users/6",
    "familyName": "Arne",
    "givenName": "Tom",
    "email": "tarne@hotmail.com",
    "sourced_id": 0
  },
  "organization": {
    "@id": "http://rails.kinexis.com:4000/organizations/3",
    "legal_name": "IMS Learning Institute, LLC",
    "website": "ili.imsglobal.org"
  },
  "program": {
    "@id": "http://rails.kinexis.com:4000/programs/3",
    "label": "Master of Business Admin FP",
    "degree_level": "MBA",
    "courses": [
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/21",
        "label": "MBA-FP6004-1",
        "title": "MBA-FP 6004 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/39",
            "label": "",
            "statement": "Examine the use of critical, strategic, and ethical thinking in decision-making",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/40",
            "label": "mba6004-1",
            "statement": "Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/41",
            "label": "mba6004-2",
            "statement": "Integrate business strategies into general business management planning and decision-making.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/42",
            "label": "mba6004-3",
            "statement": "Analyze relevant global business concerns for the future.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/43",
            "label": "mba6004-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/23",
        "label": "MBA-FP6006-1",
        "title": "MBA-FP 6006 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/44",
            "label": "mba6006-1",
            "statement": "Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/45",
            "label": "mba6006-2",
            "statement": "Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/46",
            "label": "mba6006-3",
            "statement": "Assess what leaders of innovation do to shape organizational culture and processes.",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/47",
            "label": "mba6006-4",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.",
            "achievement": "Basic"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/24",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/48",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/49",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/50",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/51",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/52",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "NonProficient"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/29",
        "label": "MBA-FP6008-1",
        "title": "MBA-FP 6008 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/48",
            "label": "mba6008-1",
            "statement": "Apply the theories, models, and practices of economic theory to create value for the firm.",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/49",
            "label": "mba6008-2",
            "statement": "Assess the impact of ethical and regulatory considerations on economic decisions",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/50",
            "label": "mba6008-3",
            "statement": "Analyze the macroeconomic environment of corporate operations",
            "achievement": "Basic"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/51",
            "label": "mba6008-4",
            "statement": "Analyze the microeconomic environment of corporate operations",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/52",
            "label": "mba6008-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.",
            "achievement": "Distinguished"
          }
        ]
      },
      {
        "@id": "http://rails.kinexis.com:4000/course_sections/30",
        "label": "MBA-FP6012-1",
        "title": "MBA-FP 6012 Section 1",
        "competencies": [
          {
            "@id": "http://rails.kinexis.com:4000/competencies/53",
            "label": "mba6012-1",
            "statement": "Apply theories, models, and practices of marketing",
            "achievement": "Proficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/54",
            "label": "mba6012-2",
            "statement": "Integrate fundamental principles and applications of marketing to address business problems.",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/55",
            "label": "mba6012-3",
            "statement": "Develop innovative and sustainable solutions to strategic marketing challenges",
            "achievement": "Distinguished"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/56",
            "label": "mba6012-4",
            "statement": "Integrate marketing analyses into general business management planning and decision making",
            "achievement": "NonProficient"
          },
          {
            "@id": "http://rails.kinexis.com:4000/competencies/57",
            "label": "mba6012-5",
            "statement": "Communicate in a manner that is professional and consistent with expectations for members of the business professions",
            "achievement": "NonProficient"
          }
        ]
      }
    ]
  },
  "signature": {
    "type": "GraphSignature2012",
    "creator": "http://rails.kinexis.com:4000/users/6",
    "created": "2015-10-07T11:47:25-07:00",
    "signatureValue": "pf22qsGJO8WAlWVTK77Lu/gsTSakFt1qP3qUu6KdAWUjAbP4FKV2lLRAmfm26zjmObsUodDYtOQCOJJ+OKFMrLNodP4HNMC+jzLQB6+p0vJ2sAECXzqsE/KDbgMh3tzhpm0cYzg1llUda/dpNcARw29IuxOxJg+l5+f65LpVHtg="
  }
}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `record_of_performances` (`created_at`, `extracted_at`, `organization_name`, `product_name`, `rop_id`, `rop_json`, `service_provider_name`, `updated_at`) VALUES ('2015-10-07 18:47:26', '2015-10-07 18:47:25', 'IMS Learning Institute, LLC', 'Elan/LuMoS', 'http://rails.kinexis.com:4000/c6aedd00-4f51-0133-896d-20c9d07c6451', '{\"@context\":{\"@vocab\":\"http://purl.kinexis.com:8888/ctx/cbe/v1/record_of_performance/\"},\"@id\":\"http://rails.kinexis.com:4000/c6aedd00-4f51-0133-896d-20c9d07c6451\",\"@type\":\"RecordOfPerformance\",\"created_at\":\"2015-10-07T11:47:25-07:00\",\"tool_consumer_profile\":{\"@id\":\"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/\",\"lti_version\":\"LTI-2p0\",\"product_name\":\"Elan/LuMoS\",\"service_provider_name\":\"Elan University\"},\"user\":{\"@id\":\"http://rails.kinexis.com:4000/users/6\",\"familyName\":\"Arne\",\"givenName\":\"Tom\",\"email\":\"tarne@hotmail.com\",\"sourced_id\":0},\"organization\":{\"@id\":\"http://rails.kinexis.com:4000/organizations/3\",\"legal_name\":\"IMS Learning Institute, LLC\",\"website\":\"ili.imsglobal.org\"},\"program\":{\"@id\":\"http://rails.kinexis.com:4000/programs/3\",\"label\":\"Master of Business Admin FP\",\"degree_level\":\"MBA\",\"courses\":[{\"@id\":\"http://rails.kinexis.com:4000/course_sections/21\",\"label\":\"MBA-FP6004-1\",\"title\":\"MBA-FP 6004 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/39\",\"label\":\"\",\"statement\":\"Examine the use of critical, strategic, and ethical thinking in decision-making\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/40\",\"label\":\"mba6004-1\",\"statement\":\"Integrate the Internet, collaboration, and virtual environment strategies into general business management planning and decision-making.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/41\",\"label\":\"mba6004-2\",\"statement\":\"Integrate business strategies into general business management planning and decision-making.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/42\",\"label\":\"mba6004-3\",\"statement\":\"Analyze relevant global business concerns for the future.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/43\",\"label\":\"mba6004-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Basic\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/23\",\"label\":\"MBA-FP6006-1\",\"title\":\"MBA-FP 6006 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/44\",\"label\":\"mba6006-1\",\"statement\":\"Analyze contemporary leadership models and practices from the perspective of innovation in a global environment.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/45\",\"label\":\"mba6006-2\",\"statement\":\"Assess the behaviors that drive innovation and how leaders can use those behaviors to create innovative organizations.\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/46\",\"label\":\"mba6006-3\",\"statement\":\"Assess what leaders of innovation do to shape organizational culture and processes.\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/47\",\"label\":\"mba6006-4\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.\",\"achievement\":\"Basic\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/24\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/48\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/49\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/50\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/51\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/52\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"NonProficient\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/29\",\"label\":\"MBA-FP6008-1\",\"title\":\"MBA-FP 6008 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/48\",\"label\":\"mba6008-1\",\"statement\":\"Apply the theories, models, and practices of economic theory to create value for the firm.\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/49\",\"label\":\"mba6008-2\",\"statement\":\"Assess the impact of ethical and regulatory considerations on economic decisions\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/50\",\"label\":\"mba6008-3\",\"statement\":\"Analyze the macroeconomic environment of corporate operations\",\"achievement\":\"Basic\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/51\",\"label\":\"mba6008-4\",\"statement\":\"Analyze the microeconomic environment of corporate operations\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/52\",\"label\":\"mba6008-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions.ply collaborative techniques to the virtual environment.\",\"achievement\":\"Distinguished\"}]},{\"@id\":\"http://rails.kinexis.com:4000/course_sections/30\",\"label\":\"MBA-FP6012-1\",\"title\":\"MBA-FP 6012 Section 1\",\"competencies\":[{\"@id\":\"http://rails.kinexis.com:4000/competencies/53\",\"label\":\"mba6012-1\",\"statement\":\"Apply theories, models, and practices of marketing\",\"achievement\":\"Proficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/54\",\"label\":\"mba6012-2\",\"statement\":\"Integrate fundamental principles and applications of marketing to address business problems.\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/55\",\"label\":\"mba6012-3\",\"statement\":\"Develop innovative and sustainable solutions to strategic marketing challenges\",\"achievement\":\"Distinguished\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/56\",\"label\":\"mba6012-4\",\"statement\":\"Integrate marketing analyses into general business management planning and decision making\",\"achievement\":\"NonProficient\"},{\"@id\":\"http://rails.kinexis.com:4000/competencies/57\",\"label\":\"mba6012-5\",\"statement\":\"Communicate in a manner that is professional and consistent with expectations for members of the business professions\",\"achievement\":\"NonProficient\"}]}]},\"signature\":{\"type\":\"GraphSignature2012\",\"creator\":\"http://rails.kinexis.com:4000/users/6\",\"created\":\"2015-10-07T11:47:25-07:00\",\"signatureValue\":\"pf22qsGJO8WAlWVTK77Lu/gsTSakFt1qP3qUu6KdAWUjAbP4FKV2lLRAmfm26zjmObsUodDYtOQCOJJ+OKFMrLNodP4HNMC+jzLQB6+p0vJ2sAECXzqsE/KDbgMh3tzhpm0cYzg1llUda/dpNcARw29IuxOxJg+l5+f65LpVHtg=\"}}', 'Elan University', '2015-10-07 18:47:26')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  Rendered text template (0.0ms)
Completed 200 OK in 50ms (Views: 2.2ms | ActiveRecord: 21.8ms)
Started GET "/record_of_performance" for 127.0.0.1 at 2015-10-07 11:49:58 -0700
Started GET "/record_of_performances" for 127.0.0.1 at 2015-10-07 11:50:04 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (0.4ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
  Rendered text template (0.0ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms)
Started GET "/record_of_performances/9" for 127.0.0.1 at 2015-10-07 11:50:12 -0700
Processing by RecordOfPerformancesController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mRecordOfPerformance Load (0.6ms)[0m  SELECT  `record_of_performances`.* FROM `record_of_performances`  WHERE `record_of_performances`.`id` = 9 LIMIT 1
  Rendered text template (0.0ms)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.6ms)
Started GET "/record_of_performances" for 127.0.0.1 at 2015-10-07 11:56:36 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[36mRecordOfPerformance Load (0.7ms)[0m  [1mSELECT `record_of_performances`.* FROM `record_of_performances`[0m
  Rendered text template (0.1ms)
Completed 200 OK in 14ms (Views: 2.2ms | ActiveRecord: 0.7ms)
Started GET "/users" for 127.0.0.1 at 2015-10-07 11:56:48 -0700
Started GET "/record_of_performances" for 127.0.0.1 at 2015-10-07 11:56:59 -0700
Processing by RecordOfPerformancesController#index as HTML
  [1m[35mRecordOfPerformance Load (0.4ms)[0m  SELECT `record_of_performances`.* FROM `record_of_performances`
  Rendered text template (0.0ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms)
